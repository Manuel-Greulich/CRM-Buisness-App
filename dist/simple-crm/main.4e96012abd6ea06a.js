"use strict";(self.webpackChunksimple_crm=self.webpackChunksimple_crm||[]).push([[179],{2011:(mt,Te,N)=>{N.d(Te,{Dh:()=>de,GT:()=>De,cc:()=>Le,on:()=>Pe,pX:()=>ce,xv:()=>ve});var c=N(4650),V=N(127);mt=N.hmd(mt);const P=["ngOnDestroy"],ce=(ae,fe,et,nt={})=>new Proxy(ae,{get:(xe,Ce)=>et.runOutsideAngular(()=>{var ge;if(ae[Ce])return!(null===(ge=nt?.spy)||void 0===ge)&&ge.get&&nt.spy.get(Ce,ae[Ce]),ae[Ce];if(P.indexOf(Ce)>-1)return()=>{};const Be=fe.toPromise().then(ie=>{const re=ie&&ie[Ce];return"function"==typeof re?re.bind(ie):re&&re.then?re.then(pe=>et.run(()=>pe)):et.run(()=>re)});return new Proxy(()=>{},{get:(ie,re)=>Be[re],apply:(ie,re,pe)=>Be.then(Z=>{var Q;const le=Z&&Z(...pe);return!(null===(Q=nt?.spy)||void 0===Q)&&Q.apply&&nt.spy.apply(Ce,pe,le),le})})})}),De=(ae,fe)=>{fe.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(nt=>{Object.defineProperty(ae.prototype,nt,Object.getOwnPropertyDescriptor(et.prototype||et,nt))})})};class we{constructor(fe){return fe}}const de=new c.OlP("angularfire2.app.options"),ve=new c.OlP("angularfire2.app.name");function Pe(ae,fe,et){const xe="object"==typeof et&&et||{};xe.name=xe.name||"string"==typeof et&&et||"[DEFAULT]";const ge=V.Z.apps.filter(Be=>Be&&Be.name===xe.name)[0]||fe.runOutsideAngular(()=>V.Z.initializeApp(ae,xe));try{JSON.stringify(ae)!==JSON.stringify(ge.options)&&G("error",`${ge.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(ge)}const G=(ae,...fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ae](...fe)};function Le(ae,fe,et,nt,xe){const[,Ce,ge]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===ae)||[];if(Ce)return function Ne(ae,fe){try{return ae.toString()===fe.toString()}catch{return ae===fe}}(xe,ge)||(Qe("error",`${fe} was already initialized on the ${et} Firebase App with different settings.${be?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:xe,was:ge})),Ce;{const Be=nt();return globalThis.\u0275AngularfireInstanceCache.push([ae,Be,xe]),Be}}const be=!!mt.hot,Qe=(ae,...fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ae](...fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8554:(mt,Te,N)=>{N.d(Te,{$:()=>Sl,A:()=>W,B:()=>Ne,G:()=>ba,H:()=>fr,J:()=>Es,L:()=>rn,M:()=>Fp,N:()=>Lp,P:()=>Oy,Q:()=>Ed,R:()=>Ry,T:()=>Dd,U:()=>Fo,V:()=>Vo,W:()=>cy,X:()=>J0,Y:()=>Dl,Z:()=>Dt,_:()=>eC,a:()=>eo,a0:()=>py,a1:()=>ui,a2:()=>Hc,a3:()=>Md,a4:()=>my,a5:()=>tC,a6:()=>ri,a7:()=>ts,a8:()=>Al,a9:()=>Js,aA:()=>Bl,aB:()=>vr,aC:()=>Bn,aD:()=>Vn,aE:()=>ht,aI:()=>Ta,aL:()=>Ia,aa:()=>nC,ab:()=>kd,ac:()=>Od,af:()=>yy,ag:()=>vy,ah:()=>zp,ak:()=>Cl,al:()=>Cy,an:()=>Ey,ao:()=>jd,ap:()=>Gt,aq:()=>pe,ar:()=>Je,as:()=>dt,at:()=>nt,au:()=>Pa,av:()=>Nr,aw:()=>xe,ax:()=>ie,ay:()=>Q,az:()=>en,b:()=>Ho,c:()=>Ln,d:()=>rm,e:()=>Jd,f:()=>Yn,g:()=>sm,h:()=>Jt,i:()=>eu,j:()=>os,k:()=>ah,l:()=>ft,m:()=>Fr,n:()=>By,o:()=>ve,r:()=>Ss,s:()=>ns,u:()=>nm});var c=N(5861),V=N(2090),P=N(9681),ce=N(655),De=N(1877),we=N(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},be=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new De.Yd("@firebase/auth");function et(w,...g){fe.logLevel<=De.in.ERROR&&fe.error(`Auth (${P.SDK_VERSION}): ${w}`,...g)}function nt(w,...g){throw Be(w,...g)}function xe(w,...g){return Be(w,...g)}function Ce(w,g,y){const E=Object.assign(Object.assign({},be()),{[g]:y});return new V.LL("auth","Firebase",E).create(g,{appName:w.name})}function ge(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&nt(w,"argument-error"),Ce(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(w,...g){if("string"!=typeof w){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Qe.create(w,...g)}function ie(w,g,...y){if(!w)throw Be(g,...y)}function re(w){const g="INTERNAL ASSERTION FAILED: "+w;throw et(g),new Error(g)}function pe(w,g){w||re(g)}const Z=new Map;function Q(w){pe(w instanceof Function,"Expected a class definition");let g=Z.get(w);return g?(pe(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Z.set(w,g),g)}function ke(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Re(){return"http:"===ut()||"https:"===ut()}function ut(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ue{constructor(g,y){this.shortDelay=g,this.longDelay=y,pe(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Re()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(w,g){pe(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class vi{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qt=new Ue(3e4,6e4);function Bt(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Ot(w,g,y,E){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(w,g,y,E,A={}){return Ao(w,A,(0,c.Z)(function*(){let k={},ee={};E&&("GET"===g?ee=E:k={body:JSON.stringify(E)});const _e=(0,V.xO)(Object.assign({key:w.config.apiKey},ee)).slice(1),je=yield w._getAdditionalHeaders();return je["Content-Type"]="application/json",w.languageCode&&(je["X-Firebase-Locale"]=w.languageCode),vi.fetch()(Qr(w,w.config.apiHost,y,_e),Object.assign({method:g,headers:je,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Ao(w,g,y){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(w,g,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},fn),g);try{const A=new Xi(w),k=yield Promise.race([y(),A.promise]);A.clearNetworkTimeout();const ee=yield k.json();if("needConfirmation"in ee)throw xi(w,"account-exists-with-different-credential",ee);if(k.ok&&!("errorMessage"in ee))return ee;{const _e=k.ok?ee.errorMessage:ee.error.message,[je,tt]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw xi(w,"credential-already-in-use",ee);if("EMAIL_EXISTS"===je)throw xi(w,"email-already-in-use",ee);if("USER_DISABLED"===je)throw xi(w,"user-disabled",ee);const Mt=E[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ce(w,Mt,tt);nt(w,Mt)}}catch(A){if(A instanceof V.ZR)throw A;nt(w,"network-request-failed")}})).apply(this,arguments)}function Pn(w,g,y,E){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(w,g,y,E,A={}){const k=yield Ot(w,g,y,E,A);return"mfaPendingCredential"in k&&nt(w,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Qr(w,g,y,E){const A=`${g}${y}?${E}`;return w.config.emulator?hn(w.config,A):`${w.config.apiScheme}://${A}`}class Xi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(xe(this.auth,"network-request-failed")),Qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xi(w,g,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const A=xe(w,g,E);return A.customData._tokenResponse=y,A}function Ys(){return(Ys=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Xe(w,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ti(w,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function hr(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Nn(){return(Nn=(0,c.Z)(function*(w,g=!1){const y=(0,V.m9)(w),E=yield y.getIdToken(g),A=ot(E);ie(A&&A.exp&&A.auth_time&&A.iat,y.auth,"internal-error");const k="object"==typeof A.firebase?A.firebase:void 0,ee=k?.sign_in_provider;return{claims:A,token:E,authTime:hr(gn(A.auth_time)),issuedAtTime:hr(gn(A.iat)),expirationTime:hr(gn(A.exp)),signInProvider:ee||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(w){return 1e3*Number(w)}function ot(w){var g;const[y,E,A]=w.split(".");if(void 0===y||void 0===E||void 0===A)return et("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,V.tV)(E);return k?JSON.parse(k):(et("Failed to decode base64 JWT payload"),null)}catch(k){return et("Caught error parsing JWT payload as JSON",null===(g=k)||void 0===g?void 0:g.toString()),null}}function xt(w,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof V.ZR&&Ri(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Ri({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Oi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,c.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class wt{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pi(w){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(w){var g;const y=w.auth,E=yield w.getIdToken(),A=yield xt(w,ti(y,{idToken:E}));ie(A?.users.length,y,"internal-error");const k=A.users[0];w._notifyReloadListener(k);const ee=null!==(g=k.providerUserInfo)&&void 0!==g&&g.length?B(k.providerUserInfo):[],_e=Y(w.providerData,ee),Mt=!!w.isAnonymous&&!(w.email&&k.passwordHash||_e?.length),In={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:_e,metadata:new wt(k.createdAt,k.lastLoginAt),isAnonymous:Mt};Object.assign(w,In)})).apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(w){const g=(0,V.m9)(w);yield Pi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Y(w,g){return[...w.filter(E=>!g.some(A=>A.providerId===E.providerId)),...g]}function B(w){return w.map(g=>{var{providerId:y}=g,E=(0,ce._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function H(){return(H=(0,c.Z)(function*(w,g){const y=yield Ao(w,{},(0,c.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:k}=w.config,ee=Qr(w,A,"/v1/token",`key=${k}`),_e=yield w._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",vi.fetch()(ee,{method:"POST",headers:_e,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function lt(w){const g=ot(w);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,c.Z)(function*(){return ie(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:k,expiresIn:ee}=yield function F(w,g){return H.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(A,k,Number(ee))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:A,expirationTime:k}=y,ee=new $;return E&&(ie("string"==typeof E,"internal-error",{appName:g}),ee.refreshToken=E),A&&(ie("string"==typeof A,"internal-error",{appName:g}),ee.accessToken=A),k&&(ie("number"==typeof k,"internal-error",{appName:g}),ee.expirationTime=k),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return re("not implemented")}}function ye(w,g){ie("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class Ve{constructor(g){var{uid:y,auth:E,stsTokenManager:A}=g,k=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new wt(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,c.Z)(function*(){const E=yield xt(y,y.stsTokenManager.getToken(y.auth,g));return ie(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function An(w){return Nn.apply(this,arguments)}(this,g)}reload(){return function xr(w){return jt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Ve(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,c.Z)(function*(){let A=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),A=!0),y&&(yield Pi(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,c.Z)(function*(){const y=yield g.getIdToken();return yield xt(g,function ws(w,g){return Ys.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,A,k,ee,_e,je,tt,Mt;const In=null!==(E=y.displayName)&&void 0!==E?E:void 0,Lr=null!==(A=y.email)&&void 0!==A?A:void 0,ea=null!==(k=y.phoneNumber)&&void 0!==k?k:void 0,uh=null!==(ee=y.photoURL)&&void 0!==ee?ee:void 0,zl=null!==(_e=y.tenantId)&&void 0!==_e?_e:void 0,xs=null!==(je=y._redirectEventId)&&void 0!==je?je:void 0,ks=null!==(tt=y.createdAt)&&void 0!==tt?tt:void 0,Gl=null!==(Mt=y.lastLoginAt)&&void 0!==Mt?Mt:void 0,{uid:dh,emailVerified:hm,isAnonymous:uo,providerData:hh,stsTokenManager:fm}=y;ie(dh&&fm,g,"internal-error");const pm=$.fromJSON(this.name,fm);ie("string"==typeof dh,g,"internal-error"),ye(In,g.name),ye(Lr,g.name),ie("boolean"==typeof hm,g,"internal-error"),ie("boolean"==typeof uo,g,"internal-error"),ye(ea,g.name),ye(uh,g.name),ye(zl,g.name),ye(xs,g.name),ye(ks,g.name),ye(Gl,g.name);const fh=new Ve({uid:dh,auth:g,email:Lr,emailVerified:hm,displayName:In,isAnonymous:uo,photoURL:uh,phoneNumber:ea,tenantId:zl,stsTokenManager:pm,createdAt:ks,lastLoginAt:Gl});return hh&&Array.isArray(hh)&&(fh.providerData=hh.map(au=>Object.assign({},au))),xs&&(fh._redirectEventId=xs),fh}static _fromIdTokenResponse(g,y,E=!1){return(0,c.Z)(function*(){const A=new $;A.updateFromServerResponse(y);const k=new Ve({uid:y.localId,auth:g,stsTokenManager:A,isAnonymous:E});return yield Pi(k),k})()}}const rn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,E){var A=this;return(0,c.Z)(function*(){A.storage[y]=E})()}_get(y){var E=this;return(0,c.Z)(function*(){const A=E.storage[y];return void 0===A?null:A})()}_remove(y){var E=this;return(0,c.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function en(w,g,y){return`firebase:${w}:${g}:${y}`}class ni{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:A,name:k}=this.auth;this.fullUserKey=en(this.userKey,A.apiKey,k),this.fullPersistenceKey=en("persistence",A.apiKey,k),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Ve._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,c.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,c.Z)(function*(){if(!y.length)return new ni(Q(rn),g,E);const A=(yield Promise.all(y.map(function(){var tt=(0,c.Z)(function*(Mt){if(yield Mt._isAvailable())return Mt});return function(Mt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let k=A[0]||Q(rn);const ee=en(E,g.config.apiKey,g.name);let _e=null;for(const tt of y)try{const Mt=yield tt._get(ee);if(Mt){const In=Ve._fromJSON(g,Mt);tt!==k&&(_e=In),k=tt;break}}catch{}const je=A.filter(tt=>tt._shouldAllowMigration);return k._shouldAllowMigration&&je.length?(k=je[0],_e&&(yield k._set(ee,_e.toJSON())),yield Promise.all(y.map(function(){var tt=(0,c.Z)(function*(Mt){if(Mt!==k)try{yield Mt._remove(ee)}catch{}});return function(Mt){return tt.apply(this,arguments)}}())),new ni(k,g,E)):new ni(k,g,E)})()}}function J(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(He(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(L(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(yt(g))return"Blackberry";if(Se(g))return"Webos";if(U(g))return"Safari";if((g.includes("chrome/")||he(g))&&!g.includes("edge/"))return"Chrome";if(dt(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function L(w=(0,V.z$)()){return/firefox\//i.test(w)}function U(w=(0,V.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function he(w=(0,V.z$)()){return/crios\//i.test(w)}function He(w=(0,V.z$)()){return/iemobile/i.test(w)}function dt(w=(0,V.z$)()){return/android/i.test(w)}function yt(w=(0,V.z$)()){return/blackberry/i.test(w)}function Se(w=(0,V.z$)()){return/webos/i.test(w)}function Je(w=(0,V.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Gt(w=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function ln(w=(0,V.z$)()){return Je(w)||dt(w)||Se(w)||yt(w)||/windows phone/i.test(w)||He(w)}function Dn(w,g=[]){let y;switch(w){case"Browser":y=J((0,V.z$)());break;case"Worker":y=`${J((0,V.z$)())}-${w}`;break;default:y=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class gl{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=k=>new Promise((ee,_e)=>{try{ee(g(k))}catch(je){_e(je)}});E.onAbort=y,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,c.Z)(function*(){var E;if(y.auth.currentUser===g)return;const A=[];try{for(const k of y.queue)yield k(g),k.onAbort&&A.push(k.onAbort)}catch(k){A.reverse();for(const ee of A)try{ee()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=k)||void 0===E?void 0:E.message})}})()}}class va{constructor(g,y,E){this.app=g,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mo(this),this.idTokenSubscription=new Mo(this),this.beforeStateQueue=new gl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=Q(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,k;if(!E._deleted&&(E.persistenceManager=yield ni.create(E,g),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,c.Z)(function*(){var E;const A=yield y.assertedPersistence.getCurrentUser();let k=A,ee=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const _e=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,je=k?._redirectEventId,tt=yield y.tryRedirectSignIn(g);(!_e||_e===je)&&tt?.user&&(k=tt.user,ee=!0)}if(!k)return y.directlySetCurrentUser(null);if(!k._redirectEventId){if(ee)try{yield y.beforeStateQueue.runMiddleware(k)}catch(_e){k=A,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(_e))}return k?y.reloadAndSetCurrentUserOrClear(k):y.directlySetCurrentUser(null)}return ie(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===k._redirectEventId?y.directlySetCurrentUser(k):y.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var y=this;return(0,c.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,c.Z)(function*(){var E;try{yield Pi(g)}catch(A){if("auth/network-request-failed"!==(null===(E=A)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){const E=g?(0,V.m9)(g):null;return E&&ie(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return g&&ie(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(Q(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,c.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(y);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&Q(g)||y._popupRedirectResolver;ie(E,y,"argument-error"),y.redirectPersistenceManager=yield ni.create(y,[Q(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,c.Z)(function*(){var E,A;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,c.Z)(function*(){if(g===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,A){if(this._deleted)return()=>{};const k="function"==typeof y?y:y.next.bind(y),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ee,this,"internal-error"),ee.then(()=>k(this.currentUser)),"function"==typeof y?g.addObserver(y,E,A):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Dn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function ht(w){return(0,V.m9)(w)}class Mo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ba(w,g,y){const E=ht(w);ie(E._canInitEmulator,E,"emulator-config-failed"),ie(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const A=!!y?.disableWarnings,k=Oc(g),{host:ee,port:_e}=function xo(w){const g=Oc(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const k=A[1];return{host:k,port:ii(E.substr(k.length+1))}}{const[k,ee]=E.split(":");return{host:k,port:ii(ee)}}}(g);E.config.emulator={url:`${k}//${ee}${null===_e?"":`:${_e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ee,port:_e,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ko(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Oc(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function ii(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class fr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return re("not implemented")}_getIdTokenResponse(g){return re("not implemented")}_linkToIdToken(g,y){return re("not implemented")}_getReauthenticationResolver(g){return re("not implemented")}}function pr(w,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:resetPassword",Bt(w,g))})).apply(this,arguments)}function wd(w,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function oy(w,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:update",Bt(w,g))})).apply(this,arguments)}function yl(){return(yl=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithPassword",Bt(w,g))})).apply(this,arguments)}function kr(w,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:sendOobCode",Bt(w,g))})).apply(this,arguments)}function Po(w,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(w,g){return kr(w,g)})).apply(this,arguments)}function ay(w,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(w,g){return kr(w,g)})).apply(this,arguments)}function Ji(w,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(w,g){return kr(w,g)})).apply(this,arguments)}function wa(w,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(w,g){return kr(w,g)})).apply(this,arguments)}function Nc(){return(Nc=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithEmailLink",Bt(w,g))})).apply(this,arguments)}function Fc(){return(Fc=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithEmailLink",Bt(w,g))})).apply(this,arguments)}class vl extends fr{constructor(g,y,E,A=null){super("password",E),this._email=g,this._password=y,this._tenantId=A}static _fromEmailAndPassword(g,y){return new vl(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new vl(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function _l(w,g){return yl.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Jr(w,g){return Nc.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:nt(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return wd(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function q0(w,g){return Fc.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:nt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function No(w,g){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithIdp",Bt(w,g))})).apply(this,arguments)}class Es extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Es(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):nt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:A}=y,k=(0,ce._T)(y,["providerId","signInMethod"]);if(!E||!A)return null;const ee=new Es(E,A);return ee.idToken=k.idToken||void 0,ee.accessToken=k.accessToken||void 0,ee.secret=k.secret,ee.nonce=k.nonce,ee.pendingToken=k.pendingToken||null,ee}_getIdTokenResponse(g){return No(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,No(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,No(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,V.xO)(y)}return g}}function Z0(w,g){return kp.apply(this,arguments)}function kp(){return(kp=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:sendVerificationCode",Bt(w,g))})).apply(this,arguments)}function Rp(){return(Rp=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithPhoneNumber",Bt(w,g))})).apply(this,arguments)}function Op(){return(Op=(0,c.Z)(function*(w,g){const y=yield Pn(w,"POST","/v1/accounts:signInWithPhoneNumber",Bt(w,g));if(y.temporaryProof)throw xi(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Q0={USER_NOT_FOUND:"user-not-found"};function Pp(){return(Pp=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithPhoneNumber",Bt(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Q0)})).apply(this,arguments)}class Ea extends fr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ea({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ea({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function ly(w,g){return Rp.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function K0(w,g){return Op.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function X0(w,g){return Pp.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:A}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:A,temporaryProof:k}=g;return E||y||A||k?new Ea({verificationId:y,verificationCode:E,phoneNumber:A,temporaryProof:k}):null}}class Lc{constructor(g){var y,E,A,k,ee,_e;const je=(0,V.zd)((0,V.pd)(g)),tt=null!==(y=je.apiKey)&&void 0!==y?y:null,Mt=null!==(E=je.oobCode)&&void 0!==E?E:null,In=function Np(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=je.mode)&&void 0!==A?A:null);ie(tt&&Mt&&In,"argument-error"),this.apiKey=tt,this.operation=In,this.code=Mt,this.continueUrl=null!==(k=je.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ee=je.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(_e=je.tenantId)&&void 0!==_e?_e:null}static parseLink(g){const y=function Cd(w){const g=(0,V.zd)((0,V.pd)(w)).link,y=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(w)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||y||g||w}(g);try{return new Lc(y)}catch{return null}}}let Fp=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return vl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const A=Lc.parseLink(E);return ie(A,"argument-error"),vl._fromEmailAndCode(y,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class bi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Da extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Fo extends Da{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ie("providerId"in y&&"signInMethod"in y,"argument-error"),Es._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Fo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Fo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:k,nonce:ee,providerId:_e}=g;if(!E&&!A&&!y&&!k||!_e)return null;try{return new Fo(_e)._credential({idToken:y,accessToken:E,nonce:ee,pendingToken:k})}catch{return null}}}let Lp=(()=>{class w extends Da{constructor(){super("facebook.com")}static credential(y){return Es._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ed=(()=>{class w extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Es._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:A}=y;if(!E&&!A)return null;try{return w.credential(E,A)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Dd=(()=>{class w extends Da{constructor(){super("github.com")}static credential(y){return Es._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ia extends fr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return No(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,No(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,No(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:A,pendingToken:k}=y;return E&&A&&k&&E===A?new Ia(E,k):null}static _create(g,y){return new Ia(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vo extends bi{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Vo.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Vo.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Ia.fromJSON(g);return ie(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return Ia._create(E,y)}catch{return null}}}let cy=(()=>{class w extends Da{constructor(){super("twitter.com")}static credential(y,E){return Es._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=y;if(!E||!A)return null;try{return w.credential(E,A)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function er(w,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signUp",Bt(w,g))})).apply(this,arguments)}class gr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,A=!1){return(0,c.Z)(function*(){const k=yield Ve._fromIdTokenResponse(g,E,A),ee=wl(E);return new gr({user:k,providerId:ee,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const A=wl(E);return new gr({user:g,providerId:A,_tokenResponse:E,operationType:y})})()}}function wl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function J0(w){return uy.apply(this,arguments)}function uy(){return(uy=(0,c.Z)(function*(w){var g;const y=ht(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new gr({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield er(y,{returnSecureToken:!0}),A=yield gr._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Fn extends V.ZR{constructor(g,y,E,A){var k;super(y.code,y.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Fn.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,A){return new Fn(g,y,E,A)}}function Bp(w,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Fn._fromErrorAndOperation(w,k,g,E):k})}function dy(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Cl(w,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w);yield Ks(!0,y,g);const{providerUserInfo:E}=yield Xe(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),A=dy(E||[]);return y.providerData=y.providerData.filter(k=>A.has(k.providerId)),A.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Up(w,g){return El.apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(w,g,y=!1){const E=yield xt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return gr._forOperation(w,"link",E)})).apply(this,arguments)}function Ks(w,g,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.Z)(function*(w,g,y){yield Pi(g);const A=!1===w?"provider-already-linked":"no-such-provider";ie(dy(g.providerData).has(y)===w,g.auth,A)})).apply(this,arguments)}function Hp(w,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(w,g,y=!1){var E;const{auth:A}=w,k="reauthenticate";try{const ee=yield xt(w,Bp(A,k,g,w),y);ie(ee.idToken,A,"internal-error");const _e=ot(ee.idToken);ie(_e,A,"internal-error");const{sub:je}=_e;return ie(w.uid===je,A,"user-mismatch"),gr._forOperation(w,k,ee)}catch(ee){throw"auth/user-not-found"===(null===(E=ee)||void 0===E?void 0:E.code)&&nt(A,"user-mismatch"),ee}})).apply(this,arguments)}function hy(w,g){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(w,g,y=!1){const E="signIn",A=yield Bp(w,E,g),k=yield gr._fromIdTokenResponse(w,E,A);return y||(yield w._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Dl(w,g){return Il.apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(w,g){return hy(ht(w),g)})).apply(this,arguments)}function Dt(w,g){return Id.apply(this,arguments)}function Id(){return(Id=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w);return yield Ks(!1,y,g.providerId),Up(y,g)})).apply(this,arguments)}function eC(w,g){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(w,g){return Hp((0,V.m9)(w),g)})).apply(this,arguments)}function fy(w,g){return Td.apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(w,g){return Pn(w,"POST","/v1/accounts:signInWithCustomToken",Bt(w,g))})).apply(this,arguments)}function Sl(w,g){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,c.Z)(function*(w,g){const y=ht(w),E=yield fy(y,{token:g,returnSecureToken:!0}),A=yield gr._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class Vc{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Ee._fromServerResponse(g,y):nt(g,"internal-error")}}class Ee extends Vc{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Ee(y)}}function $t(w,g,y){var E;ie((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),ie(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ie(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ie(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function py(w,g,y){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),A={requestType:"PASSWORD_RESET",email:g};y&&$t(E,A,y),yield ay(E,A)})).apply(this,arguments)}function ui(w,g,y){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(w,g,y){yield pr((0,V.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Hc(w,g){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(w,g){yield oy((0,V.m9)(w),{oobCode:g})})).apply(this,arguments)}function Md(w,g){return jc.apply(this,arguments)}function jc(){return(jc=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w),E=yield pr(y,{oobCode:g}),A=E.requestType;switch(ie(A,y,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(E.mfaInfo,y,"internal-error");default:ie(E.email,y,"internal-error")}let k=null;return E.mfaInfo&&(k=Vc._fromServerResponse(ht(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:A}})).apply(this,arguments)}function my(w,g){return xd.apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(w,g){const{data:y}=yield Md((0,V.m9)(w),g);return y.email})).apply(this,arguments)}function tC(w,g,y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(w,g,y){const E=ht(w),A=yield er(E,{returnSecureToken:!0,email:g,password:y}),k=yield gr._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function ri(w,g,y){return Dl((0,V.m9)(w),Fp.credential(g,y))}function ts(w,g,y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),A={requestType:"EMAIL_SIGNIN",email:g};ie(y.handleCodeInApp,E,"argument-error"),y&&$t(E,A,y),yield Ji(E,A)})).apply(this,arguments)}function Al(w,g){return"EMAIL_SIGNIN"===Lc.parseLink(g)?.operation}function Js(w,g,y){return jp.apply(this,arguments)}function jp(){return(jp=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),A=Fp.credentialWithLink(g,y||ke());return ie(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Dl(E,A)})).apply(this,arguments)}function gy(w,g){return $p.apply(this,arguments)}function $p(){return($p=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:createAuthUri",Bt(w,g))})).apply(this,arguments)}function nC(w,g){return $c.apply(this,arguments)}function $c(){return($c=(0,c.Z)(function*(w,g){const E={identifier:g,continueUri:Re()?ke():"http://localhost"},{signinMethods:A}=yield gy((0,V.m9)(w),E);return A||[]})).apply(this,arguments)}function kd(w,g){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&$t(y.auth,A,g);const{email:k}=yield Po(y.auth,A);k!==w.email&&(yield w.reload())})).apply(this,arguments)}function Od(w,g,y){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&$t(E.auth,k,y);const{email:ee}=yield wa(E.auth,k);ee!==w.email&&(yield w.reload())})).apply(this,arguments)}function _y(w,g){return zc.apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(w,g){return Ot(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function yy(w,g){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,c.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,V.m9)(w),k={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ee=yield xt(E,_y(E.auth,k));E.displayName=ee.displayName||null,E.photoURL=ee.photoUrl||null;const _e=E.providerData.find(({providerId:je})=>"password"===je);_e&&(_e.displayName=E.displayName,_e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ee)})).apply(this,arguments)}function vy(w,g){return Sa((0,V.m9)(w),g,null)}function zp(w,g){return Sa((0,V.m9)(w),null,g)}function Sa(w,g,y){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,c.Z)(function*(w,g,y){const{auth:E}=w,k={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(k.email=g),y&&(k.password=y);const ee=yield xt(w,wd(E,k));yield w._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Mn{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class Ds extends Mn{constructor(g,y,E,A){super(g,y,E),this.username=A}}class xn extends Mn{constructor(g,y){super(g,"facebook.com",y)}}class Gp extends Ds{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class wy extends Mn{constructor(g,y){super(g,"google.com",y)}}class Wp extends Ds{constructor(g,y,E){super(g,"twitter.com",y,E)}}function Cy(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function by(w){var g,y;if(!w)return null;const{providerId:E}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},k=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const ee=null===(y=null===(g=ot(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ee)return new Mn(k,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!E)return null;switch(E){case"facebook.com":return new xn(k,A);case"github.com":return new Gp(k,A);case"google.com":return new wy(k,A);case"twitter.com":return new Wp(k,A,w.screenName||null);case"custom":case"anonymous":return new Mn(k,null);default:return new Mn(k,E,A)}}(y)}class yr{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new yr("enroll",g)}static _fromMfaPendingCredential(g){return new yr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return yr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return yr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ud{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=ht(g),A=y.customData._serverResponse,k=(A.mfaInfo||[]).map(_e=>Vc._fromServerResponse(E,_e));ie(A.mfaPendingCredential,E,"internal-error");const ee=yr._fromMfaPendingCredential(A.mfaPendingCredential);return new Ud(ee,k,function(){var _e=(0,c.Z)(function*(je){const tt=yield je._process(E,ee);delete A.mfaInfo,delete A.mfaPendingCredential;const Mt=Object.assign(Object.assign({},A),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(y.operationType){case"signIn":const In=yield gr._fromIdTokenResponse(E,y.operationType,Mt);return yield E._updateCurrentUser(In.user),In;case"reauthenticate":return ie(y.user,E,"internal-error"),gr._forOperation(y.user,y.operationType,Mt);default:nt(E,"internal-error")}});return function(je){return _e.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,c.Z)(function*(){return y.signInResolver(g)})()}}function Ey(w,g){var y;const E=(0,V.m9)(w),A=g;return ie(g.customData.operationType,E,"argument-error"),ie(null===(y=A.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Ud._fromError(E,A)}function Ml(w,g){return Ot(w,"POST","/v2/accounts/mfaEnrollment:start",Bt(w,g))}class Yc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Vc._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Yc(g)}getSession(){var g=this;return(0,c.Z)(function*(){return yr._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var E=this;return(0,c.Z)(function*(){const A=g,k=yield E.getSession(),ee=yield xt(E.user,A._process(E.user.auth,k,y));return yield E.user._updateTokensIfNecessary(ee),E.user.reload()})()}unenroll(g){var y=this;return(0,c.Z)(function*(){var E;const A="string"==typeof g?g:g.uid,k=yield y.user.getIdToken(),ee=yield xt(y.user,function qc(w,g){return Ot(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(w,g))}(y.user.auth,{idToken:k,mfaEnrollmentId:A}));y.enrolledFactors=y.enrolledFactors.filter(({uid:_e})=>_e!==A),yield y.user._updateTokensIfNecessary(ee);try{yield y.user.reload()}catch(_e){if("auth/user-token-expired"!==(null===(E=_e)||void 0===E?void 0:E.code))throw _e}})()}}const Dy=new WeakMap;function jd(w){const g=(0,V.m9)(w);return Dy.has(g)||Dy.set(g,Yc._fromUser(g)),Dy.get(g)}const Is="__sak";class $d{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Is,"1"),this.storage.removeItem(Is),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ho=(()=>{class w extends $d{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zd(){const w=(0,V.z$)();return U(w)||Je(w)}()&&function Xr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),k=this.localCache[E];A!==k&&y(E,k,A)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((_e,je,tt)=>{this.notifyListeners(_e,tt)});const A=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(A);if(y.newValue!==_e)null!==y.newValue?this.storage.setItem(A,y.newValue):this.storage.removeItem(A);else if(this.localCache[A]===y.newValue&&!E)return}const k=()=>{const _e=this.storage.getItem(A);!E&&this.localCache[A]===_e||this.notifyListeners(A,_e)},ee=this.storage.getItem(A);!function Ft(){return(0,V.w1)()&&10===document.documentMode}()||ee===y.newValue||y.newValue===y.oldValue?k():setTimeout(k,10)}notifyListeners(y,E){this.localCache[y]=E;const A=this.listeners[y];if(A)for(const k of Array.from(A))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var A=()=>super._set,k=this;return(0,c.Z)(function*(){yield A().call(k,y,E),k.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,A=this;return(0,c.Z)(function*(){const k=yield E().call(A,y);return A.localCache[y]=JSON.stringify(k),k})()}_remove(y){var E=()=>super._remove,A=this;return(0,c.Z)(function*(){yield E().call(A,y),delete A.localCache[y]})()}}return w.type="LOCAL",w})(),eo=(()=>{class w extends $d{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let Zc=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(k=>k.isListeningto(y));if(E)return E;const A=new w(y);return this.receivers.push(A),A}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,c.Z)(function*(){const A=y,{eventId:k,eventType:ee,data:_e}=A.data,je=E.handlersMap[ee];if(!je?.size)return;A.ports[0].postMessage({status:"ack",eventId:k,eventType:ee});const tt=Array.from(je).map(function(){var In=(0,c.Z)(function*(Lr){return Lr(A.origin,_e)});return function(Lr){return In.apply(this,arguments)}}()),Mt=yield function Gd(w){return Promise.all(w.map(function(){var g=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(tt);A.ports[0].postMessage({status:"done",eventId:k,eventType:ee,response:Mt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ta(w="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return w+y}class Ty{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var A=this;return(0,c.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ee,_e;return new Promise((je,tt)=>{const Mt=Ta("",20);k.port1.start();const In=setTimeout(()=>{tt(new Error("unsupported_event"))},E);_e={messageChannel:k,onMessage(Lr){const ea=Lr;if(ea.data.eventId===Mt)switch(ea.data.status){case"ack":clearTimeout(In),ee=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),je(ea.data.response);break;default:clearTimeout(In),clearTimeout(ee),tt(new Error("invalid_response"))}}},A.handlers.add(_e),k.port1.addEventListener("message",_e.onMessage),A.target.postMessage({eventType:g,eventId:Mt,data:y},[k.port2])}).finally(()=>{_e&&A.removeMessageHandler(_e)})})()}}function si(){return window}function Or(){return typeof si().WorkerGlobalScope<"u"&&"function"==typeof si().importScripts}function jo(){return(jo=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kl="firebaseLocalStorageDb",Ol="firebaseLocalStorage",Qc="fbase_key";class $o{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Xc(w,g){return w.transaction([Ol],g?"readwrite":"readonly").objectStore(Ol)}function Qp(){const w=indexedDB.open(kl,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ol,{keyPath:Qc})}catch(A){y(A)}}),w.addEventListener("success",(0,c.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ol)?g(E):(E.close(),yield function Kp(){const w=indexedDB.deleteDatabase(kl);return new $o(w).toPromise()}(),g(yield Qp()))}))})}function Pl(w,g,y){return to.apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(w,g,y){const E=Xc(w,!0).put({[Qc]:g,value:y});return new $o(E).toPromise()})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(w,g){const y=Xc(w,!1).get(g),E=yield new $o(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Xp(w,g){const y=Xc(w,!0).delete(g);return new $o(y).toPromise()}const eu=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield Qp()),y.db})()}_withRetries(y){var E=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const k=yield E._openDb();return yield y(k)}catch(k){if(A++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return Or()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=Zc._getInstance(function Kc(){return Or()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(A,k){return{keyProcessed:(yield y._poll()).includes(k.key)}});return function(A,k){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(A,k){return["keyChanged"]});return function(A,k){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var E,A;if(y.activeServiceWorker=yield function Ay(){return jo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Ty(y.activeServiceWorker);const k=yield y.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=k[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Wd(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Qp();return yield Pl(y,Is,"1"),yield Xp(y,Is),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(k=>Pl(k,y,E)),A.localCache[y]=E,A.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,c.Z)(function*(){const A=yield E._withRetries(k=>function My(w,g){return Jc.apply(this,arguments)}(k,y));return E.localCache[y]=A,A})()}_remove(y){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(A=>Xp(A,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const E=yield y._withRetries(ee=>{const _e=Xc(ee,!1).getAll();return new $o(_e).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const A=[],k=new Set;for(const{fbase_key:ee,value:_e}of E)k.add(ee),JSON.stringify(y.localCache[ee])!==JSON.stringify(_e)&&(y.notifyListeners(ee,_e),A.push(ee));for(const ee of Object.keys(y.localCache))y.localCache[ee]&&!k.has(ee)&&(y.notifyListeners(ee,null),A.push(ee));return A})()}notifyListeners(y,E){this.localCache[y]=E;const A=this.listeners[y];if(A)for(const k of Array.from(A))k(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function xy(w,g){return Ot(w,"POST","/v2/accounts/mfaSignIn:start",Bt(w,g))}function zo(){return(zo=(0,c.Z)(function*(w){return(yield Ot(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Aa(w){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=A=>{const k=xe("internal-error");k.customData=A,y(k)},E.type="text/javascript",E.charset="UTF-8",function Fl(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function qd(w){return`__${w}${Math.floor(1e6*Math.random())}`}const tm=1e12;class iC{constructor(g){this.auth=g,this.counter=tm,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new yn(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||tm;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||tm))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,c.Z)(function*(){var E;return null===(E=y._widgets.get(g||tm))||void 0===E||E.execute(),""})()}}class yn{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;ie(A,"argument-error",{appName:y}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rC(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ky=qd("rcb"),IA=new Ue(3e4,6e4);class TA{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=si().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return ie(function AA(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(si().grecaptcha):new Promise((E,A)=>{const k=si().setTimeout(()=>{A(xe(g,"network-request-failed"))},IA.get());si()[ky]=()=>{si().clearTimeout(k),delete si()[ky];const _e=si().grecaptcha;if(!_e)return void A(xe(g,"internal-error"));const je=_e.render;_e.render=(tt,Mt)=>{const In=je(tt,Mt);return this.counter++,In},this.hostLanguage=y,E(_e)},Aa(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:ky,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(k),A(xe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=si().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class MA{load(g){return(0,c.Z)(function*(){return new iC(g)})()}clearedOneInstance(){}}const io="recaptcha",sC={theme:"light",type:"image"};class Ry{constructor(g,y=Object.assign({},sC),E){this.parameters=y,this.type=io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(E),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;ie(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new MA:new TA,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(k=>{const ee=_e=>{!_e||(g.tokenChangeListeners.delete(ee),k(_e))};g.tokenChangeListeners.add(ee),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=si()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(Re()&&!Or(),g.auth,"internal-error"),yield function di(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function nu(w){return zo.apply(this,arguments)}(g.auth);ie(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cn{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ea._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function ns(w,g,y){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(w,g,y){const E=ht(w),A=yield kn(E,g,(0,V.m9)(y));return new cn(A,k=>Dl(E,k))})).apply(this,arguments)}function ft(w,g,y){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);yield Ks(!1,E,"phone");const A=yield kn(E.auth,g,(0,V.m9)(y));return new cn(A,k=>Dt(E,k))})).apply(this,arguments)}function Ss(w,g,y){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),A=yield kn(E.auth,g,(0,V.m9)(y));return new cn(A,k=>eC(E,k))})).apply(this,arguments)}function kn(w,g,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(w,g,y){var E;const A=yield y.verify();try{let k;if(ie("string"==typeof A,w,"argument-error"),ie(y.type===io,w,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const ee=k.session;if("phoneNumber"in k)return ie("enroll"===ee.type,w,"internal-error"),(yield Ml(w,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ie("signin"===ee.type,w,"internal-error");const _e=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return ie(_e,w,"missing-multi-factor-info"),(yield xy(w,{mfaPendingCredential:ee.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield Z0(w,{phoneNumber:k.phoneNumber,recaptchaToken:A});return ee}}finally{y._reset()}})).apply(this,arguments)}function nm(w,g){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,c.Z)(function*(w,g){yield Up((0,V.m9)(w),g)})).apply(this,arguments)}let Oy=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=ht(y)}verifyPhoneNumber(y,E){return kn(this.auth,y,(0,V.m9)(E))}static credential(y,E){return Ea._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:A}=y;return E&&A?Ea._fromTokenResponse(E,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function qo(w,g){return g?Q(g):(ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class im extends fr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return No(g,this._buildIdpRequest())}_linkToIdToken(g,y){return No(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return No(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Yo(w){return hy(w.auth,new im(w),w.bypassAuthState)}function Ye(w){const{auth:g,user:y}=w;return ie(y,g,"internal-error"),Hp(y,new im(w),w.bypassAuthState)}function Zd(w){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(w){const{auth:g,user:y}=w;return ie(y,g,"internal-error"),Up(y,new im(w),w.bypassAuthState)})).apply(this,arguments)}class Kd{constructor(g,y,E,A,k=!1){this.auth=g,this.resolver=E,this.user=A,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,c.Z)(function*(E,A){g.pendingPromise={resolve:E,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(E,A){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:k,tenantId:ee,error:_e,type:je}=g;if(_e)return void y.reject(_e);const tt={auth:y.auth,requestUri:E,sessionId:A,tenantId:ee||void 0,postBody:k||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(je)(tt))}catch(Mt){y.reject(Mt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Yo;case"linkViaPopup":case"linkViaRedirect":return Zd;case"reauthViaPopup":case"reauthViaRedirect":return Ye;default:nt(this.auth,"internal-error")}}resolve(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qd=new Ue(2e3,1e4);function Ln(w,g,y){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,c.Z)(function*(w,g,y){const E=ht(w);ge(w,g,bi);const A=qo(E,y);return new Vl(E,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Jd(w,g,y){return eh.apply(this,arguments)}function eh(){return(eh=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ge(E.auth,g,bi);const A=qo(E.auth,y);return new Vl(E.auth,"reauthViaPopup",g,A,E).executeNotNull()})).apply(this,arguments)}function rm(w,g,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ge(E.auth,g,bi);const A=qo(E.auth,y);return new Vl(E.auth,"linkViaPopup",g,A,E).executeNotNull()})).apply(this,arguments)}let Vl=(()=>{class w extends Kd{constructor(y,E,A,k,ee){super(y,E,k,ee),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const E=yield y.execute();return ie(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,c.Z)(function*(){pe(1===y.filter.length,"Popup operations only handle one event");const E=Ta();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(A=>{y.reject(A)}),y.resolver._isIframeWebStorageSupported(y.auth,A=>{A||y.reject(xe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Qd.get())};y()}}return w.currentPopupAction=null,w})();const is=new Map;class oo extends Kd{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,c.Z)(function*(){let E=is.get(y.auth._key());if(!E){try{const k=(yield function th(w,g){return wi.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(k)}catch(A){E=()=>Promise.reject(A)}is.set(y.auth._key(),E)}return y.bypassAuthState||is.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const A=yield E.auth._redirectUserForId(g.eventId);if(A)return E.user=A,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function wi(){return(wi=(0,c.Z)(function*(w,g){const y=co(g),E=lo(w);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(y));return yield E._remove(y),A})).apply(this,arguments)}function ao(w,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(w,g){return lo(w)._set(co(g),"true")})).apply(this,arguments)}function Vn(){is.clear()}function Bn(w,g){is.set(w._key(),g)}function lo(w){return Q(w._redirectPersistence)}function co(w){return en("pendingRedirect",w.config.apiKey,w.name)}function Yn(w,g,y){return function At(w,g,y){return zn.apply(this,arguments)}(w,g,y)}function zn(){return(zn=(0,c.Z)(function*(w,g,y){const E=ht(w);ge(w,g,bi);const A=qo(E,y);return yield ao(A,E),A._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Jt(w,g,y){return function oi(w,g,y){return ss.apply(this,arguments)}(w,g,y)}function ss(){return(ss=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ge(E.auth,g,bi);const A=qo(E.auth,y);yield ao(A,E.auth);const k=yield Ma(E);return A._openRedirect(E.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function sm(w,g,y){return function Py(w,g,y){return Pr.apply(this,arguments)}(w,g,y)}function Pr(){return(Pr=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ge(E.auth,g,bi);const A=qo(E.auth,y);yield Ks(!1,E,g.providerId),yield ao(A,E.auth);const k=yield Ma(E);return A._openRedirect(E.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function os(w,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.Z)(function*(w,g){return yield ht(w)._initializationPromise,vr(w,g,!1)})).apply(this,arguments)}function vr(w,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(w,g,y=!1){const E=ht(w),A=qo(E,g),ee=yield new oo(E,A,y).execute();return ee&&!y&&(delete ee.user._redirectEventId,yield E._persistUserIfCurrent(ee.user),yield E._setRedirectUser(null,g)),ee})).apply(this,arguments)}function Ma(w){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(w){const g=Ta(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Bl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Lt(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ul(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Ul(g)){const A=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(xe(this.auth,A))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ra(g))}saveEventToCache(g){this.cachedEventUids.add(Ra(g)),this.lastProcessedEventTime=Date.now()}}function Ra(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Ul({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Nr(w){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(w,g={}){return Ot(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;function br(){return(br=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Nr(w);for(const y of g)try{if(Ny(y))return}catch{}nt(w,"unauthorized-domain")})).apply(this,arguments)}function Ny(w){const g=ke(),{protocol:y,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const ee=new URL(w);return""===ee.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ee.hostname===E}if(!oC.test(y))return!1;if(Oa.test(w))return E===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const am=new Ue(3e4,6e4);function nh(){const w=si().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Rn=null;function Ts(w){return Rn=Rn||function aC(w){return new Promise((g,y)=>{var E,A,k;function ee(){nh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{nh(),y(xe(w,"network-request-failed"))},timeout:am.get()})}if(null!==(A=null===(E=si().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(k=si().gapi)||void 0===k||!k.load){const _e=qd("iframefcb");return si()[_e]=()=>{gapi.load?ee():y(xe(w,"network-request-failed"))},Aa(`https://apis.google.com/js/api.js?onload=${_e}`).catch(je=>y(je))}ee()}}).catch(g=>{throw Rn=null,g})}(w),Rn}const ih=new Ue(5e3,15e3),rh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sh(w){const g=w.config;ie(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?hn(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:w.name,v:P.SDK_VERSION},A=Fy.get(w.config.apiHost);A&&(E.eid=A);const k=w._getFrameworks();return k.length&&(E.fw=k.join(",")),`${y}?${(0,V.xO)(E).slice(1)}`}function iu(){return iu=(0,c.Z)(function*(w){const g=yield Ts(w),y=si().gapi;return ie(y,w,"internal-error"),g.open({where:document.body,url:sh(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rh,dontclear:!0},E=>new Promise(function(){var A=(0,c.Z)(function*(k,ee){yield E.restyle({setHideOnLeave:!1});const _e=xe(w,"network-request-failed"),je=si().setTimeout(()=>{ee(_e)},ih.get());function tt(){si().clearTimeout(je),k(E)}E.ping(tt).then(tt,()=>{ee(_e)})});return function(k,ee){return A.apply(this,arguments)}}()))}),iu.apply(this,arguments)}const Hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pa(w,g,y,E,A,k){ie(w.config.authDomain,w,"auth-domain-config-required"),ie(w.config.apiKey,w,"invalid-api-key");const ee={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:A};if(g instanceof bi){g.setDefaultLanguage(w.languageCode),ee.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[je,tt]of Object.entries(k||{}))ee[je]=tt}if(g instanceof Da){const je=g.getScopes().filter(tt=>""!==tt);je.length>0&&(ee.scopes=je.join(","))}w.tenantId&&(ee.tid=w.tenantId);const _e=ee;for(const je of Object.keys(_e))void 0===_e[je]&&delete _e[je];return`${function Jo({config:w}){return w.emulator?hn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,V.xO)(_e).slice(1)}`}const Na="webStorageSupport",ah=class $l{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eo,this._completeRedirectFn=vr,this._overrideRedirectResult=Bn}_openPopup(g,y,E,A){var k=this;return(0,c.Z)(function*(){var ee;pe(null===(ee=k.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const _e=Pa(g,y,E,ke(),A);return function su(w,g,y,E=500,A=600){const k=Math.max((window.screen.availHeight-A)/2,0).toString(),ee=Math.max((window.screen.availWidth-E)/2,0).toString();let _e="";const je=Object.assign(Object.assign({},Hl),{width:E.toString(),height:A.toString(),top:k,left:ee}),tt=(0,V.z$)().toLowerCase();y&&(_e=he(tt)?"_blank":y),L(tt)&&(g=g||"http://localhost",je.scrollbars="yes");const Mt=Object.entries(je).reduce((Lr,[ea,uh])=>`${Lr}${ea}=${uh},`,"");if(function En(w=(0,V.z$)()){var g;return Je(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(tt)&&"_self"!==_e)return function Ms(w,g){const y=document.createElement("a");y.href=w,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",_e),new jl(null);const In=window.open(g||"",_e,Mt);ie(In,w,"popup-blocked");try{In.focus()}catch{}return new jl(In)}(g,_e,Ta())})()}_openRedirect(g,y,E,A){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(g),function Zp(w){si().location.href=w}(Pa(g,y,E,ke(),A)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:A,promise:k}=this.eventManagers[y];return A?Promise.resolve(A):(pe(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,c.Z)(function*(){const E=yield function cm(w){return iu.apply(this,arguments)}(g),A=new Bl(g);return E.register("authEvent",k=>(ie(k?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:A},y.iframes[g._key()]=E,A})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Na,{type:Na},A=>{var k;const ee=null===(k=A?.[0])||void 0===k?void 0:k[Na];void 0!==ee&&y(!!ee),nt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function om(w){return br.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return ln()||U()||Je()}};class lh extends class ou{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new lh(g)}_finalizeEnroll(g,y,E){return function Hd(w,g){return Ot(w,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(w,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function tu(w,g){return Ot(w,"POST","/v2/accounts/mfaSignIn:finalize",Bt(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fr=(()=>{class w{constructor(){}static assertion(y){return lh._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var as="@firebase/auth";class dm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var A;g((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function By(w=(0,P.getApp)()){const g=(0,P._getProvider)(w,"auth");return g.isInitialized()?g.getImmediate():function le(w,g){const y=(0,P._getProvider)(w,"auth");if(y.isInitialized()){const A=y.getImmediate(),k=y.getOptions();if((0,V.vZ)(k,g??{}))return A;nt(A,"already-initialized")}return y.initialize({options:g})}(w,{popupRedirectResolver:ah,persistence:[eu,Ho,eo]})}!function Vy(w){(0,P._registerComponent)(new we.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:k,authDomain:ee}=E.options;return((_e,je)=>{ie(k&&!k.includes(":"),"invalid-api-key",{appName:_e.name}),ie(!ee?.includes(":"),"argument-error",{appName:_e.name});const tt={apiKey:k,authDomain:ee,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dn(w)},Mt=new va(_e,je,tt);return function ne(w,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(Q);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(Mt,y),Mt})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new we.wA("auth-internal",g=>{const y=ht(g.getProvider("auth").getImmediate());return new dm(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(as,"0.20.6",function Ly(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(as,"0.20.6","esm2017")}("Browser")},2090:(mt,Te,N)=>{N.d(Te,{$s:()=>Pi,BH:()=>Le,DV:()=>Ot,G6:()=>ie,GJ:()=>Qt,L:()=>ve,LL:()=>ke,Mn:()=>ge,Pz:()=>zt,Sg:()=>Ne,UG:()=>ae,UI:()=>Ao,US:()=>we,Yr:()=>Be,ZB:()=>W,ZR:()=>ne,b$:()=>nt,cI:()=>Zt,d:()=>xe,dS:()=>ot,eu:()=>pe,g5:()=>P,gK:()=>Zs,gQ:()=>ws,h$:()=>de,hl:()=>re,hu:()=>V,jU:()=>fe,m9:()=>jt,ne:()=>Ys,p$:()=>G,pd:()=>xi,r3:()=>Bt,ru:()=>et,tV:()=>Pe,uI:()=>Qe,ug:()=>lt,vZ:()=>Kr,w1:()=>Ce,w9:()=>fn,xO:()=>Qr,xb:()=>Mi,z$:()=>be,zI:()=>Z,zd:()=>Xi});const V=function(Y,B){if(!Y)throw P(B)},P=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},ce=function(Y){const B=[];let F=0;for(let H=0;H<Y.length;H++){let $=Y.charCodeAt(H);$<128?B[F++]=$:$<2048?(B[F++]=$>>6|192,B[F++]=63&$|128):55296==(64512&$)&&H+1<Y.length&&56320==(64512&Y.charCodeAt(H+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++H)),B[F++]=$>>18|240,B[F++]=$>>12&63|128,B[F++]=$>>6&63|128,B[F++]=63&$|128):(B[F++]=$>>12|224,B[F++]=$>>6&63|128,B[F++]=63&$|128)}return B},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,B){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let $=0;$<Y.length;$+=3){const ye=Y[$],Ve=$+1<Y.length,gt=Ve?Y[$+1]:0,rn=$+2<Y.length,en=rn?Y[$+2]:0;let L=(15&gt)<<2|en>>6,U=63&en;rn||(U=64,Ve||(L=64)),H.push(F[ye>>2],F[(3&ye)<<4|gt>>4],F[L],F[U])}return H.join("")},encodeString(Y,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(Y):this.encodeByteArray(ce(Y),B)},decodeString(Y,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(Y):function(Y){const B=[];let F=0,H=0;for(;F<Y.length;){const $=Y[F++];if($<128)B[H++]=String.fromCharCode($);else if($>191&&$<224){const ye=Y[F++];B[H++]=String.fromCharCode((31&$)<<6|63&ye)}else if($>239&&$<365){const rn=((7&$)<<18|(63&Y[F++])<<12|(63&Y[F++])<<6|63&Y[F++])-65536;B[H++]=String.fromCharCode(55296+(rn>>10)),B[H++]=String.fromCharCode(56320+(1023&rn))}else{const ye=Y[F++],Ve=Y[F++];B[H++]=String.fromCharCode((15&$)<<12|(63&ye)<<6|63&Ve)}}return B.join("")}(this.decodeStringToByteArray(Y,B))},decodeStringToByteArray(Y,B){this.init_();const F=B?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let $=0;$<Y.length;){const ye=F[Y.charAt($++)],gt=$<Y.length?F[Y.charAt($)]:0;++$;const en=$<Y.length?F[Y.charAt($)]:64;++$;const J=$<Y.length?F[Y.charAt($)]:64;if(++$,null==ye||null==gt||null==en||null==J)throw Error();H.push(ye<<2|gt>>4),64!==en&&(H.push(gt<<4&240|en>>2),64!==J&&H.push(en<<6&192|J))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},de=function(Y){const B=ce(Y);return we.encodeByteArray(B,!0)},ve=function(Y){return de(Y).replace(/\./g,"")},Pe=function(Y){try{return we.decodeString(Y,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function G(Y){return W(void 0,Y)}function W(Y,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return B}for(const F in B)!B.hasOwnProperty(F)||!X(F)||(Y[F]=W(Y[F],B[F]));return Y}function X(Y){return"__proto__"!==Y}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,F)=>{this.resolve=B,this.reject=F})}wrapCallback(B){return(F,H)=>{F?this.reject(F):this.resolve(H),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(F):B(F,H))}}}function Ne(Y,B){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=B||"demo-project",$=Y.iat||0,ye=Y.sub||Y.user_id;if(!ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:$,exp:$+3600,auth_time:$,sub:ye,user_id:ye,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Ve)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fe(){return"object"==typeof self&&self.self===self}function et(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xe(){return be().indexOf("Electron/")>=0}function Ce(){const Y=be();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ge(){return be().indexOf("MSAppHost/")>=0}function Be(){return!1}function ie(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){return"object"==typeof indexedDB}function pe(){return new Promise((Y,B)=>{try{let F=!0;const H="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(H);$.onsuccess=()=>{$.result.close(),F||self.indexedDB.deleteDatabase(H),Y(!0)},$.onupgradeneeded=()=>{F=!1},$.onerror=()=>{var ye;B((null===(ye=$.error)||void 0===ye?void 0:ye.message)||"")}}catch(F){B(F)}})}function Z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(B,F,H){super(F),this.code=B,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(B,F,H){this.service=B,this.serviceName=F,this.errors=H}create(B,...F){const H=F[0]||{},$=`${this.service}/${B}`,ye=this.errors[B],Ve=ye?function Re(Y,B){return Y.replace(ut,(F,H)=>{const $=B[H];return null!=$?String($):`<${H}?>`})}(ye,H):"Error";return new ne($,`${this.serviceName}: ${Ve} (${$}).`,H)}}const ut=/\{\$([^}]+)}/g;function Zt(Y){return JSON.parse(Y)}function zt(Y){return JSON.stringify(Y)}const Ue=function(Y){let B={},F={},H={},$="";try{const ye=Y.split(".");B=Zt(Pe(ye[0])||""),F=Zt(Pe(ye[1])||""),$=ye[2],H=F.d||{},delete F.d}catch{}return{header:B,claims:F,data:H,signature:$}},fn=function(Y){const F=Ue(Y).claims;return!!F&&"object"==typeof F&&F.hasOwnProperty("iat")},Qt=function(Y){const B=Ue(Y).claims;return"object"==typeof B&&!0===B.admin};function Bt(Y,B){return Object.prototype.hasOwnProperty.call(Y,B)}function Ot(Y,B){if(Object.prototype.hasOwnProperty.call(Y,B))return Y[B]}function Mi(Y){for(const B in Y)if(Object.prototype.hasOwnProperty.call(Y,B))return!1;return!0}function Ao(Y,B,F){const H={};for(const $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(H[$]=B.call(F,Y[$],$,Y));return H}function Kr(Y,B){if(Y===B)return!0;const F=Object.keys(Y),H=Object.keys(B);for(const $ of F){if(!H.includes($))return!1;const ye=Y[$],Ve=B[$];if(Pn(ye)&&Pn(Ve)){if(!Kr(ye,Ve))return!1}else if(ye!==Ve)return!1}for(const $ of H)if(!F.includes($))return!1;return!0}function Pn(Y){return null!==Y&&"object"==typeof Y}function Qr(Y){const B=[];for(const[F,H]of Object.entries(Y))Array.isArray(H)?H.forEach($=>{B.push(encodeURIComponent(F)+"="+encodeURIComponent($))}):B.push(encodeURIComponent(F)+"="+encodeURIComponent(H));return B.length?"&"+B.join("&"):""}function Xi(Y){const B={};return Y.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[$,ye]=H.split("=");B[decodeURIComponent($)]=decodeURIComponent(ye)}}),B}function xi(Y){const B=Y.indexOf("?");if(!B)return"";const F=Y.indexOf("#",B);return Y.substring(B,F>0?F:void 0)}class ws{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,F){F||(F=0);const H=this.W_;if("string"==typeof B)for(let J=0;J<16;J++)H[J]=B.charCodeAt(F)<<24|B.charCodeAt(F+1)<<16|B.charCodeAt(F+2)<<8|B.charCodeAt(F+3),F+=4;else for(let J=0;J<16;J++)H[J]=B[F]<<24|B[F+1]<<16|B[F+2]<<8|B[F+3],F+=4;for(let J=16;J<80;J++){const L=H[J-3]^H[J-8]^H[J-14]^H[J-16];H[J]=4294967295&(L<<1|L>>>31)}let en,ni,$=this.chain_[0],ye=this.chain_[1],Ve=this.chain_[2],gt=this.chain_[3],rn=this.chain_[4];for(let J=0;J<80;J++){J<40?J<20?(en=gt^ye&(Ve^gt),ni=1518500249):(en=ye^Ve^gt,ni=1859775393):J<60?(en=ye&Ve|gt&(ye|Ve),ni=2400959708):(en=ye^Ve^gt,ni=3395469782);const L=($<<5|$>>>27)+en+rn+ni+H[J]&4294967295;rn=gt,gt=Ve,Ve=4294967295&(ye<<30|ye>>>2),ye=$,$=L}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+ye&4294967295,this.chain_[2]=this.chain_[2]+Ve&4294967295,this.chain_[3]=this.chain_[3]+gt&4294967295,this.chain_[4]=this.chain_[4]+rn&4294967295}update(B,F){if(null==B)return;void 0===F&&(F=B.length);const H=F-this.blockSize;let $=0;const ye=this.buf_;let Ve=this.inbuf_;for(;$<F;){if(0===Ve)for(;$<=H;)this.compress_(B,$),$+=this.blockSize;if("string"==typeof B){for(;$<F;)if(ye[Ve]=B.charCodeAt($),++Ve,++$,Ve===this.blockSize){this.compress_(ye),Ve=0;break}}else for(;$<F;)if(ye[Ve]=B[$],++Ve,++$,Ve===this.blockSize){this.compress_(ye),Ve=0;break}}this.inbuf_=Ve,this.total_+=F}digest(){const B=[];let F=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&F,F/=256;this.compress_(this.buf_);let H=0;for(let $=0;$<5;$++)for(let ye=24;ye>=0;ye-=8)B[H]=this.chain_[$]>>ye&255,++H;return B}}function Ys(Y,B){const F=new Xe(Y,B);return F.subscribe.bind(F)}class Xe{constructor(B,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{B(this)}).catch(H=>{this.error(H)})}next(B){this.forEachObserver(F=>{F.next(B)})}error(B){this.forEachObserver(F=>{F.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,F,H){let $;if(void 0===B&&void 0===F&&void 0===H)throw new Error("Missing Observer.");$=function ti(Y,B){if("object"!=typeof Y||null===Y)return!1;for(const F of B)if(F in Y&&"function"==typeof Y[F])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:F,complete:H},void 0===$.next&&($.next=mn),void 0===$.error&&($.error=mn),void 0===$.complete&&($.complete=mn);const ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),ye}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,B)}sendOne(B,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{F(this.observers[B])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function Zs(Y,B){return`${Y} failed: ${B} argument `}const ot=function(Y){const B=[];let F=0;for(let H=0;H<Y.length;H++){let $=Y.charCodeAt(H);if($>=55296&&$<=56319){const ye=$-55296;H++,V(H<Y.length,"Surrogate pair missing trail surrogate."),$=65536+(ye<<10)+(Y.charCodeAt(H)-56320)}$<128?B[F++]=$:$<2048?(B[F++]=$>>6|192,B[F++]=63&$|128):$<65536?(B[F++]=$>>12|224,B[F++]=$>>6&63|128,B[F++]=63&$|128):(B[F++]=$>>18|240,B[F++]=$>>12&63|128,B[F++]=$>>6&63|128,B[F++]=63&$|128)}return B},lt=function(Y){let B=0;for(let F=0;F<Y.length;F++){const H=Y.charCodeAt(F);H<128?B++:H<2048?B+=2:H>=55296&&H<=56319?(B+=4,F++):B+=3}return B};function Pi(Y,B=1e3,F=2){const H=B*Math.pow(F,Y),$=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+$)}function jt(Y){return Y&&Y._delegate?Y._delegate:Y}},2112:(mt,Te,N)=>{var c=N(4650);let V=null;function P(){return V}const de=new c.OlP("DocumentToken");let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Pe(){return(0,c.LFG)(W)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let W=(()=>{class n extends ve{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){X()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){X()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Le(){return new W((0,c.LFG)(de))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(et)},providedIn:"root"}),n})();const fe=new c.OlP("appBaseHref");let et=(()=>{class n extends ae{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ne(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+Qe(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+Qe(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ve),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n extends ae{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ne(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+Qe(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+Qe(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ve),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=be(Be(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qe(i))}normalize(e){return n.stripTrailingSlash(function ge(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Be(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Ne,n.stripTrailingSlash=be,n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(){return new xe((0,c.LFG)(ae))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}let Xt=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class yl{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new yl(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,l),Oo(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Oo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Oo(n,t){n.context.$implicit=t.item}let _n=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ay,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){gi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){gi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ay{constructor(){this.$implicit=null,this.ngIf=null}}function gi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Ji{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Cs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),wa=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ji(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Cs,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Fc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),l=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class Y0{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Es{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Z0=new Es,kp=new Y0;let ly=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return Z0;if((0,c.F4k)(e))return kp;throw function mr(n,t){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Lo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Vo="browser";function wl(n){return"server"===n}let Bp=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new dy((0,c.LFG)(de),window)}),n})();class dy{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Bi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Cl(this.window.history)||Cl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Cl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sa extends class zp extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function De(n){V||(V=n)}(new Sa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function by(){return Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null}();return null==e?null:function Ds(n){Mn=Mn||document.createElement("a"),Mn.setAttribute("href",n);const t=Mn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function wd(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Mn,Bo=null;const xn=new c.OlP("TRANSITION_ID"),wy=[{provide:c.ip1,useFactory:function Gp(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[xn,de,c.zs3],multi:!0}];let Cy=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Fd=new c.OlP("EventManagerPlugins");let Ld=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Fd),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Gc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Wc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Uo=(()=>{class n extends Wc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Vd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Vd))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Vd(n){P().remove(n)}const Bd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qp=/%COMP%/g;function qc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?qc(n,r,e):(r=r.replace(qp,n),e.push(r))}return e}function Yc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let jd=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Is(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Yp(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new Iy(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=qc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ld),c.LFG(Uo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Is{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Bd[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(xl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(xl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Bd[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Bd[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yc(i)):this.eventManager.addEventListener(t,e,Yc(i))}}function xl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Yp extends Is{constructor(t,e,i,r){super(t),this.component=i;const s=qc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Ml(n){return"_ngcontent-%COMP%".replace(qp,n)}(r+"-"+i.id),this.hostAttr=function Hd(n){return"_nghost-%COMP%".replace(qp,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Iy extends Is{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=qc(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ho=(()=>{class n extends Gc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sy=["alt","control","meta","shift"],eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zc=(()=>{class n extends Gc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),Sy.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),l+=_+".")}),l+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(e,i){let r=eo[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Sy.forEach(l=>{l!==r&&(0,Gd[l])(e)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const kl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Vo},{provide:c.g9A,useValue:function Ay(){Sa.makeCurrent()},multi:!0},{provide:de,useFactory:function Wd(){return(0,c.RDi)(document),document},deps:[]}]),Rl=new c.OlP(""),Ol=[{provide:c.rWj,useClass:class Wp{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const d=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Qc=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function jo(){return new c.qLn},deps:[]},{provide:Fd,useClass:Ho,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:Fd,useClass:Zc,multi:!0,deps:[de]},{provide:jd,useClass:jd,deps:[Ld,Uo,c.AFp]},{provide:c.FYo,useExisting:jd},{provide:Wc,useExisting:Uo},{provide:Uo,useClass:Uo,deps:[de]},{provide:Ld,useClass:Ld,deps:[Fd,c.R0b]},{provide:class El{},useClass:Cy,deps:[]},[]];let $o=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:xn,useExisting:c.AFp},wy]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Qc,...Ol],imports:[Lo,c.hGG]}),n})(),to=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Pl(){return new to((0,c.LFG)(de))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let io=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(Ry),i},providedIn:"root"}),n})(),Ry=(()=>{class n extends io{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function sC(n){return new Ry(n.get(de))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var cn=N(8996),ns=N(3269);function We(...n){const t=(0,ns.yG)(n);return(0,cn.D)(n,t)}var ft=N(7579);class vn extends ft.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Go=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var kn=N(9751);const{isArray:Wo}=Array,{getPrototypeOf:nm,prototype:Yd,keys:Oy}=Object;function qo(n){if(1===n.length){const t=n[0];if(Wo(t))return{args:t,keys:null};if(function im(n){return n&&"object"==typeof n&&nm(n)===Yd}(t)){const e=Oy(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Yo=N(4671),Ye=N(4004);const{isArray:Zd}=Array;function Kd(n){return(0,Ye.U)(t=>function ro(n,t){return Zd(t)?n(...t):n(t)}(n,t))}function Qd(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Ln=N(5403),Xd=N(9672);function Jd(...n){const t=(0,ns.yG)(n),e=(0,ns.jO)(n),{args:i,keys:r}=qo(n);if(0===i.length)return(0,cn.D)([],t);const s=new kn.y(function eh(n,t,e=Yo.y){return i=>{rm(t,()=>{const{length:r}=n,s=new Array(r);let l=r,d=r;for(let p=0;p<r;p++)rm(t,()=>{const _=(0,cn.D)(n[p],t);let b=!1;_.subscribe((0,Ln.x)(i,D=>{s[p]=D,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>Qd(r,l):Yo.y));return e?s.pipe(Kd(e)):s}function rm(n,t,e){n?(0,Xd.f)(e,n,t):t()}var Zo=N(8189);function so(...n){return function Vl(){return(0,Zo.J)(1)}()((0,cn.D)(n,(0,ns.yG)(n)))}var is=N(8421);function oo(n){return new kn.y(t=>{(0,is.Xf)(n()).subscribe(t)})}var th=N(9635),wi=N(576);function ao(n,t){const e=(0,wi.m)(n)?n:()=>n,i=r=>r.error(e());return new kn.y(t?r=>t.schedule(i,0,r):i)}var rs=N(515),Vn=N(727),Bn=N(4482);function lo(){return(0,Bn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ln.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class co extends kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Bn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Vn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ln.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Vn.w0.EMPTY)}return t}refCount(){return lo()(this)}}function Yn(n,t){return(0,Bn.e)((e,i)=>{let r=null,s=0,l=!1;const d=()=>l&&!r&&i.complete();e.subscribe((0,Ln.x)(i,p=>{r?.unsubscribe();let _=0;const b=s++;(0,is.Xf)(n(p,b)).subscribe(r=(0,Ln.x)(i,D=>i.next(t?t(p,D,b,_++):D),()=>{r=null,d()}))},()=>{l=!0,d()}))})}function At(n){return n<=0?()=>rs.E:(0,Bn.e)((t,e)=>{let i=0;t.subscribe((0,Ln.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function zn(...n){const t=(0,ns.yG)(n);return(0,Bn.e)((e,i)=>{(t?so(n,e,t):so(n,e)).subscribe(i)})}function Jt(n,t){return(0,Bn.e)((e,i)=>{let r=0;e.subscribe((0,Ln.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var oi=N(5577);function ss(n){return(0,Bn.e)((t,e)=>{let i=!1;t.subscribe((0,Ln.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function sm(n=Py){return(0,Bn.e)((t,e)=>{let i=!1;t.subscribe((0,Ln.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Py(){return new Go}function Pr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Jt((r,s)=>n(r,s,i)):Yo.y,At(1),e?ss(t):sm(()=>new Go))}function os(n,t){return(0,wi.m)(t)?(0,oi.z)(n,t,1):(0,oi.z)(n,1)}function pn(n,t,e){const i=(0,wi.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,Bn.e)((r,s)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let d=!0;r.subscribe((0,Ln.x)(s,p=>{var _;null===(_=i.next)||void 0===_||_.call(i,p),s.next(p)},()=>{var p;d=!1,null===(p=i.complete)||void 0===p||p.call(i),s.complete()},p=>{var _;d=!1,null===(_=i.error)||void 0===_||_.call(i,p),s.error(p)},()=>{var p,_;d&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(_=i.finalize)||void 0===_||_.call(i)}))}):Yo.y}function vr(n){return(0,Bn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Ln.x)(e,void 0,void 0,l=>{s=(0,is.Xf)(n(l,vr(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Ko(n,t,e,i,r){return(s,l)=>{let d=e,p=t,_=0;s.subscribe((0,Ln.x)(l,b=>{const D=_++;p=d?n(p,b,D):(d=!0,b),i&&l.next(p)},r&&(()=>{d&&l.next(p),l.complete()})))}}function Ma(n,t){return(0,Bn.e)(Ko(n,t,arguments.length>=2,!0))}function xa(n){return n<=0?()=>rs.E:(0,Bn.e)((t,e)=>{let i=[];t.subscribe((0,Ln.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ka(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Jt((r,s)=>n(r,s,i)):Yo.y,xa(1),e?ss(t):sm(()=>new Go))}function Ra(n){return(0,Ye.U)(()=>n)}function Ul(n){return(0,Bn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Lt="primary",Nr=Symbol("RouteTitle");class Qo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Oa(n){return new Qo(n)}function oC(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],d=n[s];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function br(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Ny(n[r],t[r]))return!1;return!0}function Ny(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function am(n){return Array.prototype.concat.apply([],n)}function nh(n){return n.length>0?n[n.length-1]:null}function Rn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ts(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,cn.D)(Promise.resolve(n)):We(n)}const lC={exact:function cm(n,t,e){if(!Ms(n.segments,t.segments)||!As(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!cm(n.children[i],t.children[i],e))return!1;return!0},subset:Hl},rh={exact:function sh(n,t){return br(n,t)},subset:function iu(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ny(n[e],t[e]))},ignored:()=>!0};function Fy(n,t,e){return lC[e.paths](n.root,t.root,e.matrixParams)&&rh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Hl(n,t,e){return ru(n,t,t.segments,e)}function ru(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ms(r,e)||t.hasChildren()||!As(r,e,i))}if(n.segments.length===e.length){if(!Ms(n.segments,e)||!As(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Hl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ms(n.segments,r)&&As(n.segments,r,i)&&n.children[Lt])&&ru(n.children[Lt],t,s,i)}}function As(n,t,e){return t.every((i,r)=>rh[e](n[r].parameters,i.parameters))}class Xo{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return Jo.serialize(this)}}class Ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Na(this)}}class jl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return dm(this)}}function Ms(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let oh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Pa},providedIn:"root"}),n})();class Pa{parse(t){const e=new k(t);return new Xo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${$l(t.root,!0)}`,i=function Vy(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ou(e)}=${ou(r)}`).join("&"):`${ou(e)}=${ou(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function lh(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Jo=new Pa;function Na(n){return n.segments.map(t=>dm(t)).join("/")}function $l(n,t){if(!n.hasChildren())return Na(n);if(t){const e=n.children[Lt]?$l(n.children[Lt],!1):"",i=[];return Rn(n.children,(r,s)=>{s!==Lt&&i.push(`${s}:${$l(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function um(n,t){let e=[];return Rn(n.children,(i,r)=>{r===Lt&&(e=e.concat(t(i,r)))}),Rn(n.children,(i,r)=>{r!==Lt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Lt?[$l(n.children[Lt],!1)]:[`${r}:${$l(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${Na(n)}/${e[0]}`:`${Na(n)}/(${e.join("//")})`}}function ah(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ou(n){return ah(n).replace(/%3B/gi,";")}function Fr(n){return ah(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function as(n){return decodeURIComponent(n)}function ch(n){return as(n.replace(/\+/g,"%20"))}function dm(n){return`${Fr(n.path)}${function Ly(n){return Object.keys(n).map(t=>`;${Fr(t)}=${Fr(n[t])}`).join("")}(n.parameters)}`}const By=/^[^\/()?;=#]+/;function w(n){const t=n.match(By);return t?t[0]:""}const g=/^[^=?&#]+/,E=/^[^&#]+/;class k{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Lt]=new Ut(t,e)),i}parseSegment(){const t=w(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new jl(as(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=w(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=w(this.remaining);r&&(i=r,this.capture(i))}t[as(e)]=as(i)}parseQueryParam(t){const e=function y(n){const t=n.match(g);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function A(n){const t=n.match(E);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=ch(e),s=ch(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=w(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Lt);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[Lt]:new Ut([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function ee(n){return n.segments.length>0?new Ut([],{[Lt]:n}):n}function _e(n){const t={};for(const i of Object.keys(n.children)){const s=_e(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function je(n){if(1===n.numberOfChildren&&n.children[Lt]){const t=n.children[Lt];return new Ut(n.segments.concat(t.segments),t.children)}return n}(new Ut(n.segments,t))}function tt(n){return n instanceof Xo}function uh(n,t,e,i,r){if(0===e.length)return ks(t.root,t.root,t.root,i,r);const s=function hm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Rn(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new dh(e,t,i)}(e);return s.toRoot()?ks(t.root,t.root,new Ut([],{}),i,r):function l(p){const _=function fm(n,t,e,i){if(n.isAbsolute)return new uo(t.root,!0,0);if(-1===i)return new uo(e,e===t.root,0);return function pm(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new uo(i,!1,r-s)}(e,i+(zl(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),b=_.processChildren?Fa(_.segmentGroup,_.index,s.commands):au(_.segmentGroup,_.index,s.commands);return ks(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function zl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xs(n){return"object"==typeof n&&null!=n&&n.outlets}function ks(n,t,e,i,r){let l,s={};i&&Rn(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),l=n===t?e:Gl(n,t,e);const d=ee(_e(l));return new Xo(d,s,r)}function Gl(n,t,e){const i={};return Rn(n.children,(r,s)=>{i[s]=r===t?e:Gl(r,t,e)}),new Ut(n.segments,i)}class dh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&zl(i[0]))throw new c.vHH(4003,!1);const r=i.find(xs);if(r&&r!==nh(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uo{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function au(n,t,e){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return Fa(n,t,e);const i=function cC(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],d=e[i];if(xs(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!uC(p,_,l))return s;i+=2}else{if(!uC(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ut(n.segments.slice(0,i.pathIndex),{});return s.children[Lt]=new Ut(n.segments.slice(i.pathIndex),n.children),Fa(s,0,r)}return i.match&&0===r.length?new Ut(n.segments,{}):i.match&&!n.hasChildren()?ph(n,t,e):i.match?Fa(n,0,r):ph(n,t,e)}function Fa(n,t,e){if(0===e.length)return new Ut(n.segments,{});{const i=function fh(n){return xs(n[0])?n[0].outlets:{[Lt]:n}}(e),r={};return Rn(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=au(n.children[l],t,s))}),Rn(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new Ut(n.segments,r)}}function ph(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(xs(s)){const p=xA(s.outlets);return new Ut(i,p)}if(0===r&&zl(e[0])){i.push(new jl(n.segments[t].path,Zn(e[0]))),r++;continue}const l=xs(s)?s.outlets[Lt]:`${s}`,d=r<e.length-1?e[r+1]:null;l&&d&&zl(d)?(i.push(new jl(l,Zn(d))),r+=2):(i.push(new jl(l,{})),r++)}return new Ut(i,{})}function xA(n){const t={};return Rn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ph(new Ut([],{}),0,e))}),t}function Zn(n){const t={};return Rn(n,(e,i)=>t[i]=`${e}`),t}function uC(n,t,e){return n==e.path&&br(t,e.parameters)}class ta{constructor(t,e){this.id=t,this.url=e}}class mh extends ta{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class La extends ta{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mm extends ta{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dC extends ta{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kA extends ta{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RA extends ta{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OA extends ta{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vL extends ta{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bL extends ta{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gh{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uy{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hC{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fC{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pC{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PA{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hy{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gC(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=gC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return jy(t,this._root).map(e=>e.value)}}function gC(n,t){if(n===t.value)return t;for(const e of t.children){const i=gC(n,e);if(i)return i}return null}function jy(n,t){if(n===t.value)return[t];for(const e of t.children){const i=jy(n,e);if(i.length)return i.unshift(t),i}return[]}class Rs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $y extends gm{constructor(t,e){super(t),this.snapshot=e,na(this,t)}toString(){return this.snapshot.toString()}}function Va(n,t){const e=function NA(n,t){const l=new lu([],{},{},"",{},Lt,t,null,n.root,-1,{});return new yh("",new Rs(l,[]))}(n,t),i=new vn([new jl("",{})]),r=new vn({}),s=new vn({}),l=new vn({}),d=new vn(""),p=new ho(i,r,l,d,s,Lt,t,e.root);return p.snapshot=e.root,new $y(new Rs(p,[]),e)}class ho{constructor(t,e,i,r,s,l,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,Ye.U)(_=>_[Nr]))??We(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(t=>Oa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(t=>Oa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _h(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function FA(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class lu{constructor(t,e,i,r,s,l,d,p,_,b,D,T){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.[Nr],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._correctedLastPathIndex=T??b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yh extends gm{constructor(t,e){super(e),this.url=t,na(this,e)}toString(){return zy(this._root)}}function na(n,t){t.value._routerState=n,t.children.forEach(e=>na(n,e))}function zy(n){const t=n.children.length>0?` { ${n.children.map(zy).join(", ")} } `:"";return`${n.value}${t}`}function vh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,br(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),br(t.params,e.params)||n.params.next(e.params),function om(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!br(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),br(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Gy(n,t){const e=br(n.params,t.params)&&function su(n,t){return Ms(n,t)&&n.every((e,i)=>br(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Gy(n.parent,t.parent))}function cu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function uu(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cu(n,i,r);return cu(n,i)})}(n,t,e);return new Rs(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(d=>cu(n,d)),l}}const i=function VA(n){return new ho(new vn(n.url),new vn(n.params),new vn(n.queryParams),new vn(n.fragment),new vn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>cu(n,s));return new Rs(i,r)}}const Wy="ngNavigationCancelingError";function _C(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=tt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=yC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function yC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Wy]=!0,i.cancellationCode=t,e&&(i.url=e),i}function _m(n){return vC(n)&&tt(n.url)}function vC(n){return n&&n[Wy]}class bC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new bh,this.attachRef=null}}let bh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new bC,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wh=!1;let wC=(()=>{class n{constructor(e,i,r,s,l){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||Lt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,wh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,wh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,wh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,wh);this._activatedRoute=e;const r=this.location,l=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new BA(e,d,r.injector);if(i&&function Ch(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(l);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(bh),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class BA{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ho?this.route:t===bh?this.childContexts:this.parent.get(t,e)}}let qy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[wC],encapsulation:2}),n})();function ql(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function vm(n){const t=n.children&&n.children.map(vm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=qy),e}function wr(n){return n.outlet||Lt}function EC(n,t){const e=n.filter(i=>wr(i)===t);return e.push(...n.filter(i=>wr(i)!==t)),e}function Eh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class CL{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),vh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Wl(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Rn(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Wl(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Wl(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Wl(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new PA(s.value.snapshot))}),t.children.length&&this.forwardEvent(new fC(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(vh(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),vh(d.route.value),this.activateChildRoutes(t,null,l.children)}else{const d=Eh(r.snapshot),p=d?.get(c._Vd)??null;l.attachRef=null,l.route=r,l.resolver=p,l.injector=d,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class $A{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class du{constructor(t,e){this.component=t,this.route=e}}function EL(n,t,e){const i=n._root;return bm(i,t?t._root:null,e,[i.value])}function Dh(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function bm(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wl(t);return n.children.forEach(l=>{(function IL(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function zA(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ms(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ms(n.url,t.url)||!br(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gy(n,t)||!br(n.queryParams,t.queryParams);default:return!Gy(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new $A(i)):(s.data=l.data,s._resolvedData=l._resolvedData),bm(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new du(d.outlet.component,l))}else l&&hu(t,d,r),r.canActivateChecks.push(new $A(i)),bm(n,null,s.component?d?d.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),Rn(s,(l,d)=>hu(l,e.getContext(d),r)),r}function hu(n,t,e){const i=Wl(n),r=n.value;Rn(i,(s,l)=>{hu(s,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new du(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Yl(n){return"function"==typeof n}function Xy(n){return n instanceof Go||"EmptyError"===n?.name}const Cm=Symbol("INITIAL_VALUE");function Zl(){return Yn(n=>Jd(n.map(t=>t.pipe(At(1),zn(Cm)))).pipe((0,Ye.U)(t=>{for(const e of t)if(!0!==e){if(e===Cm)return Cm;if(!1===e||e instanceof Xo)return e}return!0}),Jt(t=>t!==Cm),At(1)))}function AC(n){return(0,th.z)(pn(t=>{if(tt(t))throw _C(0,t)}),(0,Ye.U)(t=>!0===t))}const Ni={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Em(n,t,e,i,r){const s=Dm(n,t,e);return s.matched?function eM(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?We(r.map(l=>{const d=Dh(l,n);return Ts(function Qy(n){return n&&Yl(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Zl(),AC()):We(!0)}(i=ql(t,i),t,e).pipe((0,Ye.U)(l=>!0===l?s:{...Ni})):We(s)}function Dm(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ni}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||oC)(e,n,t);if(!r)return{...Ni};const s={};Rn(r.posParams,(d,p)=>{s[p]=d.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function fu(n,t,e,i,r="corrected"){if(e.length>0&&function ev(n,t,e){return e.some(i=>Im(n,t,i)&&wr(i)!==Lt)}(n,e,i)){const l=new Ut(t,function Ih(n,t,e,i){const r={};r[Lt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&wr(s)!==Lt){const l=new Ut([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[wr(s)]=l}return r}(n,t,i,new Ut(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function tM(n,t,e){return e.some(i=>Im(n,t,i))}(n,e,i)){const l=new Ut(n.segments,function Ui(n,t,e,i,r,s){const l={};for(const d of i)if(Im(n,e,d)&&!r[wr(d)]){const p=new Ut([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[wr(d)]=p}return{...r,...l}}(n,t,e,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new Ut(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Im(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function tv(n,t,e,i){return!!(wr(n)===i||i!==Lt&&Im(t,e,n))&&("**"===n.path||Dm(t,n,e).matched)}function MC(n,t,e){return 0===t.length&&!n.children[e]}const Sh=!1;class Sm{constructor(t){this.segmentGroup=t||null}}class nv{constructor(t){this.urlTree=t}}function Th(n){return ao(new Sm(n))}function xC(n){return ao(new nv(n))}class pu{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=fu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Lt).pipe((0,Ye.U)(s=>this.createUrlTree(_e(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vr(s=>{if(s instanceof nv)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sm?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Lt).pipe((0,Ye.U)(r=>this.createUrlTree(_e(r),t.queryParams,t.fragment))).pipe(vr(r=>{throw r instanceof Sm?this.noMatchError(r):r}))}noMatchError(t){return new c.vHH(4002,Sh)}createUrlTree(t,e,i){const r=ee(t);return new Xo(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ye.U)(s=>new Ut([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,cn.D)(r).pipe(os(s=>{const l=i.children[s],d=EC(e,s);return this.expandSegmentGroup(t,d,l,s).pipe((0,Ye.U)(p=>({segment:p,outlet:s})))}),Ma((s,l)=>(s[l.outlet]=l.segment,s),{}),ka())}expandSegment(t,e,i,r,s,l){return(0,cn.D)(i).pipe(os(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,l).pipe(vr(_=>{if(_ instanceof Sm)return We(null);throw _}))),Pr(d=>!!d),vr((d,p)=>{if(Xy(d))return MC(e,r,s)?We(new Ut([],{})):Th(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,l,d){return tv(r,e,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l):Th(e):Th(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?xC(s):this.lineralizeSegments(i,s).pipe((0,oi.z)(l=>{const d=new Ut(l,{});return this.expandSegment(t,d,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=Dm(e,r,s);if(!d)return Th(e);const D=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?xC(D):this.lineralizeSegments(r,D).pipe((0,oi.z)(T=>this.expandSegment(t,e,i,T.concat(_),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=ql(i,t),i.loadChildren?(i._loadedRoutes?We({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ye.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Ut(r,{})))):We(new Ut(r,{}))):Em(e,i,r,t).pipe(Yn(({matched:l,consumedSegments:d,remainingSegments:p})=>l?this.getChildConfig(t=i._injector??t,i,r).pipe((0,oi.z)(b=>{const D=b.injector??t,T=b.routes,{segmentGroup:x,slicedSegments:O}=fu(e,d,p,T),j=new Ut(x.segments,x.children);if(0===O.length&&j.hasChildren())return this.expandChildren(D,T,j).pipe((0,Ye.U)(it=>new Ut(d,it)));if(0===T.length&&0===O.length)return We(new Ut(d,{}));const se=wr(i)===s;return this.expandSegment(D,j,T,O,se?Lt:s,!0).pipe((0,Ye.U)(Ge=>new Ut(d.concat(Ge.segments),Ge.children)))})):Th(e)))}getChildConfig(t,e,i){return e.children?We({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?We({routes:e._loadedRoutes,injector:e._loadedInjector}):function TC(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?We(!0):We(r.map(l=>{const d=Dh(l,n);return Ts(function IC(n){return n&&Yl(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Zl(),AC())}(t,e,i).pipe((0,oi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe(pn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function iM(n){return ao(yC(Sh,3))}())):We({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return We(i);if(r.numberOfChildren>1||!r.children[Lt])return ao(new c.vHH(4e3,Sh));r=r.children[Lt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Xo(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Rn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return Rn(e.children,(d,p)=>{l[p]=this.createSegmentGroup(t,d,i,r)}),new Ut(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,Sh);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class sM{}class kC{constructor(t,e,i,r,s,l,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=fu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Lt).pipe((0,Ye.U)(e=>{if(null===e)return null;const i=new lu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Rs(i,e),s=new yh(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=_h(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,cn.D)(Object.keys(i.children)).pipe(os(r=>{const s=i.children[r],l=EC(e,r);return this.processSegmentGroup(t,l,s,r)}),Ma((r,s)=>r&&s?(r.push(...s),r):null),function Bl(n,t=!1){return(0,Bn.e)((e,i)=>{let r=0;e.subscribe((0,Ln.x)(i,s=>{const l=n(s,r++);(l||t)&&i.next(s),!l&&i.complete()}))})}(r=>null!==r),ss(null),ka(),(0,Ye.U)(r=>{if(null===r)return null;const s=Am(r);return function AL(n){n.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,cn.D)(e).pipe(os(l=>this.processSegmentAgainstRoute(l._injector??t,l,i,r,s)),Pr(l=>!!l),vr(l=>{if(Xy(l))return MC(i,r,s)?We([]):We(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!tv(e,i,r,s))return We(null);let l;if("**"===e.path){const d=r.length>0?nh(r).parameters:{},p=RC(i)+r.length;l=We({snapshot:new lu(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OC(e),wr(e),e.component??e._loadedComponent??null,e,rv(i),p,PC(e),p),consumedSegments:[],remainingSegments:[]})}else l=Em(i,e,r,t).pipe((0,Ye.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const D=RC(i)+p.length;return{snapshot:new lu(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OC(e),wr(e),e.component??e._loadedComponent??null,e,rv(i),D,PC(e),D),consumedSegments:p,remainingSegments:_}}));return l.pipe(Yn(d=>{if(null===d)return We(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;t=e._injector??t;const D=e._loadedInjector??t,T=function fo(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:x,slicedSegments:O}=fu(i,_,b,T.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===O.length&&x.hasChildren())return this.processChildren(D,T,x).pipe((0,Ye.U)(se=>null===se?null:[new Rs(p,se)]));if(0===T.length&&0===O.length)return We([new Rs(p,[])]);const j=wr(e)===s;return this.processSegment(D,T,x,O,j?Lt:s).pipe((0,Ye.U)(se=>null===se?null:[new Rs(p,se)]))}))}}function iv(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Am(n){const t=[],e=new Set;for(const i of n){if(!iv(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Am(i.children);t.push(new Rs(i.value,r))}return t.filter(i=>!e.has(i))}function rv(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function RC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function OC(n){return n.data||{}}function PC(n){return n.resolve||{}}function lv(n){return"string"==typeof n.title||null===n.title}function cv(n){return Yn(t=>{const e=n(t);return e?(0,cn.D)(e).pipe((0,Ye.U)(()=>t)):We(t)})}let Mm=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Lt);return i}getResolvedTitleForRoute(e){return e.data[Nr]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(FC)},providedIn:"root"}),n})(),FC=(()=>{class n extends Mm{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(to))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aM{}class cM extends class lM{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ah=new c.OlP("",{providedIn:"root",factory:()=>({})}),km=new c.OlP("ROUTES");let Mh=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return We(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ts(e.loadComponent()).pipe(pn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Ul(()=>{this.componentLoaders.delete(e)})),r=new co(i,()=>new ft.x).pipe(lo());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return We({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ye.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=am(p.get(km,[],c.XFs.Self|c.XFs.Optional)));return{routes:_.map(vm),injector:p}}),Ul(()=>{this.childrenLoaders.delete(i)})),l=new co(s,()=>new ft.x).pipe(lo());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return Ts(e()).pipe((0,oi.z)(i=>i instanceof c.YKP||Array.isArray(i)?We(i):(0,cn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dM{}class hM{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function LC(n){throw n}function Kl(n,t,e){return t.parse("/")}const VC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function pM(){const n=(0,c.f3M)(oh),t=(0,c.f3M)(bh),e=(0,c.f3M)(xe),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),s=(0,c.f3M)(km,{optional:!0})??[],l=(0,c.f3M)(Ah,{optional:!0})??{},d=(0,c.f3M)(FC),p=(0,c.f3M)(Mm,{optional:!0}),_=(0,c.f3M)(dM,{optional:!0}),b=(0,c.f3M)(aM,{optional:!0}),D=new hi(null,n,t,e,i,r,am(s));return _&&(D.urlHandlingStrategy=_),b&&(D.routeReuseStrategy=b),D.titleStrategy=p??d,function fM(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,D),D}let hi=(()=>{class n{constructor(e,i,r,s,l,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.x,this.errorHandler=LC,this.malformedUriErrorHandler=Kl,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>We(void 0),this.urlHandlingStrategy=new hM,this.routeReuseStrategy=new cM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(Mh),this.configLoader.onLoadEndListener=T=>this.triggerEvent(new Uy(T)),this.configLoader.onLoadStartListener=T=>this.triggerEvent(new gh(T)),this.ngModule=l.get(c.h0i),this.console=l.get(c.c2e);const D=l.get(c.R0b);this.isNgZoneEnabled=D instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function lm(){return new Xo(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Va(this.currentUrlTree,this.rootComponentType),this.transitions=new vn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Jt(r=>0!==r.id),(0,Ye.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Yn(r=>{let s=!1,l=!1;return We(r).pipe(pn(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yn(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return uv(d.source)&&(this.browserUrlTree=d.extractedUrl),We(d).pipe(Yn(D=>{const T=this.transitions.getValue();return i.next(new mh(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),T!==this.transitions.getValue()?rs.E:Promise.resolve(D)}),function ia(n,t,e,i){return Yn(r=>function rM(n,t,e,i,r){return new pu(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Ye.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pn(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function sv(n,t,e,i,r,s){return(0,oi.z)(l=>function TL(n,t,e,i,r,s,l="emptyOnly",d="legacy"){return new kC(n,t,e,i,r,l,d,s).recognize().pipe(Yn(p=>null===p?function SL(n){return new kn.y(t=>t.error(n))}(new sM):We(p)))}(n,t,e,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,s).pipe((0,Ye.U)(d=>({...l,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),pn(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(x,D)}this.browserUrlTree=D.urlAfterRedirects}const T=new kA(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(T)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:x,source:O,restoredState:j,extras:se}=d,Fe=new mh(T,this.serializeUrl(x),O,j);i.next(Fe);const Ge=Va(x,this.rootComponentType).snapshot;return We(r={...d,targetSnapshot:Ge,urlAfterRedirects:x,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),rs.E}),pn(d=>{const p=new RA(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Ye.U)(d=>r={...d,guards:EL(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function qA(n,t){return(0,oi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?We({...e,guardsResult:!0}):function YA(n,t,e,i){return(0,cn.D)(n).pipe((0,oi.z)(r=>function JA(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?We(s.map(d=>{const p=Eh(t)??r,_=Dh(d,p);return Ts(function GA(n){return n&&Yl(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(Pr())})).pipe(Zl()):We(!0)}(r.component,r.route,e,t,i)),Pr(r=>!0!==r,!0))}(l,i,r,n).pipe((0,oi.z)(d=>d&&function DC(n){return"boolean"==typeof n}(d)?function ZA(n,t,e,i){return(0,cn.D)(t).pipe(os(r=>so(function Jy(n,t){return null!==n&&t&&t(new hC(n)),We(!0)}(r.route.parent,i),function KA(n,t){return null!==n&&t&&t(new pC(n)),We(!0)}(r.route,i),function XA(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function DL(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>oo(()=>We(l.guards.map(p=>{const _=Eh(l.node)??e,b=Dh(p,_);return Ts(function Ky(n){return n&&Yl(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(Pr())})).pipe(Zl())));return We(s).pipe(Zl())}(n,r.path,e),function QA(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return We(!0);const r=i.map(s=>oo(()=>{const l=Eh(t)??e,d=Dh(s,l);return Ts(function SC(n){return n&&Yl(n.canActivate)}(d)?d.canActivate(t,n):l.runInContext(()=>d(t,n))).pipe(Pr())}));return We(r).pipe(Zl())}(n,r.route,e))),Pr(r=>!0!==r,!0))}(i,s,n,t):We(d)),(0,Ye.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),pn(d=>{if(r.guardsResult=d.guardsResult,tt(d.guardsResult))throw _C(0,d.guardsResult);const p=new OA(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),Jt(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),cv(d=>{if(d.guards.canActivateChecks.length)return We(d).pipe(pn(p=>{const _=new vL(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),Yn(p=>{let _=!1;return We(p).pipe(function ov(n,t){return(0,oi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return We(e);let s=0;return(0,cn.D)(r).pipe(os(l=>function NC(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!lv(r)&&(s[Nr]=r.title),function ML(n,t,e,i){const r=function gu(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return We({});const s={};return(0,cn.D)(r).pipe((0,oi.z)(l=>function av(n,t,e,i){const r=Eh(t)??i,s=Dh(n,r);return Ts(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[l],t,e,i).pipe(Pr(),pn(d=>{s[l]=d}))),xa(1),Ra(s),vr(l=>Xy(l)?rs.E:ao(l)))}(s,n,t,i).pipe((0,Ye.U)(l=>(n._resolvedData=l,n.data=_h(n,e).resolve,r&&lv(r)&&(n.data[Nr]=r.title),null)))}(l.route,i,n,t)),pn(()=>s++),xa(1),(0,oi.z)(l=>s===r.length?We(e):rs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pn({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),pn(p=>{const _=new bL(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),cv(d=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe(pn(D=>{_.component=D}),(0,Ye.U)(()=>{})));for(const D of _.children)b.push(...p(D));return b};return Jd(p(d.targetSnapshot.root)).pipe(ss(),At(1))}),cv(()=>this.afterPreactivation()),(0,Ye.U)(d=>{const p=function LA(n,t,e){const i=cu(n,t._root,e?e._root:void 0);return new $y(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),pn(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Ye.U)(i=>(new CL(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),pn({next(){s=!0},complete(){s=!0}}),Ul(()=>{s||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vr(d=>{if(l=!0,vC(d)){_m(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new mm(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),_m(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||uv(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new dC(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return rs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(vm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:l;let D=null;switch(d){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),uh(_,this.currentUrlTree,e,D,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=tt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function mM(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...VC}:!1===i?{...BC}:i,tt(e))return Fy(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Fy(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new La(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let d,p,_;l?(d=l.resolve,p=l.reject,_=l.promise):_=new Promise((T,x)=>{d=T,p=x});const b=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:b,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(T=>Promise.reject(T))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new mm(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return pM()},providedIn:"root"}),n})();function uv(n){return"imperative"!==n}let _u=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ft.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(hi),c.Y36(ho),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class kh{}let fv=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(e=>e instanceof La),os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,d=s._loadedInjector??l;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(l,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,cn.D)(r).pipe((0,Zo.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):We(null);const s=r.pipe((0,oi.z)(l=>null===l?We(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,cn.D)([s,l]).pipe((0,Zo.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hi),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(kh),c.LFG(Mh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Om=new c.OlP("");let Pm=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof La&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Hy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function yu(n,t){return{\u0275kind:n,\u0275providers:t}}function mv(n){return[{provide:km,multi:!0,useValue:n}]}function Nm(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(hi),r=n.get(gv);1===n.get(HC)&&i.initialNavigation(),n.get(zC,null,c.XFs.Optional)?.setUpPreloading(),n.get(Om,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const gv=new c.OlP("",{factory:()=>new ft.x}),HC=new c.OlP("",{providedIn:"root",factory:()=>1});const zC=new c.OlP("");function vM(n){return yu(0,[{provide:zC,useExisting:fv},{provide:kh,useExisting:n}])}const GC=new c.OlP("ROUTER_FORROOT_GUARD"),wM=[xe,{provide:oh,useClass:Pa},{provide:hi,useFactory:pM},bh,{provide:ho,useFactory:function pv(n){return n.routerState.root},deps:[hi]},Mh];function CM(){return new c.PXZ("Router",hi)}let WC=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[wM,[],mv(e),{provide:GC,useFactory:IM,deps:[[hi,new c.FiY,new c.tp0]]},{provide:Ah,useValue:i||{}},i?.useHash?{provide:ae,useClass:nt}:{provide:ae,useClass:et},{provide:Om,useFactory:()=>{const n=(0,c.f3M)(hi),t=(0,c.f3M)(Bp),e=(0,c.f3M)(Ah);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Pm(n,t,e)}},i?.preloadingStrategy?vM(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:CM},i?.initialNavigation?kt(i):[],[{provide:_v,useFactory:Nm},{provide:c.tb,multi:!0,useExisting:_v}]]}}static forChild(e){return{ngModule:n,providers:[mv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(GC,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[qy]}),n})();function IM(n){return"guarded"}function kt(n){return["disabled"===n.initialNavigation?yu(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(hi);return()=>{t.setUpLocationChangeListener()}}},{provide:HC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?yu(2,[{provide:HC,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(G,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const l=t.get(hi),d=t.get(gv);(function r(s){t.get(hi).events.pipe(Jt(d=>d instanceof La||d instanceof mm||d instanceof dC),(0,Ye.U)(d=>d instanceof La||d instanceof mm&&(0===d.code||1===d.code)&&null),Jt(d=>null!==d),At(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),l.afterPreactivation=()=>(s(!0),i||d.closed?We(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const _v=new c.OlP("");let Lm,ZC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,i){1&e&&(c.TgZ(0,"p"),c._uU(1,"dashboard works!"),c.qZA())}}),n})();class vu{constructor(t){this.firstName=t?t.firstName:"",this.lastName=t?t.lastName:"",this.email=t?t.email:"",this.birthdate=t?t.birthdate:"",this.street=t?t.street:"",this.zipCode=t?t.zipCode:"",this.city=t?t.city:""}toJSON(){return{firstName:this.firstName,email:this.email,lastName:this.lastName,birthdate:this.birthdate,street:this.street,zipCode:this.zipCode,city:this.city}}}try{Lm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lm=!1}let bu,_i=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function gr(n){return n===Vo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Lm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AM(){if(bu)return bu;if("object"!=typeof document||!document)return bu=new Set(KC),bu;let n=document.createElement("input");return bu=new Set(KC.filter(t=>(n.setAttribute("type",t),n.type===t))),bu}let wu,Vm,ra,XC;function ls(n){return function QC(){if(null==wu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wu=!0}))}finally{wu=wu||!1}return wu}()?n:!!n.capture}function Bm(){if(null==ra){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ra=!1,ra;if("scrollBehavior"in document.documentElement.style)ra=!0;else{const n=Element.prototype.scrollTo;ra=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ra}function Rh(){if("object"!=typeof document||!document)return 0;if(null==Vm){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Vm=0,0===n.scrollLeft&&(n.scrollLeft=1,Vm=0===n.scrollLeft?1:2),n.remove()}return Vm}function Oh(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ua(n){return n.composedPath?n.composedPath()[0]:n.target}function JC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Os(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class ix extends Vn.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const $m={setInterval(n,t,...e){const{delegate:i}=$m;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=$m;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var hV=N(8737);class Hh extends ix{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return $m.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;$m.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,hV.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Ev={now:()=>(Ev.delegate||Date).now(),delegate:void 0};class jh{constructor(t,e=jh.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}jh.now=Ev.now;class zm extends jh{constructor(t,e=jh.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const $a=new zm(Hh),rx=$a;function Gm(n,t=$a){return(0,Bn.e)((e,i)=>{let r=null,s=null,l=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=l+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe((0,Ln.x)(i,_=>{s=_,l=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function $h(n){return Jt((t,e)=>n<=e)}function zh(n,t=Yo.y){return n=n??sx,(0,Bn.e)((e,i)=>{let r,s=!0;e.subscribe((0,Ln.x)(i,l=>{const d=t(l);(s||!n(r,d))&&(s=!1,r=d,i.next(l))}))})}function sx(n,t){return n===t}var Wm=N(5032);function bn(n){return(0,Bn.e)((t,e)=>{(0,is.Xf)(n).subscribe((0,Ln.x)(e,()=>e.complete(),Wm.Z)),!e.closed&&t.subscribe(e)})}function Gn(n){return null!=n&&"false"!=`${n}`}function Dv(n,t=0){return function Iv(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Sv(n){return Array.isArray(n)?n:[n]}function ai(n){return null==n?"":"string"==typeof n?n:`${n}px`}function yo(n){return n instanceof c.SBq?n.nativeElement:n}let Tv=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Av=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=yo(e);return new kn.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ft.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Tv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aa=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Gn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Dv(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Gm(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Av),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Gh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Tv]}),n})();const Eu=new Set;let Du,xv=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ox}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function gE(n){if(!Eu.has(n))try{Du||(Du=document.createElement("style"),Du.setAttribute("type","text/css"),document.head.appendChild(Du)),Du.sheet&&(Du.sheet.insertRule(`@media ${n} {body{ }}`,0),Eu.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_i))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ox(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _E=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ft.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Iu(Sv(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Jd(Iu(Sv(e)).map(l=>this._registerQuery(l).observable));return s=so(s.pipe(At(1)),s.pipe($h(1),Gm(0))),s.pipe((0,Ye.U)(l=>{const d={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new kn.y(l=>{const d=p=>this._zone.run(()=>l.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(zn(i),(0,Ye.U)(({matches:l})=>({query:e,matches:l})),bn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(xv),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Iu(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function qm(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const yE="cdk-describedby-message",Ym="cdk-describedby-host";let Zm=0,kv=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Zm++,this._document=e,this._id=(0,c.f3M)(c.AFp)+"-"+Zm++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=Rv(i,r);"string"!=typeof i?(Km(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=Rv(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Ym}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Ym);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Km(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Rv(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=qm(e,"aria-describedby").filter(r=>0!=r.indexOf(yE));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function cx(n,t,e){const i=qm(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Ym,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function fV(n,t,e){const r=qm(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Ym)}_isElementDescribedByMessage(e,i){const r=qm(e,"aria-describedby"),s=this._messageRegistry.get(i),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(_i))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rv(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Km(n,t){n.id||(n.id=`${yE}-${t}-${Zm++}`)}class dx extends class ux{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ft.x,this._typeaheadSubscription=Vn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ft.x,this.change=new ft.x,t instanceof c.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(pn(e=>this._pressedLetters.push(e)),Gm(t),Jt(()=>this._pressedLetters.length>0),(0,Ye.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Os(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Wh=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Qm(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function hx(n){try{return n.frameElement}catch{return null}}(function Hi(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===vE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=vE(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function vo(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Yh(n){return!function _V(n){return function fx(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function tc(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function qh(n){return function px(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Xm(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_i))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xm(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function vE(n){if(!Xm(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class nc{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(At(1)).subscribe(t)}}let za=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new nc(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Wh),c.LFG(c.R0b),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),us=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Gn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Gn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Oh(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(za),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function Ga(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Wa(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Su=new c.OlP("cdk-input-modality-detector-options"),Tu={ignoreKeys:[18,17,224,91,16]},rc=ls({passive:!0,capture:!0});let wE=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new vn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ua(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ga(l)?"keyboard":"mouse"),this._mostRecentTarget=Ua(l))},this._onTouchstart=l=>{Wa(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ua(l))},this._options={...Tu,...s},this.modalityDetected=this._modality.pipe($h(1)),this.modalityChanged=this.modalityDetected.pipe(zh()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,rc),r.addEventListener("mousedown",this._onMousedown,rc),r.addEventListener("touchstart",this._onTouchstart,rc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rc),document.removeEventListener("mousedown",this._onMousedown,rc),document.removeEventListener("touchstart",this._onTouchstart,rc))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_i),c.LFG(c.R0b),c.LFG(de),c.LFG(Su,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EE=new c.OlP("cdk-focus-monitor-default-options"),Jh=ls({passive:!0,capture:!0});let la=(()=>{class n{constructor(e,i,r,s,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ft.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=Ua(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=yo(e);if(!this._platform.isBrowser||1!==r.nodeType)return We(null);const s=function OL(n){if(function RL(){if(null==XC){const n=typeof document<"u"?document.head:null;XC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return XC}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const d={checkChildren:i,subject:new ft.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=yo(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=yo(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Ua(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jh)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(_i),c.LFG(wE),c.LFG(de,8),c.LFG(EE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vx=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new c.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(la))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const Ov="cdk-high-contrast-black-on-white",DE="cdk-high-contrast-white-on-black",Jm="cdk-high-contrast-active";let eg=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)(_E).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Jm,Ov,DE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Jm,Ov):2===i&&e.add(Jm,DE)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_i),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ef=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(eg))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gh]}),n})();var bx=N(1144);const tg=["addListener","removeListener"],ng=["addEventListener","removeEventListener"],Pv=["on","off"];function sc(n,t,e,i){if((0,wi.m)(e)&&(i=e,e=void 0),i)return sc(n,t,e).pipe(Kd(i));const[r,s]=function SE(n){return(0,wi.m)(n.addEventListener)&&(0,wi.m)(n.removeEventListener)}(n)?ng.map(l=>d=>n[l](t,d,e)):function ig(n){return(0,wi.m)(n.addListener)&&(0,wi.m)(n.removeListener)}(n)?tg.map(tf(n,t)):function IE(n){return(0,wi.m)(n.on)&&(0,wi.m)(n.off)}(n)?Pv.map(tf(n,t)):[];if(!r&&(0,bx.z)(n))return(0,oi.z)(l=>sc(l,t,e))((0,is.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new kn.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function tf(n,t){return e=>i=>n[e](t,i)}const oc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=oc;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Vn.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=oc;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=oc;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class AE extends zm{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class TE extends Hh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=oc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(oc.cancelAnimationFrame(e),t._scheduled=void 0)}});let rg,wx=1;const nf={};function Fv(n){return n in nf&&(delete nf[n],!0)}const xE={setImmediate(n){const t=wx++;return nf[t]=!0,rg||(rg=Promise.resolve()),rg.then(()=>Fv(t)&&n()),t},clearImmediate(n){Fv(n)}},{setImmediate:kE,clearImmediate:RE}=xE,rf={setImmediate(...n){const{delegate:t}=rf;return(t?.setImmediate||kE)(...n)},clearImmediate(n){const{delegate:t}=rf;return(t?.clearImmediate||RE)(n)},delegate:void 0},sg=new class OE extends zm{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Lv extends Hh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=rf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(rf.clearImmediate(e),t._scheduled=void 0)}});var NE=N(3532);function Vv(n=0,t,e=rx){let i=-1;return null!=t&&((0,NE.K)(t)?e=t:i=t),new kn.y(r=>{let s=function FE(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Bv(n,t=$a){return function PE(n){return(0,Bn.e)((t,e)=>{let i=!1,r=null,s=null,l=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}l&&e.complete()},p=()=>{s=null,l&&e.complete()};t.subscribe((0,Ln.x)(e,_=>{i=!0,r=_,s||(0,is.Xf)(n(_)).subscribe(s=(0,Ln.x)(e,d,p))},()=>{l=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Vv(n,t))}const vV=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ex(){return(0,c.f3M)(de)}}),Dx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ds=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function LE(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Dx.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(vV,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),og=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ft.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Bv(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):We()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Jt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=yo(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>sc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(_i),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uv=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ft.x,this._elementScrolled=new kn.y(l=>this.ngZone.runOutsideAngular(()=>sc(this.elementRef.nativeElement,"scroll").pipe(bn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Rh()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Rh()?e.left=e.right:1==Rh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Bm()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==Rh()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==Rh()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(og),c.Y36(c.R0b),c.Y36(ds,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Hv=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ft.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Bv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_i),c.LFG(c.R0b),c.LFG(de,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Au,Fi,Au,Fi]}),n})();class ac{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xu extends ac{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class ag extends ac{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xx extends ac{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class lg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xu?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ag?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xx?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class cg extends lg{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const d=l.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let lc=(()=>{class n extends lg{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const l=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),cc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var hs=N(6451);const zv=Bm();class jE{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ai(-this._previousScrollPosition.left),t.style.top=ai(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zv&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zv&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class $E{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Gv{enable(){}disable(){}attach(){}}function Wv(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function zE(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Fx{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Wv(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Lx=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Gv,this.close=l=>new $E(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new jE(this._viewportRuler,this._document),this.reposition=l=>new Fx(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(og),c.LFG(Hv),c.LFG(c.R0b),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ug{constructor(t){if(this.scrollStrategy=new Gv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Vx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let GE=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bx=(()=>{class n extends GE{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const d=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ux=(()=>{class n extends GE{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Ua(s)},this._clickListener=s=>{const l=Ua(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(d))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(_i),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||JC()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),JC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(_i))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sf{constructor(t,e,i,r,s,l,d,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new ft.x,this._attachments=new ft.x,this._detachments=new ft.x,this._locationChanges=Vn.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new ft.x,this._outsidePointerEvents=new ft.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(At(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ai(this._config.width),t.height=ai(this._config.height),t.minWidth=ai(this._config.minWidth),t.minHeight=ai(this._config.minHeight),t.maxWidth=ai(this._config.maxWidth),t.maxHeight=ai(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Sv(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bn((0,hs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WE="cdk-overlay-connected-position-bounding-box",Hx=/([A-Za-z%]+)$/;class qE{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.x,this._resizeSubscription=Vn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(WE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?l:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=Yv(e);let{x:l,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(l+=p),_&&(d+=_);let T=0-d,x=d+s.height-i.height,O=this._subtractOverflows(s.width,0-l,l+s.width-i.width),j=this._subtractOverflows(s.height,T,x),se=O*j;return{visibleArea:se,isCompletelyWithinViewport:s.width*s.height===se,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:O==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,l=qv(this._overlayRef.getConfig().minHeight),d=qv(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=l&&l<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Yv(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,D=0;return b=r.width<=s.width?_||-l:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:D},{x:t.x+b,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Vx(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,l,d,b,D,T;if("top"===e.overlayY)l=t.y,s=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const x=Math.min(i.bottom-t.y+i.top,t.y),O=this._lastBoundingBoxSize.height;s=2*x,l=t.y-x,s>O&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-O/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)T=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,b=i.right-t.x;else{const x=Math.min(i.right-t.x+i.left,t.x),O=this._lastBoundingBoxSize.width;b=2*x,D=t.x-x,b>O&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-O/2)}return{top:l,left:D,bottom:d,right:T,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=ai(i.height),r.top=ai(i.top),r.bottom=ai(i.bottom),r.width=ai(i.width),r.left=ai(i.left),r.right=ai(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ai(s)),l&&(r.maxWidth=ai(l))}this._lastBoundingBoxSize=i,qa(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();qa(i,this._getExactOverlayY(e,t,b)),qa(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),l.maxHeight&&(r?i.maxHeight=ai(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=ai(l.maxWidth):s&&(i.maxWidth="")),qa(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ai(s.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ai(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zE(t,i),isOriginOutsideView:Wv(t,i),isOverlayClipped:zE(e,i),isOverlayOutsideView:Wv(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Sv(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function qa(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function qv(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Hx);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Yv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Zv="cdk-global-overlay-wrapper";class YE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Zv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,D=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let x="",O="",j="";p?j="flex-start":"center"===b?(j="center",T?O=D:x=D):T?"left"===b||"end"===b?(j="flex-end",x=D):("right"===b||"start"===b)&&(j="flex-start",O=D):"left"===b||"start"===b?(j="flex-start",x=D):("right"===b||"end"===b)&&(j="flex-end",O=D),t.position=this._cssPosition,t.marginLeft=p?"0":x,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":O,e.justifyContent=j,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Zv),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZE=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new YE}flexibleConnectedTo(e){return new qE(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hv),c.LFG(de),c.LFG(_i),c.LFG(dg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KE=0,Cr=(()=>{class n{constructor(e,i,r,s,l,d,p,_,b,D,T,x){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=T,this._animationsModuleType=x}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new ug(e);return l.direction=l.direction||this._directionality.value,new sf(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+KE++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new cg(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Lx),c.LFG(dg),c.LFG(c._Vd),c.LFG(ZE),c.LFG(Bx),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(de),c.LFG(ds),c.LFG(xe),c.LFG(Ux),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const FV={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Cr],useFactory:function ku(n){return()=>n.scrollStrategies.reposition()}};let dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Cr,FV],imports:[Au,cc,jv,jv]}),n})();function XE(n,t){}class af{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let _t=(()=>{class n extends lg{constructor(e,i,r,s,l,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Oh(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Oh();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Oh())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(za),c.Y36(de,8),c.Y36(af),c.Y36(Wh),c.Y36(c.R0b),c.Y36(sf),c.Y36(la))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&c.Gf(lc,7),2&e){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,XE,0,0,"ng-template",0)},dependencies:[lc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Kv{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new ft.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Os(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const JE=new c.OlP("DialogScrollStrategy"),zx=new c.OlP("DialogData"),Ru=new c.OlP("DefaultDialogConfig"),hg={provide:JE,deps:[Cr],useFactory:function Gx(n){return()=>n.scrollStrategies.block()}};let fg=0,Wn=(()=>{class n{constructor(e,i,r,s,l,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.x,this._afterOpenedAtThisLevel=new ft.x,this._ariaHiddenElements=new Map,this.afterAllClosed=oo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zn(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new af,...i}).id=i.id||"cdk-dialog-"+fg++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),l=this._overlay.create(s),d=new Kv(l,i),p=this._attachContainer(l,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){eD(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){eD(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),eD(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new ug({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,l=[{provide:af,useValue:r},{provide:Kv,useValue:i},{provide:sf,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,l.push(...r.container.providers(r))):d=_t;const p=new xu(d,r.viewContainerRef,c.zs3.create({parent:s||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){if(e instanceof c.Rgc){const l=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new ag(e,null,d,l))}else{const l=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new xu(e,s.viewContainerRef,l,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,s){const l=e.injector||e.viewContainerRef?.injector,d=[{provide:zx,useValue:e.data},{provide:Kv,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!l||!l.get(ds,null,c.XFs.Optional))&&d.push({provide:ds,useValue:{value:e.direction,change:We()}}),c.zs3.create({parent:l||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Cr),c.LFG(c.zs3),c.LFG(Ru,8),c.LFG(n,12),c.LFG(dg),c.LFG(JE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function eD(n,t){let e=n.length;for(;e--;)t(n[e])}let tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Wn,hg],imports:[dc,cc,ef,cc]}),n})();const Kx=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function lf(){return!0}});let Un=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!JC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(eg),c.LFG(Kx,8),c.LFG(de))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Au,Au]}),n})();function Jv(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gn(t)}}}function hc(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function iD(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gn(t)}}}function cf(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const Xx=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Jx(){return(0,c.f3M)(c.soG)}});class Ei{constructor(){this._localeChanges=new ft.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Ya=new c.OlP("mat-date-formats"),rD=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function eb(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let sD=(()=>{class n extends Ei{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return eb(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return eb(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return eb(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(rD.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Xx,8),c.LFG(_i))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ek={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Ei,useClass:sD}]}),n})(),jV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Ya,useValue:ek}],imports:[tk]}),n})(),nk=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rk{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tb={enterDuration:225,exitDuration:150},nb=ls({passive:!0}),oD=["mousedown","touchstart"],aD=["mouseup","mouseleave","touchend","touchcancel"];class sk{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=yo(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...tb,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function ok(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-l+"px",b.style.top=p-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const D=window.getComputedStyle(b),x=D.transitionDuration,O="none"===D.transitionProperty||"0s"===x||"0s, 0s"===x,j=new rk(this,b,i,O);b.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let se=null;return!O&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Fe=()=>this._finishRippleTransition(j),Ge=()=>this._destroyRipple(j);b.addEventListener("transitionend",Fe),b.addEventListener("transitioncancel",Ge),se={onTransitionEnd:Fe,onTransitionCancel:Ge}}),this._activeRipples.set(j,se),(O||!_)&&this._finishRippleTransition(j),j}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...tb,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=yo(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(oD))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(aD),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Ga(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Wa(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,nb)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(oD.forEach(t=>{this._triggerElement.removeEventListener(t,this,nb)}),this._pointerUpEventsRegistered&&aD.forEach(t=>{this._triggerElement.removeEventListener(t,this,nb)}))}}const lD=new c.OlP("mat-ripple-global-options");let ib=(()=>{class n{constructor(e,i,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new sk(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(_i),c.Y36(lD,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),cD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Un,Un]}),n})();class mg{}const wo="*";function Ka(n,t){return{type:7,name:n,definitions:t,options:{}}}function Er(n,t=null){return{type:4,styles:t,timings:n}}function dD(n,t=null){return{type:3,steps:n,options:t}}function hD(n,t=null){return{type:2,steps:n,options:t}}function wn(n){return{type:6,styles:n,offset:null}}function Ps(n,t,e){return{type:0,name:n,styles:t,options:e}}function rb(n){return{type:5,steps:n}}function Dr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sb(n=null){return{type:9,options:n}}function fD(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function pD(n){Promise.resolve().then(n)}class hf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class mD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?pD(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function ob(n,t){}const fc={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},ab={dialogContainer:Ka("dialogContainer",[Ps("void, exit",wn({opacity:0,transform:"scale(0.7)"})),Ps("enter",wn({transform:"none"})),Dr("* => enter",dD([Er("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",wn({transform:"none",opacity:1})),fD("@*",sb(),{optional:!0})]),fc),Dr("* => void, * => exit",dD([Er("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",wn({opacity:0})),fD("@*",sb(),{optional:!0})]),fc)])};class gg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=fc.params.enterAnimationDuration,this.exitAnimationDuration=fc.params.exitAnimationDuration}}let mk=(()=>{class n extends _t{constructor(e,i,r,s,l,d,p,_){super(e,i,r,s,l,d,p,_),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(za),c.Y36(de,8),c.Y36(gg),c.Y36(Wh),c.Y36(c.R0b),c.Y36(sf),c.Y36(la))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),lb=(()=>{class n extends mk{constructor(e,i,r,s,l,d,p,_,b){super(e,i,r,s,l,d,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||fc.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||fc.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(za),c.Y36(de,8),c.Y36(gg),c.Y36(Wh),c.Y36(c.R0b),c.Y36(sf),c.Y36(c.sBO),c.Y36(la))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&c.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._getAnimationState()))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,ob,0,0,"ng-template",0)},dependencies:[lc],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[ab.dialogContainer]}}),n})();class pf{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new ft.x,this._beforeClosed=new ft.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Jt(r=>"opened"===r.state),At(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Jt(r=>"closed"===r.state),At(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,hs.T)(this.backdropClick(),this.keydownEvents().pipe(Jt(r=>27===r.keyCode&&!this.disableClose&&!Os(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function gD(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Jt(e=>"closing"===e.state),At(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ou=new c.OlP("MatDialogData"),_D=new c.OlP("mat-dialog-default-options"),yD=new c.OlP("mat-dialog-scroll-strategy"),cb={provide:yD,deps:[Cr],useFactory:function vD(n){return()=>n.scrollStrategies.block()}};let gk=0,ub=(()=>{class n{constructor(e,i,r,s,l,d,p,_,b,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.x,this._afterOpenedAtThisLevel=new ft.x,this._idPrefix="mat-dialog-",this.afterAllClosed=oo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zn(void 0))),this._scrollStrategy=d,this._dialog=i.get(Wn)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new gg,...i}).id=i.id||`${this._idPrefix}${gk++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:gg,useValue:i},{provide:af,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,d,p)=>(r=new this._dialogRefConstructor(l,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),_g=(()=>{class n extends ub{constructor(e,i,r,s,l,d,p,_){super(e,i,s,d,p,l,pf,lb,Ou,_)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Cr),c.LFG(c.zs3),c.LFG(xe,8),c.LFG(_D,8),c.LFG(yD),c.LFG(n,12),c.LFG(dg),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),bD=0,yg=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+bD++}ngOnInit(){this._dialogRef||(this._dialogRef=function CD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pf,8),c.Y36(c.SBq),c.Y36(_g))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&c.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),vg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),bg=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_g,cb],imports:[tD,dc,cc,Un,Un]}),n})();var Rt=N(9681);(0,Rt.registerVersion)("firebase","9.9.4","app");var K=N(5861),q=N(2090),Vr=N(4859),Br=N(1877),Pu=N(8766);const bk="@firebase/installations",ED="0.5.12",ID=`w:${ED}`,SD="FIS_v2",da=new q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function AD(n){return n instanceof q.ZR&&n.code.includes("request-failed")}function db({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function MD(n){return{token:n.token,requestStatus:2,expiresIn:xD(n.expiresIn),creationTime:Date.now()}}function pc(n,t){return wg.apply(this,arguments)}function wg(){return(wg=(0,K.Z)(function*(n,t){const i=(yield t.json()).error;return da.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function hb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function fb(n,{refreshToken:t}){const e=hb(n);return e.append("Authorization",function Ik(n){return`${SD} ${n}`}(t)),e}function Cg(n){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,K.Z)(function*(n){const t=yield n();return t.status>=500&&t.status<600?n():t})).apply(this,arguments)}function xD(n){return Number(n.replace("s","000"))}function JV(n,t){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,K.Z)(function*({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=db(n),r=hb(n),s=t.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const d={method:"POST",headers:r,body:JSON.stringify({fid:e,authVersion:SD,appId:n.appId,sdkVersion:ID})},p=yield Cg(()=>fetch(i,d));if(p.ok){const _=yield p.json();return{fid:_.fid||e,registrationStatus:2,refreshToken:_.refreshToken,authToken:MD(_.authToken)}}throw yield pc("Create Installation",p)})).apply(this,arguments)}function kD(n){return new Promise(t=>{setTimeout(t,n)})}const Tk=/^[cdef][\w-]{21}$/;function mf(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=function Ak(n){return function Sk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Tk.test(e)?e:""}catch{return""}}function Qa(n){return`${n.appName}!${n.appId}`}const tr=new Map;function RD(n,t){const e=Qa(n);OD(e,t),function Mk(n,t){const e=function _f(){return!mc&&"BroadcastChannel"in self&&(mc=new BroadcastChannel("[Firebase] FID Change"),mc.onmessage=n=>{OD(n.data.key,n.data.fid)}),mc}();e&&e.postMessage({key:n,fid:t}),function yf(){0===tr.size&&mc&&(mc.close(),mc=null)}()}(e,t)}function OD(n,t){const e=tr.get(n);if(e)for(const i of e)i(t)}let mc=null;const Xa="firebase-installations-store";let Sg=null;function vf(){return Sg||(Sg=(0,Pu.X3)("firebase-installations-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Xa)}})),Sg}function bf(n,t){return mb.apply(this,arguments)}function mb(){return(mb=(0,K.Z)(function*(n,t){const e=Qa(n),r=(yield vf()).transaction(Xa,"readwrite"),s=r.objectStore(Xa),l=yield s.get(e);return yield s.put(t,e),yield r.done,(!l||l.fid!==t.fid)&&RD(n,t.fid),t})).apply(this,arguments)}function gb(n){return PD.apply(this,arguments)}function PD(){return(PD=(0,K.Z)(function*(n){const t=Qa(n),i=(yield vf()).transaction(Xa,"readwrite");yield i.objectStore(Xa).delete(t),yield i.done})).apply(this,arguments)}function gc(n,t){return wf.apply(this,arguments)}function wf(){return(wf=(0,K.Z)(function*(n,t){const e=Qa(n),r=(yield vf()).transaction(Xa,"readwrite"),s=r.objectStore(Xa),l=yield s.get(e),d=t(l);return void 0===d?yield s.delete(e):yield s.put(d,e),yield r.done,d&&(!l||l.fid!==d.fid)&&RD(n,d.fid),d})).apply(this,arguments)}function Tg(n){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,K.Z)(function*(n){let t;const e=yield gc(n.appConfig,i=>{const r=_b(i),s=Rk(n,r);return t=s.registrationPromise,s.installationEntry});return""===e.fid?{installationEntry:yield t}:{installationEntry:e,registrationPromise:t}})).apply(this,arguments)}function _b(n){return vb(n||{fid:mf(),registrationStatus:0})}function Rk(n,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(da.create("app-offline"))};const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function Ok(n,t){return yb.apply(this,arguments)}(n,e);return{installationEntry:e,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Pk(n)}:{installationEntry:t}}function yb(){return(yb=(0,K.Z)(function*(n,t){try{const e=yield JV(n,t);return bf(n.appConfig,e)}catch(e){throw AD(e)&&409===e.customData.serverCode?yield gb(n.appConfig):yield bf(n.appConfig,{fid:t.fid,registrationStatus:0}),e}})).apply(this,arguments)}function Pk(n){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,K.Z)(function*(n){let t=yield Mg(n.appConfig);for(;1===t.registrationStatus;)yield kD(100),t=yield Mg(n.appConfig);if(0===t.registrationStatus){const{installationEntry:e,registrationPromise:i}=yield Tg(n);return i||e}return t})).apply(this,arguments)}function Mg(n){return gc(n,t=>{if(!t)throw da.create("installation-not-found");return vb(t)})}function vb(n){return function ND(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function FD(n,t){return xg.apply(this,arguments)}function xg(){return(xg=(0,K.Z)(function*({appConfig:n,heartbeatServiceProvider:t},e){const i=Nk(n,e),r=fb(n,e),s=t.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const d={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:ID,appId:n.appId}})},p=yield Cg(()=>fetch(i,d));if(p.ok)return MD(yield p.json());throw yield pc("Generate Auth Token",p)})).apply(this,arguments)}function Nk(n,{fid:t}){return`${db(n)}/${t}/authTokens:generate`}function kg(n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,K.Z)(function*(n,t=!1){let e;const i=yield gc(n.appConfig,s=>{if(!VD(s))throw da.create("not-registered");const l=s.authToken;if(!t&&Lk(l))return s;if(1===l.requestStatus)return e=Fk(n,t),s;{if(!navigator.onLine)throw da.create("app-offline");const d=tB(s);return e=nr(n,d),d}});return e?yield e:i.authToken})).apply(this,arguments)}function Fk(n,t){return Og.apply(this,arguments)}function Og(){return(Og=(0,K.Z)(function*(n,t){let e=yield LD(n.appConfig);for(;1===e.authToken.requestStatus;)yield kD(100),e=yield LD(n.appConfig);const i=e.authToken;return 0===i.requestStatus?kg(n,t):i})).apply(this,arguments)}function LD(n){return gc(n,t=>{if(!VD(t))throw da.create("not-registered");return function BD(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function nr(n,t){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,K.Z)(function*(n,t){try{const e=yield FD(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return yield bf(n.appConfig,i),e}catch(e){if(!AD(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode){const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield bf(n.appConfig,i)}else yield gb(n.appConfig);throw e}})).apply(this,arguments)}function VD(n){return void 0!==n&&2===n.registrationStatus}function Lk(n){return 2===n.requestStatus&&!function eB(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+36e5}(n)}function tB(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function _c(){return(_c=(0,K.Z)(function*(n){const t=n,{installationEntry:e,registrationPromise:i}=yield Tg(t);return i?i.catch(console.error):kg(t).catch(console.error),e.fid})).apply(this,arguments)}function Ef(){return(Ef=(0,K.Z)(function*(n,t=!1){const e=n;return yield Bk(e),(yield kg(e,t)).token})).apply(this,arguments)}function Bk(n){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,K.Z)(function*(n){const{registrationPromise:t}=yield Tg(n);t&&(yield t)})).apply(this,arguments)}function jD(n){return da.create("missing-app-config-values",{valueName:n})}const Eb="installations",$D=n=>{const t=n.getProvider("app").getImmediate(),e=function Cb(n){if(!n||!n.options)throw jD("App Configuration");if(!n.name)throw jD("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw jD(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(t);return{app:t,appConfig:e,heartbeatServiceProvider:(0,Rt._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},Nu=n=>{const t=n.getProvider("app").getImmediate(),e=(0,Rt._getProvider)(t,Eb).getImmediate();return{getId:()=>function UD(n){return _c.apply(this,arguments)}(e),getToken:r=>function Vk(n){return Ef.apply(this,arguments)}(e,r)}};(function zk(){(0,Rt._registerComponent)(new Vr.wA(Eb,$D,"PUBLIC")),(0,Rt._registerComponent)(new Vr.wA("installations-internal",Nu,"PRIVATE"))})(),(0,Rt.registerVersion)(bk,ED),(0,Rt.registerVersion)(bk,ED,"esm2017");const Fg="@firebase/remote-config",Ir=new q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sB{constructor(t,e,i,r){this.client=t,this.storage=e,this.storageCache=i,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-e,r=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,K.Z)(function*(){const[i,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,i))return r;t.eTag=r&&r.eTag;const s=yield e.client.fetch(t),l=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&l.push(e.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(l),s})()}}function oB(n=navigator){return n.languages&&n.languages[0]||n.language}class aB{constructor(t,e,i,r,s,l){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=l}fetch(t){var e=this;return(0,K.Z)(function*(){var i,r,s;const[l,d]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),_=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,b={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},D={sdk_version:e.sdkVersion,app_instance_id:l,app_instance_id_token:d,app_id:e.appId,language_code:oB()},T={method:"POST",headers:b,body:JSON.stringify(D)},x=fetch(_,T),O=new Promise((Ke,pt)=>{t.signal.addEventListener(()=>{const Ct=new Error("The operation was aborted.");Ct.name="AbortError",pt(Ct)})});let j;try{yield Promise.race([x,O]),j=yield x}catch(Ke){let pt="fetch-client-network";throw"AbortError"===(null===(i=Ke)||void 0===i?void 0:i.name)&&(pt="fetch-timeout"),Ir.create(pt,{originalErrorMessage:null===(r=Ke)||void 0===r?void 0:r.message})}let se=j.status;const Fe=j.headers.get("ETag")||void 0;let Ge,it;if(200===j.status){let Ke;try{Ke=yield j.json()}catch(pt){throw Ir.create("fetch-client-parse",{originalErrorMessage:null===(s=pt)||void 0===s?void 0:s.message})}Ge=Ke.entries,it=Ke.state}if("INSTANCE_STATE_UNSPECIFIED"===it?se=500:"NO_CHANGE"===it?se=304:("NO_TEMPLATE"===it||"EMPTY_CONFIG"===it)&&(Ge={}),304!==se&&200!==se)throw Ir.create("fetch-status",{httpStatus:se});return{status:se,eTag:Fe,config:Ge}})()}}class uB{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,K.Z)(function*(){const i=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,i)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:i}){var r=this;return(0,K.Z)(function*(){yield function lB(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Ir.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,e);try{const s=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function cB(n){if(!(n instanceof q.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s))throw s;const l={throttleEndTimeMillis:Date.now()+(0,q.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(l),r.attemptFetch(t,l)}})()}}class Hg{constructor(t,e,i,r,s){this.app=t,this._client=e,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sb(n,t){var e;const i=n.target.error||void 0;return Ir.create(t,{originalErrorMessage:i&&(null===(e=i)||void 0===e?void 0:e.message)})}const el="app_namespace_store";class fB{constructor(t,e,i,r=function ZD(){return new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{t(Sb(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(el,{keyPath:"compositeKey"})}}catch(i){t(Ir.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}})}()){this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,K.Z)(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{var l;const p=i.transaction([el],"readonly").objectStore(el),_=e.createCompositeKey(t);try{const b=p.get(_);b.onerror=D=>{s(Sb(D,"storage-get"))},b.onsuccess=D=>{const T=D.target.result;r(T?T.value:void 0)}}catch(b){s(Ir.create("storage-get",{originalErrorMessage:null===(l=b)||void 0===l?void 0:l.message}))}})})()}set(t,e){var i=this;return(0,K.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,l)=>{var d;const _=r.transaction([el],"readwrite").objectStore(el),b=i.createCompositeKey(t);try{const D=_.put({compositeKey:b,value:e});D.onerror=T=>{l(Sb(T,"storage-set"))},D.onsuccess=()=>{s()}}catch(D){l(Ir.create("storage-set",{originalErrorMessage:null===(d=D)||void 0===d?void 0:d.message}))}})})()}delete(t){var e=this;return(0,K.Z)(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{var l;const p=i.transaction([el],"readwrite").objectStore(el),_=e.createCompositeKey(t);try{const b=p.delete(_);b.onerror=D=>{s(Sb(D,"storage-delete"))},b.onsuccess=()=>{r()}}catch(b){s(Ir.create("storage-delete",{originalErrorMessage:null===(l=b)||void 0===l?void 0:l.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class Tb{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,K.Z)(function*(){const e=t.storage.getLastFetchStatus(),i=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),s=yield e;s&&(t.lastFetchStatus=s);const l=yield i;l&&(t.lastSuccessfulFetchTimestampMillis=l);const d=yield r;d&&(t.activeConfig=d)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function mB(){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,K.Z)(function*(){if(!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}!function KD(){(0,Rt._registerComponent)(new Vr.wA("remote-config",function n(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ir.create("registration-window");if(!(0,q.hl)())throw Ir.create("indexed-db-unavailable");const{projectId:s,apiKey:l,appId:d}=i.options;if(!s)throw Ir.create("registration-project-id");if(!l)throw Ir.create("registration-api-key");if(!d)throw Ir.create("registration-app-id");const p=new fB(d,i.name,e=e||"firebase"),_=new Tb(p),b=new Br.Yd(Fg);b.logLevel=Br.in.ERROR;const D=new aB(r,Rt.SDK_VERSION,e,s,l,d),T=new uB(D,p),x=new sB(T,p,_,b),O=new Hg(i,x,_,p,b);return function WD(n){const t=(0,q.m9)(n);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(O),O},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(Fg,"0.3.11"),(0,Rt.registerVersion)(Fg,"0.3.11","esm2017")}();const eR="/firebase-messaging-sw.js",tR="/firebase-cloud-messaging-push-scope",Df="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",iR="google.c.a.c_id",gB="google.c.a.c_l",_B="google.c.a.ts",rR="google.c.a.e";var Fu=(()=>{return(n=Fu||(Fu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Fu;var n})();function tl(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sR(n){const e=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const zg="fcm_token_details_db",oR="fcm_token_object_Store";function Ns(n){return Mb.apply(this,arguments)}function Mb(){return Mb=(0,K.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(zg))return null;let t=null;return(yield(0,Pu.X3)(zg,5,{upgrade:(i=(0,K.Z)(function*(r,s,l,d){var p;if(s<2||!r.objectStoreNames.contains(oR))return;const _=d.objectStore(oR),b=yield _.index("fcmSenderId").get(n);if(yield _.clear(),b)if(2===s){const D=b;if(!D.auth||!D.p256dh||!D.endpoint)return;t={token:D.fcmToken,createTime:null!==(p=D.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:tl(D.vapidKey)}}}else if(3===s){const D=b;t={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:tl(D.auth),p256dh:tl(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:tl(D.vapidKey)}}}else if(4===s){const D=b;t={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:tl(D.auth),p256dh:tl(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:tl(D.vapidKey)}}}}),function(s,l,d,p){return i.apply(this,arguments)})})).close(),yield(0,Pu.Lj)(zg),yield(0,Pu.Lj)("fcm_vapid_details_db"),yield(0,Pu.Lj)("undefined"),xb(t)?t:null;var i}),Mb.apply(this,arguments)}function xb(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const yc="firebase-messaging-store";let If=null;function kb(){return If||(If=(0,Pu.X3)("firebase-messaging-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(yc)}})),If}function XD(n){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,K.Z)(function*(n){const t=Yg(n),i=yield(yield kb()).transaction(yc).objectStore(yc).get(t);if(i)return i;{const r=yield Ns(n.appConfig.senderId);if(r)return yield Gg(n,r),r}})).apply(this,arguments)}function Gg(n,t){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,K.Z)(function*(n,t){const e=Yg(n),r=(yield kb()).transaction(yc,"readwrite");return yield r.objectStore(yc).put(t,e),yield r.done,t})).apply(this,arguments)}function lR(n){return qg.apply(this,arguments)}function qg(){return(qg=(0,K.Z)(function*(n){const t=Yg(n),i=(yield kb()).transaction(yc,"readwrite");yield i.objectStore(yc).delete(t),yield i.done})).apply(this,arguments)}function Yg({appConfig:n}){return n.appId}const Di=new q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function uR(n,t){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,K.Z)(function*(n,t){var e;const i=yield JD(n),r=eI(t),s={method:"POST",headers:i,body:JSON.stringify(r)};let l;try{l=yield(yield fetch(Rb(n.appConfig),s)).json()}catch(d){throw Di.create("token-subscribe-failed",{errorInfo:null===(e=d)||void 0===e?void 0:e.toString()})}if(l.error)throw Di.create("token-subscribe-failed",{errorInfo:l.error.message});if(!l.token)throw Di.create("token-subscribe-no-token");return l.token})).apply(this,arguments)}function nl(n,t){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,K.Z)(function*(n,t){var e;const i=yield JD(n),r=eI(t.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let l;try{l=yield(yield fetch(`${Rb(n.appConfig)}/${t.token}`,s)).json()}catch(d){throw Di.create("token-update-failed",{errorInfo:null===(e=d)||void 0===e?void 0:e.toString()})}if(l.error)throw Di.create("token-update-failed",{errorInfo:l.error.message});if(!l.token)throw Di.create("token-update-no-token");return l.token})).apply(this,arguments)}function Kg(n,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,K.Z)(function*(n,t){var e;const r={method:"DELETE",headers:yield JD(n)};try{const l=yield(yield fetch(`${Rb(n.appConfig)}/${t}`,r)).json();if(l.error)throw Di.create("token-unsubscribe-failed",{errorInfo:l.error.message})}catch(s){throw Di.create("token-unsubscribe-failed",{errorInfo:null===(e=s)||void 0===e?void 0:e.toString()})}})).apply(this,arguments)}function Rb({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function JD(n){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,K.Z)(function*({appConfig:n,installations:t}){const e=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})})).apply(this,arguments)}function eI({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const r={web:{endpoint:e,auth:t,p256dh:n}};return i!==Df&&(r.web.applicationPubKey=i),r}const dR=6048e5;function hR(n){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,K.Z)(function*(n){const t=yield tI(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:tl(t.getKey("auth")),p256dh:tl(t.getKey("p256dh"))},i=yield XD(n.firebaseDependencies);if(i){if(nI(i.subscriptionOptions,e))return Date.now()>=i.createTime+dR?pR(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{yield Kg(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return mR(n.firebaseDependencies,e)}return mR(n.firebaseDependencies,e)})).apply(this,arguments)}function fR(n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,K.Z)(function*(n){const t=yield XD(n.firebaseDependencies);t&&(yield Kg(n.firebaseDependencies,t.token),yield lR(n.firebaseDependencies));const e=yield n.swRegistration.pushManager.getSubscription();return!e||e.unsubscribe()})).apply(this,arguments)}function pR(n,t){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,K.Z)(function*(n,t){try{const e=yield nl(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield Gg(n.firebaseDependencies,i),e}catch(e){throw yield fR(n),e}})).apply(this,arguments)}function mR(n,t){return Af.apply(this,arguments)}function Af(){return(Af=(0,K.Z)(function*(n,t){const i={token:yield uR(n,t),createTime:Date.now(),subscriptionOptions:t};return yield Gg(n,i),i.token})).apply(this,arguments)}function tI(n,t){return e_.apply(this,arguments)}function e_(){return(e_=(0,K.Z)(function*(n,t){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sR(t)})})).apply(this,arguments)}function nI(n,t){return t.vapidKey===n.vapidKey&&t.endpoint===n.endpoint&&t.auth===n.auth&&t.p256dh===n.p256dh}function Pb(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function iI(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const r=t.notification.image;r&&(n.notification.image=r)}(t,n),function t_(n,t){!t.data||(n.data=t.data)}(t,n),function n_(n,t){var e,i,r,s,l;if(!(t.fcmOptions||null!==(e=t.notification)&&void 0!==e&&e.click_action))return;n.fcmOptions={};const d=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;d&&(n.fcmOptions.link=d);const p=null===(l=t.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(t,n),t}function rI(n){return"object"==typeof n&&!!n&&iR in n}function sI(n,t){const e=[];for(let i=0;i<n.length;i++)e.push(n.charAt(i)),i<t.length&&e.push(t.charAt(i));return e.join("")}function i_(n){return Di.create("missing-app-config-values",{valueName:n})}sI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sI("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gR{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function oI(n){if(!n||!n.options)throw i_("App Configuration Object");if(!n.name)throw i_("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw i_(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}function aI(n){return lI.apply(this,arguments)}function lI(){return(lI=(0,K.Z)(function*(n){var t;try{n.swRegistration=yield navigator.serviceWorker.register(eR,{scope:tR}),n.swRegistration.update().catch(()=>{})}catch(e){throw Di.create("failed-service-worker-registration",{browserErrorMessage:null===(t=e)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function vB(n,t){return r_.apply(this,arguments)}function r_(){return(r_=(0,K.Z)(function*(n,t){if(!t&&!n.swRegistration&&(yield aI(n)),t||!n.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Di.create("invalid-sw-registration");n.swRegistration=t}})).apply(this,arguments)}function _R(n,t){return Nb.apply(this,arguments)}function Nb(){return(Nb=(0,K.Z)(function*(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=Df)})).apply(this,arguments)}function uI(){return(uI=(0,K.Z)(function*(n,t){if(!navigator)throw Di.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Di.create("permission-blocked");return yield _R(n,t?.vapidKey),yield vB(n,t?.serviceWorkerRegistration),hR(n)})).apply(this,arguments)}function bB(n,t,e){return dI.apply(this,arguments)}function dI(){return(dI=(0,K.Z)(function*(n,t,e){const i=wB(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[iR],message_name:e[gB],message_time:e[_B],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wB(n){switch(n){case Fu.NOTIFICATION_CLICKED:return"notification_open";case Fu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fb(){return(Fb=(0,K.Z)(function*(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===Fu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Pb(e)):n.onMessageHandler.next(Pb(e)));const i=e.data;rI(i)&&"1"===i[rR]&&(yield bB(n,e.messageType,i))})).apply(this,arguments)}const Mf="@firebase/messaging",yR=n=>{const t=new gR(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function CB(n,t){return Fb.apply(this,arguments)}(t,e)),t},fI=n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>function cI(n,t){return uI.apply(this,arguments)}(t,i)}};function Lb(){return xf.apply(this,arguments)}function xf(){return(xf=(0,K.Z)(function*(){try{yield(0,q.eu)()}catch{return!1}return typeof window<"u"&&(0,q.hl)()&&(0,q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vc(){(0,Rt._registerComponent)(new Vr.wA("messaging",yR,"PUBLIC")),(0,Rt._registerComponent)(new Vr.wA("messaging-internal",fI,"PRIVATE")),(0,Rt.registerVersion)(Mf,"0.9.16"),(0,Rt.registerVersion)(Mf,"0.9.16","esm2017")}();const jb="analytics",gI="firebase_id",wR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_I="https://www.googletagmanager.com/gtag/js",Ii=new Br.Yd("@firebase/analytics");function $b(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function yI(n,t){const e=document.createElement("script");e.src=`${_I}?l=${n}&id=${t}`,e.async=!0,document.head.appendChild(e)}function ER(n,t,e,i,r,s){return s_.apply(this,arguments)}function s_(){return(s_=(0,K.Z)(function*(n,t,e,i,r,s){const l=i[r];try{if(l)yield t[l];else{const p=(yield $b(e)).find(_=>_.measurementId===r);p&&(yield t[p.appId])}}catch(d){Ii.error(d)}n("config",r,s)})).apply(this,arguments)}function zb(n,t,e,i,r){return vI.apply(this,arguments)}function vI(){return(vI=(0,K.Z)(function*(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const d=yield $b(e);for(const p of l){const _=d.find(D=>D.measurementId===p),b=_&&t[_.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),n("event",i,r||{})}catch(s){Ii.error(s)}})).apply(this,arguments)}function DR(){const n=window.document.getElementsByTagName("script");for(const t of Object.values(n))if(t.src&&t.src.includes(_I))return t;return null}const ps=new q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wI=new class TR{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function DB(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function IB(n){return CI.apply(this,arguments)}function CI(){return(CI=(0,K.Z)(function*(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:DB(i)},s=wR.replace("{app-id}",e),l=yield fetch(s,r);if(200!==l.status&&304!==l.status){let d="";try{const p=yield l.json();null!==(t=p.error)&&void 0!==t&&t.message&&(d=p.error.message)}catch{}throw ps.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()})).apply(this,arguments)}function SB(n){return EI.apply(this,arguments)}function EI(){return(EI=(0,K.Z)(function*(n,t=wI,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw ps.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ps.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new MB;return setTimeout((0,K.Z)(function*(){d.abort()}),void 0!==e?e:6e4),DI({appId:i,apiKey:r,measurementId:s},l,d,t)})).apply(this,arguments)}function DI(n,t,e){return II.apply(this,arguments)}function II(){return(II=(0,K.Z)(function*(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=wI){var s,l;const{appId:d,measurementId:p}=n;try{yield TB(i,t)}catch(_){if(p)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${null===(s=_)||void 0===s?void 0:s.message}]`),{appId:d,measurementId:p};throw _}try{const _=yield IB(n);return r.deleteThrottleMetadata(d),_}catch(_){const b=_;if(!AB(b)){if(r.deleteThrottleMetadata(d),p)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:d,measurementId:p};throw _}const D=503===Number(null===(l=b?.customData)||void 0===l?void 0:l.httpStatus)?(0,q.$s)(e,r.intervalMillis,30):(0,q.$s)(e,r.intervalMillis),T={throttleEndTimeMillis:Date.now()+D,backoffCount:e+1};return r.setThrottleMetadata(d,T),Ii.debug(`Calling attemptFetch again in ${D} millis`),DI(n,T,i,r)}})).apply(this,arguments)}function TB(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(ps.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function AB(n){if(!(n instanceof q.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}class MB{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let SI,S;function o(){return(o=(0,K.Z)(function*(n,t,e,i,r){if(r&&r.global)n("event",e,i);else{const s=yield t;n("event",e,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function M(n){S=n}function R(n){SI=n}function z(){return te.apply(this,arguments)}function te(){return(te=(0,K.Z)(function*(){var n;if(!(0,q.hl)())return Ii.warn(ps.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,q.eu)()}catch(t){return Ii.warn(ps.create("indexeddb-unavailable",{errorInfo:null===(n=t)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function Me(){return(Me=(0,K.Z)(function*(n,t,e,i,r,s,l){var d;const p=SB(n);p.then(x=>{e[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ii.error(x)),t.push(p);const _=z().then(x=>{if(x)return i.getId()}),[b,D]=yield Promise.all([p,_]);DR()||yI(s,b.measurementId),S&&(r("consent","default",S),M(void 0)),r("js",new Date);const T=null!==(d=l?.config)&&void 0!==d?d:{};return T.origin="firebase",T.update=!0,null!=D&&(T[gI]=D),r("config",b.measurementId,T),SI&&(r("set",SI),R(void 0)),b.measurementId})).apply(this,arguments)}class $e{constructor(t){this.app=t}_delete(){return delete qe[this.app.options.appId],Promise.resolve()}}let qe={},vt=[];const Ie={};let Sn,ir,ct="dataLayer",kf=!1;function qb(n,t,e){!function Wb(){const n=[];if((0,q.ru)()&&n.push("This is a browser extension environment."),(0,q.zI)()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=ps.create("invalid-analytics-context",{errorInfo:t});Ii.warn(e.message)}}();const i=n.options.appId;if(!i)throw ps.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ps.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qe[i])throw ps.create("already-exists",{id:i});if(!kf){!function CR(n){let t=[];Array.isArray(window[n])?t=window[n]:window[n]=t}(ct);const{wrappedGtag:s,gtagCore:l}=function Gb(n,t,e,i,r){let s=function(...l){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function bI(n,t,e,i){function s(){return(s=(0,K.Z)(function*(l,d,p){try{"event"===l?yield zb(n,t,e,d,p):"config"===l?yield ER(n,t,e,i,d,p):"consent"===l?n("consent","update",p):n("set",d)}catch(_){Ii.error(_)}})).apply(this,arguments)}return function r(l,d,p){return s.apply(this,arguments)}}(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}(qe,vt,Ie,ct,"gtag");ir=s,Sn=l,kf=!0}return qe[i]=function me(n,t,e,i,r,s,l){return Me.apply(this,arguments)}(n,vt,Ie,t,Sn,ct,e),new $e(n)}function Zb(){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,K.Z)(function*(){if((0,q.ru)()||!(0,q.zI)()||!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch{return!1}})).apply(this,arguments)}const kB="@firebase/analytics";!function m6(){(0,Rt._registerComponent)(new Vr.wA(jb,(t,{options:e})=>qb(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,Rt._registerComponent)(new Vr.wA("analytics-internal",function n(t){try{const e=t.getProvider(jb).getImmediate();return{logEvent:(i,r,s)=>function p6(n,t,e,i){n=(0,q.m9)(n),function xB(n,t,e,i,r){return o.apply(this,arguments)}(ir,qe[n.app.options.appId],t,e,i).catch(r=>Ii.error(r))}(e,i,r,s)}}catch(e){throw ps.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,Rt.registerVersion)(kB,"0.8.0"),(0,Rt.registerVersion)(kB,"0.8.0","esm2017")}();const y6=new class _6 extends zm{}(class g6 extends Hh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});var Kb=N(9468),o_=N(5363);const Qb=new c.GfV("7.4.1"),AR="__angularfire_symbol__analyticsIsSupportedValue",MR="__angularfire_symbol__analyticsIsSupported",xR="__angularfire_symbol__remoteConfigIsSupportedValue",kR="__angularfire_symbol__remoteConfigIsSupported",RR="__angularfire_symbol__messagingIsSupportedValue",OR="__angularfire_symbol__messagingIsSupported";function xI(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(l=>l.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}globalThis[MR]||(globalThis[MR]=Zb().then(n=>globalThis[AR]=n).catch(()=>globalThis[AR]=!1)),globalThis[OR]||(globalThis[OR]=Lb().then(n=>globalThis[RR]=n).catch(()=>globalThis[RR]=!1)),globalThis[kR]||(globalThis[kR]=mB().then(n=>globalThis[xR]=n).catch(()=>globalThis[xR]=!1));const kI=(n,t)=>{const e=t?[t]:(0,Rt.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(l=>{i.includes(l)||i.push(l)})}),i};function a_(){}class OB{constructor(t,e=y6){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(l){r.runGuarded(()=>{t.apply(this,[l])})},e,i)}}class v6{constructor(t){this.zone=t,this.task=null}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",a_,{},a_,a_)),e.pipe(pn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let l_=(()=>{class n{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new OB(Zone.current)),this.insideAngular=e.run(()=>new OB(Zone.current,$a)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Of(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function b6(n){return Of().ngZone.runOutsideAngular(()=>n())}function Pf(n){return Of().ngZone.run(()=>n())}function Ls(n){return Of(),function w6(n){return function(e){return(e=e.lift(new v6(n.ngZone))).pipe((0,Kb.R)(n.outsideAngular),(0,o_.Q)(n.insideAngular))}}(Of())(n)}const C6=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Pf(()=>n.apply(void 0,i))},RI=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||(e=Pf(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",a_,{},a_,a_)))),i[s]=C6(i[s],e));const r=b6(()=>n.apply(this,i));if(!t){if(r instanceof kn.y){const s=Of();return r.pipe((0,Kb.R)(s.outsideAngular),(0,o_.Q)(s.insideAngular))}return Pf(()=>r)}return r instanceof kn.y?r.pipe(Ls):r instanceof Promise?Pf(()=>new Promise((s,l)=>r.then(d=>Pf(()=>s(d)),d=>Pf(()=>l(d))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Pf(()=>r)};function NR(){return(0,Bn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Ln.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var rt,ha=N(2011),E6=(N(5881),N(3942)),D6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bc={},FR=FR||{},Pt=D6||self;function OI(){}function LR(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Xb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var VR="closure_uid_"+(1e9*Math.random()>>>0),S6=0;function T6(n,t,e){return n.call.apply(n.bind,arguments)}function A6(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function rr(n,t,e){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T6:A6).apply(null,arguments)}function PI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function sr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return t.prototype[r].apply(i,l)}}function Lu(){this.s=this.s,this.o=this.o}var x6={};Lu.prototype.s=!1,Lu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function I6(n){return Object.prototype.hasOwnProperty.call(n,VR)&&n[VR]||(n[VR]=++S6)}(this);delete x6[n]}},Lu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PB=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},NB=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function FB(n){return Array.prototype.concat.apply([],arguments)}function BR(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function NI(n){return/^[\s\xa0]*$/.test(n)}var Hr,LB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ur(n,t){return-1!=n.indexOf(t)}function UR(n,t){return n<t?-1:n>t?1:0}e:{var VB=Pt.navigator;if(VB){var BB=VB.userAgent;if(BB){Hr=BB;break e}}Hr=""}function HR(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function UB(n){const t={};for(const e in n)t[e]=n[e];return t}var HB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jB(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<HB.length;s++)e=HB[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function jR(n){return jR[" "](n),n}jR[" "]=OI;var FI,n,O6=Ur(Hr,"Opera"),c_=Ur(Hr,"Trident")||Ur(Hr,"MSIE"),$B=Ur(Hr,"Edge"),$R=$B||c_,zB=Ur(Hr,"Gecko")&&!(Ur(Hr.toLowerCase(),"webkit")&&!Ur(Hr,"Edge"))&&!(Ur(Hr,"Trident")||Ur(Hr,"MSIE"))&&!Ur(Hr,"Edge"),P6=Ur(Hr.toLowerCase(),"webkit")&&!Ur(Hr,"Edge");function GB(){var n=Pt.document;return n?n.documentMode:void 0}e:{var zR="",GR=(n=Hr,zB?/rv:([^\);]+)(\)|;)/.exec(n):$B?/Edge\/([\d\.]+)/.exec(n):c_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):P6?/WebKit\/(\S+)/.exec(n):O6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(GR&&(zR=GR?GR[1]:""),c_){var WR=GB();if(null!=WR&&WR>parseFloat(zR)){FI=String(WR);break e}}FI=zR}var N6={};var L6=Pt.document&&c_&&(GB()||parseInt(FI,10))||void 0,V6=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",OI,t),Pt.removeEventListener("test",OI,t)}catch{}return n}();function Sr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Jb(n,t){if(Sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(zB){e:{try{jR(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:B6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jb.Z.h.call(this)}}Sr.prototype.h=function(){this.defaultPrevented=!0},sr(Jb,Sr);var B6={2:"touch",3:"pen",4:"mouse"};Jb.prototype.h=function(){Jb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ew="closure_listenable_"+(1e6*Math.random()|0),U6=0;function H6(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++U6,this.ca=this.fa=!1}function LI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function VI(n){this.src=n,this.g={},this.h=0}function YR(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=PB(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(LI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function ZR(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}VI.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=ZR(n,t,i,r);return-1<l?(t=n[l],e||(t.fa=!1)):((t=new H6(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var KR="closure_lm_"+(1e6*Math.random()|0),QR={};function qB(n,t,e,i,r){if(i&&i.once)return ZB(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qB(n,t[s],e,i,r);return null}return e=tO(e),n&&n[ew]?n.N(t,e,Xb(i)?!!i.capture:!!i,r):YB(n,t,e,!1,i,r)}function YB(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var l=Xb(r)?!!r.capture:!!r,d=JR(n);if(d||(n[KR]=d=new VI(n)),(e=d.add(t,e,i,l,s)).proxy)return e;if(i=function j6(){var t=$6;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)V6||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(QB(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function ZB(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ZB(n,t[s],e,i,r);return null}return e=tO(e),n&&n[ew]?n.O(t,e,Xb(i)?!!i.capture:!!i,r):YB(n,t,e,!0,i,r)}function KB(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)KB(n,t[s],e,i,r);else i=Xb(i)?!!i.capture:!!i,e=tO(e),n&&n[ew]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=ZR(s=n.g[t],e,i,r))&&(LI(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=JR(n))&&(t=n.g[t.toString()],n=-1,t&&(n=ZR(t,e,i,r)),(e=-1<n?t[n]:null)&&XR(e))}function XR(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[ew])YR(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(QB(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=JR(t))?(YR(e,n),0==e.h&&(e.src=null,t[KR]=null)):LI(n)}}}function QB(n){return n in QR?QR[n]:QR[n]="on"+n}function $6(n,t){if(n.ca)n=!0;else{t=new Jb(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&XR(n),n=e.call(i,t)}return n}function JR(n){return(n=n[KR])instanceof VI?n:null}var eO="__closure_events_fn_"+(1e9*Math.random()>>>0);function tO(n){return"function"==typeof n?n:(n[eO]||(n[eO]=function(t){return n.handleEvent(t)}),n[eO])}function ji(){Lu.call(this),this.i=new VI(this),this.P=this,this.I=null}function or(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Sr(t,n);else if(t instanceof Sr)t.target=t.target||n;else{var r=t;jB(t=new Sr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var l=t.g=e[s];r=BI(l,i,!0,t)&&r}if(r=BI(l=t.g=n,i,!0,t)&&r,r=BI(l,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=BI(l=t.g=e[s],i,!1,t)&&r}function BI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.ca&&l.capture==e){var d=l.listener,p=l.ia||l.src;l.fa&&YR(n.i,l),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}sr(ji,Lu),ji.prototype[ew]=!0,ji.prototype.removeEventListener=function(n,t,e,i){KB(this,n,t,e,i)},ji.prototype.M=function(){if(ji.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)LI(e[i]);delete n.g[t],n.h--}}this.I=null},ji.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ji.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var nO=Pt.JSON.stringify;function z6(){var n=JB;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var rO,XB=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new W6,n=>n.reset());class W6{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function q6(n){Pt.setTimeout(()=>{throw n},0)}function iO(n,t){rO||function Y6(){var n=Pt.Promise.resolve(void 0);rO=function(){n.then(Z6)}}(),sO||(rO(),sO=!0),JB.add(n,t)}var sO=!1,JB=new class G6{constructor(){this.h=this.g=null}add(t,e){const i=XB.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Z6(){for(var n;n=z6();){try{n.h.call(n.g)}catch(e){q6(e)}var t=XB;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}sO=!1}function UI(n,t){ji.call(this),this.h=n||1,this.g=t||Pt,this.j=rr(this.kb,this),this.l=Date.now()}function oO(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function aO(n,t,e){if("function"==typeof n)e&&(n=rr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Pt.setTimeout(n,t||0)}function e2(n){n.g=aO(()=>{n.g=null,n.i&&(n.i=!1,e2(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}sr(UI,ji),(rt=UI.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),or(this,"tick"),this.da&&(oO(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){UI.Z.M.call(this),oO(this),delete this.g};class K6 extends Lu{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:e2(this)}M(){super.M(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tw(n){Lu.call(this),this.h=n,this.g={}}sr(tw,Lu);var t2=[];function n2(n,t,e,i){Array.isArray(e)||(e&&(t2[0]=e.toString()),e=t2);for(var r=0;r<e.length;r++){var s=qB(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function r2(n){HR(n.g,function(t,e){this.g.hasOwnProperty(e)&&XR(t)},n),n.g={}}function HI(){this.g=!0}function u_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function eY(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return nO(e)}catch{return t}}(n,e)+(i?" "+i:"")})}tw.prototype.M=function(){tw.Z.M.call(this),r2(this)},tw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},HI.prototype.Aa=function(){this.g=!1},HI.prototype.info=function(){};var Nf={},s2=null;function jI(){return s2=s2||new ji}function o2(n){Sr.call(this,Nf.Ma,n)}function nw(n){const t=jI();or(t,new o2(t,n))}function a2(n,t){Sr.call(this,Nf.STAT_EVENT,n),this.stat=t}function jr(n){const t=jI();or(t,new a2(t,n))}function l2(n,t){Sr.call(this,Nf.Na,n),this.size=t}function iw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},t)}Nf.Ma="serverreachability",sr(o2,Sr),Nf.STAT_EVENT="statevent",sr(a2,Sr),Nf.Na="timingevent",sr(l2,Sr);var $I={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},c2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lO(){}function d2(){}lO.prototype.h=null;var dO,rw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cO(){Sr.call(this,"d")}function uO(){Sr.call(this,"c")}function zI(){}function sw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new tw(this),this.P=tY,this.W=new UI(n=$R?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new h2}function h2(){this.i=null,this.g="",this.h=!1}sr(cO,Sr),sr(uO,Sr),sr(zI,lO),zI.prototype.g=function(){return new XMLHttpRequest},zI.prototype.i=function(){return{}},dO=new zI;var tY=45e3,hO={},GI={};function fO(n,t,e){n.K=1,n.v=KI(wc(t)),n.s=e,n.U=!0,f2(n,null)}function f2(n,t){n.F=Date.now(),ow(n),n.A=wc(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),C2(e.h,"t",i),n.C=0,e=n.l.H,n.h=new h2,n.g=G2(n.l,e?t:null,!n.s),0<n.O&&(n.L=new K6(rr(n.Ia,n,n.g),n.O)),n2(n.V,n.g,"readystatechange",n.gb),t=n.H?UB(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),nw(1),function Q6(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");l=2<=D.length&&"type"==D[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function p2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function m2(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=nY(n,e),r==GI){4==t&&(n.o=4,jr(14),i=!1),u_(n.j,n.m,null,"[Incomplete Response]");break}if(r==hO){n.o=4,jr(15),u_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}u_(n.j,n.m,r,null),pO(n,r)}p2(n)&&r!=GI&&r!=hO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,jr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),IO(t),t.L=!0,jr(11))):(u_(n.j,n.m,e,"[Invalid Chunked Response]"),Ff(n),aw(n))}function nY(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?GI:(e=Number(t.substring(e,i)),isNaN(e)?hO:(i+=1)+e>t.length?GI:(t=t.substr(i,e),n.C=i+e,t))}function ow(n){n.Y=Date.now()+n.P,g2(n,n.P)}function g2(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=iw(rr(n.eb,n),t)}function WI(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function aw(n){0==n.l.G||n.I||H2(n.l,n)}function Ff(n){WI(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,oO(n.W),r2(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function pO(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||_O(e.i,n)))if(e.I=n.N,!n.J&&_O(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;nS(e),eS(e)}DO(e),jr(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=iw(rr(e.ab,e),6e3));if(1>=I2(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else Bf(e,11)}else if((n.J||e.g==n)&&nS(e),!NI(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const b=_[3];null!=b&&(e.ma=b,e.h.info("VER="+e.ma));const D=_[4];null!=D&&(e.za=D,e.h.info("SVER="+e.za));const T=_[5];null!=T&&"number"==typeof T&&0<T&&(e.K=i=1.5*T,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const x=n.g;if(x){const O=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var s=i.i;!s.g&&(Ur(O,"spdy")||Ur(O,"quic")||Ur(O,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(yO(s,s.h),s.h=null))}if(i.D){const j=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.sa=j,Kn(i.F,i.D,j))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var l=n;if((i=e).oa=z2(i,i.H?i.la:null,i.W),l.J){S2(i.i,l);var d=l,p=i.K;p&&d.setTimeout(p),d.B&&(WI(d),ow(d)),i.g=l}else B2(i);0<e.l.length&&tS(e)}else"stop"!=_[0]&&"close"!=_[0]||Bf(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Bf(e,7):CO(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}nw(4)}catch{}}function mO(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(LR(n)||"string"==typeof n)NB(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(LR(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function iY(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(LR(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function d_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof d_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function gO(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Lf(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Lf(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Lf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(rt=sw.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const t=this.L;t&&3==Cc(n)?t.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const b=Cc(this.g);var t=this.g.Da();const D=this.g.ba();if(!(3>b)&&(3!=b||$R||this.g&&(this.h.h||this.g.ga()||P2(this.g)))){this.I||4!=b||7==t||nw(8==t||0>=D?3:2),WI(this);var e=this.g.ba();this.N=e;t:if(p2(this)){var i=P2(this.g);n="";var r=i.length,s=4==Cc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ff(this),aw(this);var l="";break t}this.h.i=new Pt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==e,function X6(n,t,e,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,b,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!NI(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,jr(12),Ff(this),aw(this);break e}u_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pO(this,e)}this.U?(m2(this,b,l),$R&&this.i&&3==b&&(n2(this.V,this.W,"tick",this.fb),this.W.start())):(u_(this.j,this.m,l,null),pO(this,l)),4==b&&Ff(this),this.i&&!this.I&&(4==b?H2(this.l,this):(this.i=!1,ow(this)))}else 400==e&&0<l.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),Ff(this),aw(this)}}}catch{}},rt.fb=function(){if(this.g){var n=Cc(this.g),t=this.g.ga();this.C<t.length&&(WI(this),m2(this,n,t),this.i&&4!=n&&ow(this))}},rt.cancel=function(){this.I=!0,Ff(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function J6(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(nw(3),jr(17)),Ff(this),this.o=2,aw(this)):g2(this,this.Y-n)},(rt=d_.prototype).R=function(){gO(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},rt.T=function(){return gO(this),this.g.concat()},rt.get=function(n,t){return Lf(this.h,n)?this.h[n]:t},rt.set=function(n,t){Lf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},rt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var _2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vf(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vf){this.g=void 0!==t?t:n.g,qI(this,n.j),this.s=n.s,YI(this,n.i),ZI(this,n.m),this.l=n.l,t=n.h;var e=new uw;e.i=t.i,t.g&&(e.g=new d_(t.g),e.h=t.h),y2(this,e),this.o=n.o}else n&&(e=String(n).match(_2))?(this.g=!!t,qI(this,e[1]||"",!0),this.s=lw(e[2]||""),YI(this,e[3]||"",!0),ZI(this,e[4]),this.l=lw(e[5]||"",!0),y2(this,e[6]||"",!0),this.o=lw(e[7]||"")):(this.g=!!t,this.h=new uw(null,this.g))}function wc(n){return new Vf(n)}function qI(n,t,e){n.j=e?lw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function YI(n,t,e){n.i=e?lw(t,!0):t}function ZI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function y2(n,t,e){t instanceof uw?(n.h=t,function hY(n,t){t&&!n.j&&(Vu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(b2(this,i),C2(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=cw(t,uY)),n.h=new uw(t,n.g))}function Kn(n,t,e){n.h.set(t,e)}function KI(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,aY),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function aY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(cw(t,v2,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(cw(t,v2,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(cw(e,"/"==e.charAt(0)?cY:lY,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",cw(e,dY)),n.join("")};var v2=/[#\/\?@]/g,lY=/[#\?:]/g,cY=/[#\?]/g,uY=/[#\?@]/g,dY=/#/g;function uw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Vu(n){n.g||(n.g=new d_,n.h=0,n.i&&function rY(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function b2(n,t){Vu(n),t=h_(n,t),Lf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Lf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&gO(n)))}function w2(n,t){return Vu(n),t=h_(n,t),Lf(n.g.h,t)}function C2(n,t,e){b2(n,t),0<e.length&&(n.i=null,n.g.set(h_(n,t),BR(e)),n.h+=e.length)}function h_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function E2(n){this.l=n||pY,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=uw.prototype).add=function(n,t){Vu(this),this.i=null,n=h_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rt.forEach=function(n,t){Vu(this),this.g.forEach(function(e,i){NB(e,function(r){n.call(t,r,i,this)},this)},this)},rt.T=function(){Vu(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},rt.R=function(n){Vu(this);var t=[];if("string"==typeof n)w2(this,n)&&(t=FB(t,this.g.get(h_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=FB(t,n[e])}return t},rt.set=function(n,t){return Vu(this),this.i=null,w2(this,n=h_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var l=r;""!==i[s]&&(l+="="+encodeURIComponent(String(i[s]))),n.push(l)}}return this.i=n.join("&")};var pY=10;function D2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function I2(n){return n.h?1:n.g?n.g.size:0}function _O(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function yO(n,t){n.g?n.g.add(t):n.h=t}function S2(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function T2(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return BR(n.i)}function vO(){}function mY(){this.g=new vO}function gY(n,t,e){const i=e||"";try{mO(n,function(r,s){let l=r;Xb(r)&&(l=nO(r)),t.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function QI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function dw(n){this.l=n.$b||null,this.j=n.ib||!1}function XI(n,t){ji.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=bO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}E2.prototype.cancel=function(){if(this.i=T2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vO.prototype.stringify=function(n){return Pt.JSON.stringify(n,void 0)},vO.prototype.parse=function(n){return Pt.JSON.parse(n,void 0)},sr(dw,lO),dw.prototype.g=function(){return new XI(this.l,this.j)},dw.prototype.i=function(n){return function(){return n}}({}),sr(XI,ji);var bO=0;function A2(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function hw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fw(n)}function fw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=XI.prototype).open=function(n,t){if(this.readyState!=bO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,fw(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Pt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hw(this)),this.readyState=bO},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fw(this)),this.g&&(this.readyState=3,fw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;A2(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?hw(this):fw(this),3==this.readyState&&A2(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,hw(this))},rt.Ta=function(n){this.g&&(this.response=n,hw(this))},rt.ha=function(){this.g&&hw(this)},rt.setRequestHeader=function(n,t){this.v.append(n,t)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(XI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yY=Pt.JSON.parse;function Si(n){ji.call(this),this.headers=new d_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=M2,this.K=this.L=!1}sr(Si,ji);var M2="",vY=/^https?$/i,bY=["POST","PUT"];function CY(n){return"content-type"==n.toLowerCase()}function x2(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,k2(n),JI(n)}function k2(n){n.D||(n.D=!0,or(n,"complete"),or(n,"error"))}function R2(n){if(n.h&&typeof FR<"u"&&(!n.C[1]||4!=Cc(n)||2!=n.ba()))if(n.v&&4==Cc(n))aO(n.Fa,0,n);else if(or(n,"readystatechange"),4==Cc(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(_2)[1]||null;if(!r&&Pt.self&&Pt.self.location){var s=Pt.self.location.protocol;r=s.substr(0,s.length-1)}i=!vY.test(r?r.toLowerCase():"")}e=i}if(e)or(n,"complete"),or(n,"success");else{n.m=6;try{var l=2<Cc(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.ba()+"]",k2(n)}}finally{JI(n)}}}function JI(n,t){if(n.g){O2(n);const e=n.g,i=n.C[0]?OI:null;n.g=null,n.C=null,t||or(n,"ready");try{e.onreadystatechange=i}catch{}}}function O2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function Cc(n){return n.g?n.g.readyState:0}function P2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case M2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function EY(n){let t="";return HR(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Kn(n,t,e))}function pw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function N2(n){this.za=0,this.l=[],this.h=new HI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pw("baseRetryDelayMs",5e3,n),this.$a=pw("retryDelaySeedMs",1e4,n),this.Ya=pw("forwardChannelMaxRetries",2,n),this.ra=pw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new E2(n&&n.concurrentRequestLimit),this.Ca=new mY,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function CO(n){if(F2(n),3==n.G){var t=n.V++,e=wc(n.F);Kn(e,"SID",n.J),Kn(e,"RID",t),Kn(e,"TYPE","terminate"),mw(n,e),(t=new sw(n,n.h,t,void 0)).K=2,t.v=KI(wc(e)),e=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(e=Pt.navigator.sendBeacon(t.v.toString(),"")),!e&&Pt.Image&&((new Image).src=t.v,e=!0),e||(t.g=G2(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ow(t)}$2(n)}function eS(n){n.g&&(IO(n),n.g.cancel(),n.g=null)}function F2(n){eS(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),nS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function EO(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&tS(n)}function tS(n){D2(n.i)||n.m||(n.m=!0,iO(n.Ha,n),n.C=0)}function L2(n,t){var e;e=t?t.m:n.V++;const i=wc(n.F);Kn(i,"SID",n.J),Kn(i,"RID",e),Kn(i,"AID",n.U),mw(n,i),n.o&&n.s&&wO(i,n.o,n.s),e=new sw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=V2(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),yO(n.i,e),fO(e,i,t)}function mw(n,t){n.j&&mO({},function(e,i){Kn(t,i,e)})}function V2(n,t,e){e=Math.min(n.l.length,e);var i=n.j?rr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{gY(b,l,"req"+_+"_")}catch{i&&i(b)}}if(d){i=l.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function B2(n){n.g||n.u||(n.Y=1,iO(n.Ga,n),n.A=0)}function DO(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=iw(rr(n.Ga,n),j2(n,n.A)),n.A++,0))}function IO(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function U2(n){n.g=new sw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=wc(n.oa);Kn(t,"RID","rpc"),Kn(t,"SID",n.J),Kn(t,"CI",n.N?"0":"1"),Kn(t,"AID",n.U),mw(n,t),Kn(t,"TYPE","xmlhttp"),n.o&&n.s&&wO(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=KI(wc(t)),e.s=null,e.U=!0,f2(e,n)}function nS(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function H2(n,t){var e=null;if(n.g==t){nS(n),IO(n),n.g=null;var i=2}else{if(!_O(n.i,t))return;e=t.D,S2(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;or(i=jI(),new l2(i,e,t,r)),tS(n)}else B2(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function DY(n,t){return!(I2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=iw(rr(n.Ha,n,t),j2(n,n.C)),n.C++,0)))}(n,t)||2==i&&DO(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Bf(n,5);break;case 4:Bf(n,10);break;case 3:Bf(n,6);break;default:Bf(n,2)}}function j2(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Bf(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=rr(n.jb,n);e||(e=new Vf("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||qI(e,"https"),KI(e)),function _Y(n,t){const e=new HI;if(Pt.Image){const i=new Image;i.onload=PI(QI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=PI(QI,e,i,"TestLoadImage: error",!1,t),i.onabort=PI(QI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=PI(QI,e,i,"TestLoadImage: timeout",!1,t),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else jr(2);n.G=0,n.j&&n.j.va(t),$2(n),F2(n)}function $2(n){n.G=0,n.I=-1,n.j&&((0!=T2(n.i).length||0!=n.l.length)&&(n.i.i.length=0,BR(n.l),n.l.length=0),n.j.ua())}function z2(n,t,e){let i=function sY(n){return n instanceof Vf?wc(n):new Vf(n,void 0)}(e);if(""!=i.i)t&&YI(i,t+"."+i.i),ZI(i,i.m);else{const r=Pt.location;i=function oY(n,t,e,i){var r=new Vf(null,void 0);return n&&qI(r,n),t&&YI(r,t),e&&ZI(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&HR(n.aa,function(r,s){Kn(i,s,r)}),e=n.sa,(t=n.D)&&e&&Kn(i,t,e),Kn(i,"VER",n.ma),mw(n,i),i}function G2(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Si(e&&n.Ba&&!n.qa?new dw({ib:!0}):n.qa)).L=n.H,t}function W2(){}function iS(){if(c_&&!(10<=Number(L6)))throw Error("Environmental error: no available transport.")}function Vs(n,t){ji.call(this),this.g=new N2(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!NI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!NI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new f_(this)}function q2(n){cO.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Y2(){uO.call(this),this.status=1}function f_(n){this.g=n}(rt=Si.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dO.g(),this.C=function u2(n){return n.h||(n.h=n.i())}(this.u?this.u:dO),this.g.onreadystatechange=rr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void x2(this,s)}n=e||"";const r=new d_(this.headers);i&&mO(i,function(s,l){r.set(l,s)}),i=function k6(n){e:{var t=CY;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Pt.FormData&&n instanceof Pt.FormData,!(0<=PB(bY,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{O2(this),0<this.B&&((this.K=function wY(n){return c_&&function F6(){return function R6(n){var t=N6;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=LB(String(FI)).split("."),e=LB("9").split("."),i=Math.max(t.length,e.length);for(let l=0;0==n&&l<i;l++){var r=t[l]||"",s=e[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=UR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||UR(0==r[2].length,0==s[2].length)||UR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.pa,this)):this.A=aO(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){x2(this,s)}},rt.pa=function(){typeof FR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,or(this,"complete"),or(this,"abort"),JI(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),JI(this,!0)),Si.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?R2(this):this.cb())},rt.cb=function(){R2(this)},rt.ba=function(){try{return 2<Cc(this)?this.g.status:-1}catch{return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),yY(t)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=N2.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new sw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=UB(s),jB(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=V2(this,r,t),Kn(e=wc(this.F),"RID",n),Kn(e,"CVER",22),this.D&&Kn(e,"X-HTTP-Session-Id",this.D),mw(this,e),this.o&&s&&wO(e,this.o,s),yO(this.i,r),this.Ra&&Kn(e,"TYPE","init"),this.ja?(Kn(e,"$req",t),Kn(e,"SID","null"),r.$=!0,fO(r,e,null)):fO(r,e,t),this.G=2}}else 3==this.G&&(n?L2(this,n):0==this.l.length||D2(this.i)||L2(this))},rt.Ga=function(){if(this.u=null,U2(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=iw(rr(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jr(10),eS(this),U2(this))},rt.ab=function(){null!=this.v&&(this.v=null,eS(this),DO(this),jr(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),jr(2)):(this.h.info("Failed to ping google.com"),jr(1))},(rt=W2.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},iS.prototype.g=function(n,t){return new Vs(n,t)},sr(Vs,ji),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),iO(rr(n.hb,n,t))),jr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=z2(n,null,n.W),tS(n)},Vs.prototype.close=function(){CO(this.g)},Vs.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,EO(this.g,t)}else this.v?((t={}).__data__=nO(n),EO(this.g,t)):EO(this.g,n)},Vs.prototype.M=function(){this.g.j=null,delete this.j,CO(this.g),delete this.g,Vs.Z.M.call(this)},sr(q2,cO),sr(Y2,uO),sr(f_,W2),f_.prototype.xa=function(){or(this.g,"a")},f_.prototype.wa=function(n){or(this.g,new q2(n))},f_.prototype.va=function(n){or(this.g,new Y2(n))},f_.prototype.ua=function(){or(this.g,"b")},iS.prototype.createWebChannel=iS.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,$I.NO_ERROR=0,$I.TIMEOUT=8,$I.HTTP_ERROR=6,c2.COMPLETE="complete",d2.EventType=rw,rw.OPEN="a",rw.CLOSE="b",rw.ERROR="c",rw.MESSAGE="d",ji.prototype.listen=ji.prototype.N,Si.prototype.listenOnce=Si.prototype.O,Si.prototype.getLastError=Si.prototype.La,Si.prototype.getLastErrorCode=Si.prototype.Da,Si.prototype.getStatus=Si.prototype.ba,Si.prototype.getResponseJson=Si.prototype.Qa,Si.prototype.getResponseText=Si.prototype.ga,Si.prototype.send=Si.prototype.ea;var IY=bc.createWebChannelTransport=function(){return new iS},SY=bc.getStatEventTarget=function(){return jI()},SO=bc.ErrorCode=$I,TY=bc.EventType=c2,AY=bc.Event=Nf,Z2=bc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},MY=bc.FetchXmlHttpFactory=dw,rS=bc.WebChannel=d2,xY=bc.XhrIo=Si;const K2="@firebase/firestore";class $i{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let p_="9.9.4";const Bu=new Br.Yd("@firebase/firestore");function TO(){return Bu.logLevel}function Oe(n,...t){if(Bu.logLevel<=Br.in.DEBUG){const e=t.map(AO);Bu.debug(`Firestore (${p_}): ${n}`,...e)}}function yi(n,...t){if(Bu.logLevel<=Br.in.ERROR){const e=t.map(AO);Bu.error(`Firestore (${p_}): ${n}`,...e)}}function Uf(n,...t){if(Bu.logLevel<=Br.in.WARN){const e=t.map(AO);Bu.warn(`Firestore (${p_}): ${n}`,...e)}}function AO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const t=`FIRESTORE (${p_}) INTERNAL ASSERTION FAILED: `+n;throw yi(t),new Error(t)}function St(n,t){n||st()}function Ze(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends q.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Q2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class OY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e($i.UNAUTHENTICATED))}shutdown(){}}class PY{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class NY{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let l=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zi,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=l;t.enqueueRetryable((0,K.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zi)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new Q2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new $i(t)}}class FY{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(St(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class LY{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new FY(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VY{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.A;return this.A=s.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.A=e.token,new X2(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function BY(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class J2{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=BY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Nt(n,t){return n<t?-1:n>t?1:0}function m_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function eU(n){return n+"\0"}class Qn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qn.fromMillis(Date.now())}static fromDate(t){return Qn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Qn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Qn(0,0))}static max(){return new Et(new Qn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gw{constructor(t,e,i){void 0===e?e=0:e>t.length&&st(),void 0===i?i=t.length-e:i>t.length-e&&st(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===gw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof gw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),l=e.get(r);if(s<l)return-1;if(s>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class on extends gw{construct(t,e,i){return new on(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new on(e)}static emptyPath(){return new on([])}}const UY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends gw{construct(t,e,i){return new fi(t,e,i)}static isValidIdentifier(t){return UY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(l=!l,r++):"."!==d||l?(i+=d,r++):(s(),r++)}if(s(),l)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fi(e)}static emptyPath(){return new fi([])}}class ze{constructor(t){this.path=t}static fromPath(t){return new ze(on.fromString(t))}static fromName(t){return new ze(on.fromString(t).popFirst(5))}static empty(){return new ze(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===on.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return on.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ze(new on(t.slice()))}}class sS{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function MO(n){return n.fields.find(t=>2===t.kind)}function Hf(n){return n.fields.filter(t=>2!==t.kind)}sS.UNKNOWN_ID=-1;class oS{constructor(t,e){this.fieldPath=t,this.kind=e}}class _w{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new _w(0,Bs.min())}}function tU(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(1e9===i?new Qn(e+1,0):new Qn(e,i));return new Bs(r,ze.empty(),t)}function nU(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Bs(Et.min(),ze.empty(),-1)}static max(){return new Bs(Et.max(),ze.empty(),-1)}}function xO(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ze.comparator(n.documentKey,t.documentKey),0!==e?e:Nt(n.largestBatchId,t.largestBatchId))}const iU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Uu(n){return kO.apply(this,arguments)}function kO(){return kO=(0,K.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==iU)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),kO.apply(this,arguments)}class oe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new oe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof oe?e:oe.resolve(e)}catch(e){return oe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):oe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):oe.reject(e)}static resolve(t){return new oe((e,i)=>{e(t)})}static reject(t){return new oe((e,i)=>{i(t)})}static waitFor(t){return new oe((e,i)=>{let r=0,s=0,l=!1;t.forEach(d=>{++r,d.next(()=>{++s,l&&s===r&&e()},p=>i(p))}),l=!0,s===r&&e()})}static or(t){let e=oe.resolve(!1);for(const i of t)e=e.next(r=>r?oe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new oe((i,r)=>{const s=t.length,l=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{l[_]=b,++d,d===s&&i(l)},b=>r(b))}})}static doWhile(t,e){return new oe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class aS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new zi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new yw(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=RO(i.target.error);this.P.reject(new yw(t,r))}}static open(t,e,i,r){try{return new aS(e,t.transaction(r,i))}catch(s){throw new yw(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Oe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new zY(e)}}class fa{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===fa.D((0,q.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Oe("SimpleDb","Removing database:",t),jf(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,q.hl)())return!1;if(fa.N())return!0;const t=(0,q.z$)(),e=fa.D(t),i=0<e&&e<10,r=fa.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,K.Z)(function*(){return e.db||(Oe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new yw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const d=l.target.error;r("VersionError"===d.name?new Ae(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ae(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new yw(t,d))},s.onupgradeneeded=l=>{Oe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.S.$(l.target.result,s.transaction,l.oldVersion,e.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,K.Z)(function*(){const l="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const p=aS.open(s.db,t,l?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),oe.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(Oe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $Y{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return jf(this.U.delete())}}class yw extends Ae{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Hu(n){return"IndexedDbTransactionError"===n.name}class zY{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Oe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),jf(i)}add(t){return Oe("SimpleDb","ADD",this.store.name,t,t),jf(this.store.add(t))}get(t){return jf(this.store.get(t)).next(e=>(void 0===e&&(e=null),Oe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Oe("SimpleDb","DELETE",this.store.name,t),jf(this.store.delete(t))}count(){return Oe("SimpleDb","COUNT",this.store.name),jf(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(l,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new oe((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new oe((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}Y(t,e){Oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,l,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new oe((i,r)=>{e.onerror=s=>{const l=RO(s.target.error);r(l)},e.onsuccess=s=>{const l=s.target.result;l?t(l.primaryKey,l.value).next(d=>{d?l.continue():i()}):i()}})}H(t,e){const i=[];return new oe((r,s)=>{t.onerror=l=>{s(l.target.error)},t.onsuccess=l=>{const d=l.target.result;if(!d)return void r();const p=new $Y(d),_=e(d.primaryKey,d.value,p);if(_ instanceof oe){const b=_.catch(D=>(p.done(),oe.reject(D)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>oe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function jf(n){return new oe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=RO(i.target.error);e(r)}})}let sU=!1;function RO(n){const t=fa.D((0,q.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sU||(sU=!0,setTimeout(()=>{throw i},0)),i}}return n}class GY{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Oe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,K.Z)(function*(){e.task=null;try{Oe("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Hu(i)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Uu(i)}yield e.nt(1)}))}}class WY{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,K.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return oe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return Oe("IndexBackiller",`Processing collection: ${l}`),this.rt(t,l,r).next(d=>{r-=d,i.add(l)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.ot(r,s)).next(d=>(Oe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>l.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const l=nU(s);xO(l,i)>0&&(i=l)}),new Bs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ms{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function oU(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $f(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function aU(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}ms.at=-1;class pi{constructor(t,e){this.comparator=t,this.root=e||ar.EMPTY}insert(t,e){return new pi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(t){return new pi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ar.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lS(this.root,t,this.comparator,!1)}getReverseIterator(){return new lS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lS(this.root,t,this.comparator,!0)}}class lS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ar{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??ar.RED,this.left=r??ar.EMPTY,this.right=s??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new ar(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ar.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1,ar.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ar(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(t){this.comparator=t,this.data=new pi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new lU(this.data.getIterator())}getIteratorFrom(t){return new lU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Tn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Tn(this.comparator);return e.data=t,e}}class lU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function g_(n){return n.hasNext()?n.getNext():void 0}class Us{constructor(t){this.fields=t,t.sort(fi.comparator)}static empty(){return new Us([])}unionWith(t){let e=new Tn(fi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Us(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return m_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Li{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Li(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Li(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const YY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(n){if(St(!!n),"string"==typeof n){let t=0;const e=YY.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mi(n.seconds),nanos:mi(n.nanos)}}function mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zf(n){return"string"==typeof n?Li.fromBase64String(n):Li.fromUint8Array(n)}function OO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function cU(n){const t=n.mapValue.fields.__previous_value__;return OO(t)?cU(t):t}function vw(n){const t=ju(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(t.seconds,t.nanos)}class ZY{constructor(t,e,i,r,s,l,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class $u{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}function bw(n){return null==n}function ww(n){return 0===n&&1/n==-1/0}function uU(n){return"number"==typeof n&&Number.isInteger(n)&&!ww(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cS={nullValue:"NULL_VALUE"};function Gf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OO(n)?4:pU(n)?9007199254740991:10:st()}function il(n,t){if(n===t)return!0;const e=Gf(n);if(e!==Gf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return vw(n).isEqual(vw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ju(i.timestampValue),l=ju(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,zf(n.bytesValue).isEqual(zf(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return mi(i.geoPointValue.latitude)===mi(r.geoPointValue.latitude)&&mi(i.geoPointValue.longitude)===mi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return mi(i.integerValue)===mi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=mi(i.doubleValue),l=mi(r.doubleValue);return s===l?ww(s)===ww(l):isNaN(s)&&isNaN(l)}return!1}(n,t);case 9:return m_(n.arrayValue.values||[],t.arrayValue.values||[],il);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(oU(s)!==oU(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===l[d]||!il(s[d],l[d])))return!1;return!0}(n,t);default:return st()}var r}function Cw(n,t){return void 0!==(n.values||[]).find(e=>il(e,t))}function Gu(n,t){if(n===t)return 0;const e=Gf(n),i=Gf(t);if(e!==i)return Nt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const l=mi(r.integerValue||r.doubleValue),d=mi(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,t);case 3:return dU(n.timestampValue,t.timestampValue);case 4:return dU(vw(n),vw(t));case 5:return Nt(n.stringValue,t.stringValue);case 6:return function(r,s){const l=zf(r),d=zf(s);return l.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const l=r.split("/"),d=s.split("/");for(let p=0;p<l.length&&p<d.length;p++){const _=Nt(l[p],d[p]);if(0!==_)return _}return Nt(l.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const l=Nt(mi(r.latitude),mi(s.latitude));return 0!==l?l:Nt(mi(r.longitude),mi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const l=r.values||[],d=s.values||[];for(let p=0;p<l.length&&p<d.length;++p){const _=Gu(l[p],d[p]);if(_)return _}return Nt(l.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===zu.mapValue&&s===zu.mapValue)return 0;if(r===zu.mapValue)return 1;if(s===zu.mapValue)return-1;const l=r.fields||{},d=Object.keys(l),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const D=Nt(d[b],_[b]);if(0!==D)return D;const T=Gu(l[d[b]],p[_[b]]);if(0!==T)return T}return Nt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw st()}}function dU(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Nt(n,t);const e=ju(n),i=ju(t),r=Nt(e.seconds,i.seconds);return 0!==r?r:Nt(e.nanos,i.nanos)}function __(n){return PO(n)}function PO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ju(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zf(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=PO(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const d of r)l?l=!1:s+=",",s+=`${d}:${PO(i.fields[d])}`;return s+"}"}(n.mapValue):st();var t}function Wf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function NO(n){return!!n&&"integerValue"in n}function Ew(n){return!!n&&"arrayValue"in n}function hU(n){return!!n&&"nullValue"in n}function fU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uS(n){return!!n&&"mapValue"in n}function Dw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return $f(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Dw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Dw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function pU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function KY(n){return"nullValue"in n?cS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wf($u.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function QY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wf($u.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zu:st()}function mU(n,t){const e=Gu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function gU(n,t){const e=Gu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class lr{constructor(t){this.value=t}static empty(){return new lr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!uS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dw(e)}setAll(t){let e=fi.emptyPath(),i={},r=[];t.forEach((l,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}l?i[d.lastSegment()]=Dw(l):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());uS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return il(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];uS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){$f(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new lr(Dw(this.value))}}function _U(n){const t=[];return $f(n.fields,(e,i)=>{const r=new fi([e]);if(uS(i)){const s=_U(i.mapValue).fields;if(0===s.length)t.push(r);else for(const l of s)t.push(r.child(l))}else t.push(r)}),new Us(t)}class Hn{constructor(t,e,i,r,s,l){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=l}static newInvalidDocument(t){return new Hn(t,0,Et.min(),Et.min(),lr.empty(),0)}static newFoundDocument(t,e,i){return new Hn(t,1,e,Et.min(),i,0)}static newNoDocument(t,e){return new Hn(t,2,e,Et.min(),lr.empty(),0)}static newUnknownDocument(t,e){return new Hn(t,3,e,Et.min(),lr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class XY{constructor(t,e=null,i=[],r=[],s=null,l=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=d,this.ht=null}}function yU(n,t=null,e=[],i=[],r=null,s=null,l=null){return new XY(n,t,e,i,r,s,l)}function qf(n){const t=Ze(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+__(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),bw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>__(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>__(i)).join(",")),t.ht=e}return t.ht}function Iw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!a4(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!il(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!EU(n.startAt,t.startAt)&&EU(n.endAt,t.endAt)}function dS(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hS(n,t){return n.filters.filter(e=>e instanceof cr&&e.field.isEqual(t))}function vU(n,t,e){let i=cS,r=!0;for(const s of hS(n,t)){let l=cS,d=!0;switch(s.op){case"<":case"<=":l=KY(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,d=!1;break;case"!=":case"not-in":l=cS}mU({value:i,inclusive:r},{value:l,inclusive:d})<0&&(i=l,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];mU({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function bU(n,t,e){let i=zu,r=!0;for(const s of hS(n,t)){let l=zu,d=!0;switch(s.op){case">=":case">":l=QY(s.value),d=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,d=!1;break;case"!=":case"not-in":l=zu}gU({value:i,inclusive:r},{value:l,inclusive:d})>0&&(i=l,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];gU({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class cr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new e4(t,e,i):"array-contains"===e?new i4(t,i):"in"===e?new r4(t,i):"not-in"===e?new s4(t,i):"array-contains-any"===e?new o4(t,i):new cr(t,e,i)}static lt(t,e,i){return"in"===e?new t4(t,i):new n4(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Gu(e,this.value)):null!==e&&Gf(this.value)===Gf(e)&&this.ft(Gu(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class e4 extends cr{constructor(t,e,i){super(t,e,i),this.key=ze.fromName(i.referenceValue)}matches(t){const e=ze.comparator(t.key,this.key);return this.ft(e)}}class t4 extends cr{constructor(t,e){super(t,"in",e),this.keys=wU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class n4 extends cr{constructor(t,e){super(t,"not-in",e),this.keys=wU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function wU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ze.fromName(i.referenceValue))}class i4 extends cr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ew(e)&&Cw(e.arrayValue,this.value)}}class r4 extends cr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Cw(this.value.arrayValue,e)}}class s4 extends cr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Cw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Cw(this.value.arrayValue,e)}}class o4 extends cr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ew(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Cw(this.value.arrayValue,i))}}class Wu{constructor(t,e){this.position=t,this.inclusive=e}}class y_{constructor(t,e="asc"){this.field=t,this.dir=e}}function a4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function CU(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],l=n.position[r];if(i=s.field.isKeyField()?ze.comparator(ze.fromName(l.referenceValue),e.key):Gu(l,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function EU(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!il(n.position[e],t.position[e]))return!1;return!0}class Ec{constructor(t,e=null,i=[],r=[],s=null,l="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function DU(n,t,e,i,r,s,l,d){return new Ec(n,t,e,i,r,s,l,d)}function v_(n){return new Ec(n)}function IU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function FO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function LO(n){for(const t of n.filters)if(t.dt())return t.field;return null}function VO(n){return null!==n.collectionGroup}function b_(n){const t=Ze(n);if(null===t._t){t._t=[];const e=LO(t),i=FO(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new y_(e)),t._t.push(new y_(fi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new y_(fi.keyField(),s))}}}return t._t}function gs(n){const t=Ze(n);if(!t.wt)if("F"===t.limitType)t.wt=yU(t.path,t.collectionGroup,b_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of b_(t))e.push(new y_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Wu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wu(t.startAt.position,t.startAt.inclusive):null;t.wt=yU(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function fS(n,t,e){return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Sw(n,t){return Iw(gs(n),gs(t))&&n.limitType===t.limitType}function SU(n){return`${qf(gs(n))}|lt:${n.limitType}`}function BO(n){return`Query(target=${function JY(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${__(i.value)}`;var i}).join(", ")}]`),bw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>__(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>__(e)).join(",")),`Target(${t})`}(gs(n))}; limitType=${n.limitType})`}function UO(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ze.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,l){const d=CU(r,s,l);return r.inclusive?d<=0:d<0}(e.startAt,b_(e),i)||e.endAt&&!function(r,s,l){const d=CU(r,s,l);return r.inclusive?d>=0:d>0}(e.endAt,b_(e),i)));var e,i}function TU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AU(n){return(t,e)=>{let i=!1;for(const r of b_(n)){const s=l4(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function l4(n,t,e){const i=n.field.isKeyField()?ze.comparator(t.key,e.key):function(r,s,l){const d=s.data.field(r),p=l.data.field(r);return null!==d&&null!==p?Gu(d,p):st()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}function MU(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ww(t)?"-0":t}}function xU(n){return{integerValue:""+n}}function kU(n,t){return uU(t)?xU(t):MU(n,t)}class pS{constructor(){this._=void 0}}function c4(n,t,e){return n instanceof w_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Yf?OU(n,t):n instanceof Zf?PU(n,t):function(i,r){const s=RU(i,r),l=NU(s)+NU(i.yt);return NO(s)&&NO(i.yt)?xU(l):MU(i.It,l)}(n,t)}function u4(n,t,e){return n instanceof Yf?OU(n,t):n instanceof Zf?PU(n,t):e}function RU(n,t){return n instanceof C_?NO(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class w_ extends pS{}class Yf extends pS{constructor(t){super(),this.elements=t}}function OU(n,t){const e=FU(t);for(const i of n.elements)e.some(r=>il(r,i))||e.push(i);return{arrayValue:{values:e}}}class Zf extends pS{constructor(t){super(),this.elements=t}}function PU(n,t){let e=FU(t);for(const i of n.elements)e=e.filter(r=>!il(r,i));return{arrayValue:{values:e}}}class C_ extends pS{constructor(t,e){super(),this.It=t,this.yt=e}}function NU(n){return mi(n.integerValue||n.doubleValue)}function FU(n){return Ew(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tw{constructor(t,e){this.field=t,this.transform=e}}class h4{constructor(t,e){this.version=t,this.transformResults=e}}class Xn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class gS{}function LU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new D_(n.key,Xn.none()):new E_(n.key,n.data,Xn.none());{const e=n.data,i=lr.empty();let r=new Tn(fi.comparator);for(let s of t.fields)if(!r.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Dc(n.key,i,new Us(r.toArray()),Xn.none())}}function f4(n,t,e){n instanceof E_?function(i,r,s){const l=i.value.clone(),d=UU(i.fieldTransforms,r,s.transformResults);l.setAll(d),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Dc?function(i,r,s){if(!mS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=UU(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(BU(i)),d.setAll(l),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Aw(n,t,e,i){return n instanceof E_?function(r,s,l,d){if(!mS(r.precondition,s))return l;const p=r.value.clone(),_=HU(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Dc?function(r,s,l,d){if(!mS(r.precondition,s))return l;const p=HU(r.fieldTransforms,d,s),_=s.data;return _.setAll(BU(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(l=e,mS(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function p4(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=RU(i.transform,r||null);null!=s&&(null===e&&(e=lr.empty()),e.set(i.field,s))}return e||null}function VU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&m_(e,i,(r,s)=>function d4(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Yf&&i instanceof Yf||e instanceof Zf&&i instanceof Zf?m_(e.elements,i.elements,il):e instanceof C_&&i instanceof C_?il(e.yt,i.yt):e instanceof w_&&i instanceof w_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class E_ extends gS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dc extends gS{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function UU(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],l=s.transform,d=t.data.field(s.field);i.set(s.field,u4(l,d,e[r]))}return i}function HU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,l=e.data.field(r.field);i.set(r.field,c4(s,l,t))}return i}class D_ extends gS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends gS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m4{constructor(t){this.count=t}}var Ti,an;function jU(n){switch(n){default:return st();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function $U(n){if(void 0===n)return yi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ti.OK:return ue.OK;case Ti.CANCELLED:return ue.CANCELLED;case Ti.UNKNOWN:return ue.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return ue.INTERNAL;case Ti.UNAVAILABLE:return ue.UNAVAILABLE;case Ti.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ti.NOT_FOUND:return ue.NOT_FOUND;case Ti.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ti.ABORTED:return ue.ABORTED;case Ti.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ti.DATA_LOSS:return ue.DATA_LOSS;default:return st()}}(an=Ti||(Ti={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class qu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$f(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return aU(this.inner)}size(){return this.innerSize}}const g4=new pi(ze.comparator);function _s(){return g4}const zU=new pi(ze.comparator);function Mw(...n){let t=zU;for(const e of n)t=t.insert(e.key,e);return t}function GU(n){let t=zU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function rl(){return xw()}function WU(){return xw()}function xw(){return new qu(n=>n.toString(),(n,t)=>n.isEqual(t))}const _4=new pi(ze.comparator),y4=new Tn(ze.comparator);function Ht(...n){let t=y4;for(const e of n)t=t.add(e);return t}const v4=new Tn(Nt);function _S(){return v4}class kw{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Rw.createSynthesizedTargetChangeForCurrentChange(t,e)),new kw(Et.min(),i,_S(),_s(),Ht())}}class Rw{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Rw(Li.EMPTY_BYTE_STRING,e,Ht(),Ht(),Ht())}}class yS{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class qU{constructor(t,e){this.targetId=t,this.At=e}}class YU{constructor(t,e,i=Li.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ZU{constructor(){this.Rt=0,this.bt=QU(),this.Pt=Li.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Ht(),e=Ht(),i=Ht();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:st()}}),new Rw(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=QU()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class b4{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=_s(),this.qt=KU(),this.Kt=new Tn(Nt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:st()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(dS(s))if(0===i){const l=new ze(s.path);this.jt(e,l,Hn.newNoDocument(l,Et.min()))}else St(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,l)=>{const d=this.Xt(l);if(d){if(s.current&&dS(d.target)){const p=new ze(d.target.path);null!==this.Ut.get(p)||this.ee(l,p)||this.jt(l,p,Hn.newNoDocument(p,t))}s.Dt&&(e.set(l,s.xt()),s.Nt())}});let i=Ht();this.qt.forEach((s,l)=>{let d=!0;l.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,l)=>l.setReadTime(t));const r=new kw(t,e,this.Kt,this.Ut,i);return this.Ut=_s(),this.qt=KU(),this.Kt=new Tn(Nt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new ZU,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Tn(Nt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Oe("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new ZU),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function KU(){return new pi(ze.comparator)}function QU(){return new pi(ze.comparator)}const w4={asc:"ASCENDING",desc:"DESCENDING"},C4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E4{constructor(t,e){this.databaseId=t,this.gt=e}}function Ow(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XU(n,t){return n.gt?t.toBase64():t.toUint8Array()}function D4(n,t){return Ow(n,t.toTimestamp())}function Gi(n){return St(!!n),Et.fromTimestamp(function(t){const e=ju(t);return new Qn(e.seconds,e.nanos)}(n))}function jO(n,t){return(e=n,new on(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function JU(n){const t=on.fromString(n);return St(lH(t)),t}function Pw(n,t){return jO(n.databaseId,t.path)}function sl(n,t){const e=JU(t);if(e.get(1)!==n.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ze(tH(e))}function $O(n,t){return jO(n.databaseId,t)}function eH(n){const t=JU(n);return 4===t.length?on.emptyPath():tH(t)}function Nw(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tH(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nH(n,t,e){return{name:Pw(n,t),fields:e.value.mapValue.fields}}function iH(n,t,e){const i=sl(n,t.name),r=Gi(t.updateTime),s=new lr({mapValue:{fields:t.fields}}),l=Hn.newFoundDocument(i,r,s);return e&&l.setHasCommittedMutations(),e?l.setHasCommittedMutations():l}function Fw(n,t){let e;if(t instanceof E_)e={update:nH(n,t.key,t.value)};else if(t instanceof D_)e={delete:Pw(n,t.key)};else if(t instanceof Dc)e={update:nH(n,t.key,t.data),updateMask:O4(t.fieldMask)};else{if(!(t instanceof HO))return st();e={verify:Pw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof w_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Yf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof C_)return{fieldPath:s.field.canonicalString(),increment:l.yt};throw st()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:D4(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),e;var r}function zO(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Xn.updateTime(Gi(r.updateTime)):void 0!==r.exists?Xn.exists(r.exists):Xn.none():Xn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,l){let d=null;"setToServerValue"in l?(St("REQUEST_TIME"===l.setToServerValue),d=new w_):"appendMissingElements"in l?d=new Yf(l.appendMissingElements.values||[]):"removeAllFromArray"in l?d=new Zf(l.removeAllFromArray.values||[]):"increment"in l?d=new C_(s,l.increment):st();const p=fi.fromServerFormat(l.fieldPath);return new Tw(p,d)}(n,r)):[];var r;if(t.update){const r=sl(n,t.update.name),s=new lr({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new Us((t.updateMask.fieldPaths||[]).map(_=>fi.fromServerFormat(_)));return new Dc(r,s,l,e,i)}return new E_(r,s,e,i)}if(t.delete){const r=sl(n,t.delete);return new D_(r,e)}if(t.verify){const r=sl(n,t.verify);return new HO(r,e)}return st()}function rH(n,t){return{documents:[$O(n,t.path)]}}function sH(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=$O(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=$O(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(D){if("=="===D.op){if(fU(D.value))return{unaryFilter:{field:I_(D.field),op:"IS_NAN"}};if(hU(D.value))return{unaryFilter:{field:I_(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(fU(D.value))return{unaryFilter:{field:I_(D.field),op:"IS_NOT_NAN"}};if(hU(D.value))return{unaryFilter:{field:I_(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:I_(D.field),op:x4(D.op),value:D.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:I_((b=_).field),direction:M4(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const l=(_=t.limit,n.gt||bw(_)?_:{value:_});var _,d,p;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function oH(n){let t=eH(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=aH(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(b=>{return new y_(S_((D=b).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;e.limit&&(d=function(b){let D;return D="object"==typeof b?b.value:b,bw(D)?null:D}(e.limit));let p=null;var b;e.startAt&&(p=new Wu((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Wu(b.values||[],!b.before)}(e.endAt)),DU(t,r,l,s,d,"F",p,_)}function aH(n){return n?void 0!==n.unaryFilter?[R4(n)]:void 0!==n.fieldFilter?[k4(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>aH(t)).reduce((t,e)=>t.concat(e)):st():[]}function M4(n){return w4[n]}function x4(n){return C4[n]}function I_(n){return{fieldPath:n.canonicalString()}}function S_(n){return fi.fromServerFormat(n.fieldPath)}function k4(n){return cr.create(S_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function R4(n){switch(n.unaryFilter.op){case"IS_NAN":const t=S_(n.unaryFilter.field);return cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=S_(n.unaryFilter.field);return cr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=S_(n.unaryFilter.field);return cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=S_(n.unaryFilter.field);return cr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function O4(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $r(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=cH(t)),t=P4(n.get(e),t);return cH(t)}function P4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function cH(n){return n+"\x01\x01"}function ol(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const l=n.indexOf("\x01",s);switch((l<0||l>e)&&st(),n.charAt(l+1)){case"\x01":const d=n.substring(s,l);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:st()}s=l+2}return new on(i)}const uH=["userId","batchId"];function vS(n,t){return[n,$r(t)]}function dH(n,t,e){return[n,$r(t),e]}const N4={},F4=["prefixPath","collectionGroup","readTime","documentId"],L4=["prefixPath","collectionGroup","documentId"],V4=["collectionGroup","readTime","prefixPath","documentId"],B4=["canonicalId","targetId"],U4=["targetId","path"],H4=["path","targetId"],j4=["collectionId","parent"],$4=["indexId","uid"],z4=["uid","sequenceNumber"],G4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],W4=["indexId","uid","orderedDocumentKey"],q4=["userId","collectionPath","documentId"],Y4=["userId","collectionPath","largestBatchId"],Z4=["userId","collectionGroup","largestBatchId"],hH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],K4=[...hH,"documentOverlays"],fH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pH=fH,Q4=[...pH,"indexConfiguration","indexState","indexEntries"];class GO extends rU{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Wi(n,t){const e=Ze(n);return fa.O(e.ie,t)}class WO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&f4(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Aw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Aw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=WU();return this.mutations.forEach(r=>{const s=t.get(r.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=e.has(r.key)?null:d;const p=LU(l,d);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ht())}isEqual(t){return this.batchId===t.batchId&&m_(this.mutations,t.mutations,(e,i)=>VU(e,i))&&m_(this.baseMutations,t.baseMutations,(e,i)=>VU(e,i))}}class qO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=_4;const s=t.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new qO(t,e,i,r)}}class YO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yu{constructor(t,e,i,r,s=Et.min(),l=Et.min(),d=Li.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(t){return new Yu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class mH{constructor(t){this.re=t}}function gH(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:bS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Pw(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Ow(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Kf(t.version)};else{if(!t.isUnknownDocument())return st();i.unknownDocument={path:e.path.toArray(),version:Kf(t.version)}}var r,s;return i}function bS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Kf(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Qf(n){const t=new Qn(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function Xf(n,t){const e=(t.baseMutations||[]).map(s=>zO(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const l=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(l.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>zO(n.re,s)),r=Qn.fromMillis(t.localWriteTimeMs);return new WO(t.batchId,r,e,i)}function Lw(n){const t=Qf(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Qf(n.lastLimboFreeSnapshotVersion):Et.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=gs(v_(eH(r.documents[0])))):i=gs(oH(n.query)),new Yu(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Li.fromBase64String(n.resumeToken))}function _H(n,t){const e=Kf(t.snapshotVersion),i=Kf(t.lastLimboFreeSnapshotVersion);let r;r=dS(t.target)?rH(n.re,t.target):sH(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qf(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ZO(n){const t=oH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fS(t,t.limit,"L"):t}function KO(n,t){return new YO(t.largestBatchId,zO(n.re,t.overlayMutation))}function yH(n,t){const e=t.path.lastSegment();return[n,$r(t.path.popLast()),e]}function vH(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Kf(i.readTime),documentKey:$r(i.documentKey.path),largestBatchId:i.largestBatchId}}class J4{getBundleMetadata(t,e){return bH(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Qf(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return bH(t).put({bundleId:(i=e).id,createTime:Kf(Gi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return wH(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:ZO(r.bundledQuery),readTime:Qf(r.readTime)};var r})}saveNamedQuery(t,e){return wH(t).put({name:(i=e).name,readTime:Kf(Gi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function bH(n){return Wi(n,"bundles")}function wH(n){return Wi(n,"namedQueries")}class wS{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new wS(t,e.uid||"")}getOverlay(t,e){return Vw(t).get(yH(this.userId,e)).next(i=>i?KO(this.It,i):null)}getOverlays(t,e){const i=rl();return oe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,l)=>{const d=new YO(e,l);r.push(this.ue(t,d))}),oe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add($r(l.getCollectionPath())));const s=[];return r.forEach(l=>{const d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(Vw(t).Y("collectionPathOverlayIndex",d))}),oe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=rl(),s=$r(e),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vw(t).W("collectionPathOverlayIndex",l).next(d=>{for(const p of d){const _=KO(this.It,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=rl();let l;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Vw(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const D=KO(this.It,_);s.size()<r||D.largestBatchId===l?(s.set(D.getKey(),D),l=D.largestBatchId):b.done()}).next(()=>s)}ue(t,e){return Vw(t).put(function(i,r,s){const[l,d,p]=yH(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Fw(i.re,s.mutation)}}(this.It,this.userId,e))}}function Vw(n){return Wi(n,"documentOverlays")}class Jf{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(mi(t.integerValue));else if("doubleValue"in t){const i=mi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),ww(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(zf(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?pU(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):st()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),ze.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function e8(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function CH(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=e8(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Jf.Te=new Jf;class t8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=CH(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=CH(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class n8{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class i8{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class Bw{constructor(){this.Be=new t8,this.Le=new n8(this.Be),this.Ue=new i8(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class ep{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new ep(this.indexId,this.documentKey,this.arrayValue,i)}}function tp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=EH(n.arrayValue,t.arrayValue),0!==e?e:(e=EH(n.directionalValue,t.directionalValue),0!==e?e:ze.comparator(n.documentKey,t.documentKey)))}function EH(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class r8{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=MO(t);if(void 0!==e&&!this.ze(e))return!1;const i=Hf(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const l=i[r];if(!this.He(this.je,l)||!this.Je(this.Ge[s++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],l))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class s8{constructor(){this.Ye=new QO}addToCollectionParentIndex(t,e){return this.Ye.add(e),oe.resolve()}getCollectionParents(t,e){return oe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return oe.resolve()}deleteFieldIndex(t,e){return oe.resolve()}getDocumentsMatchingTarget(t,e){return oe.resolve(null)}getIndexType(t,e){return oe.resolve(0)}getFieldIndexes(t,e){return oe.resolve([])}getNextCollectionGroupToUpdate(t){return oe.resolve(null)}getMinOffset(t,e){return oe.resolve(Bs.min())}getMinOffsetFromCollectionGroup(t,e){return oe.resolve(Bs.min())}updateCollectionGroup(t,e,i){return oe.resolve()}updateIndexEntries(t,e){return oe.resolve()}}class QO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Tn(on.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Tn(on.comparator)).toArray()}}const CS=new Uint8Array(0);class o8{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new QO,this.Ze=new qu(i=>qf(i),(i,r)=>Iw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:$r(r)};return DH(t).put(s)}return oe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[eU(e),""],!1,!0);return DH(t).W(r).next(s=>{for(const l of s){if(l.collectionId!==e)break;i.push(ol(l.parent))}return i})}addFieldIndex(t,e){const i=ES(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;delete r.indexId;const s=i.add(r);if(e.indexState){const l=Hw(t);return s.next(d=>{l.put(vH(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=ES(t),r=Hw(t),s=Uw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Uw(t);let r=!0;const s=new Map;return oe.forEach(this.tn(e),l=>this.en(t,l).next(d=>{r&&(r=!!d),s.set(l,d)})).next(()=>{if(r){let l=Ht();const d=[];return oe.forEach(s,(p,_)=>{var b;Oe("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${qf(e)}`);const D=function(it,Ke){const pt=MO(Ke);if(void 0===pt)return null;for(const Ct of hS(it,pt.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(_,p),T=function(it,Ke){const pt=new Map;for(const Ct of Hf(Ke))for(const nn of hS(it,Ct.fieldPath))switch(nn.op){case"==":case"in":pt.set(Ct.fieldPath.canonicalString(),nn.value);break;case"not-in":case"!=":return pt.set(Ct.fieldPath.canonicalString(),nn.value),Array.from(pt.values())}return null}(_,p),x=function(it,Ke){const pt=[];let Ct=!0;for(const nn of Hf(Ke)){const Zr=0===nn.kind?vU(it,nn.fieldPath,it.startAt):bU(it,nn.fieldPath,it.startAt);pt.push(Zr.value),Ct&&(Ct=Zr.inclusive)}return new Wu(pt,Ct)}(_,p),O=function(it,Ke){const pt=[];let Ct=!0;for(const nn of Hf(Ke)){const Zr=0===nn.kind?bU(it,nn.fieldPath,it.endAt):vU(it,nn.fieldPath,it.endAt);pt.push(Zr.value),Ct&&(Ct=Zr.inclusive)}return new Wu(pt,Ct)}(_,p),j=this.nn(p,_,x),se=this.nn(p,_,O),Fe=this.sn(p,_,T),Ge=this.rn(p.indexId,D,j,x.inclusive,se,O.inclusive,Fe);return oe.forEach(Ge,it=>i.J(it,e.limit).next(Ke=>{Ke.forEach(pt=>{const Ct=ze.fromSegments(pt.documentKey);l.has(Ct)||(l=l.add(Ct),d.push(Ct))})}))}).next(()=>d)}return oe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,l,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),b=[];for(let D=0;D<p;++D){const T=e?this.on(e[D/_]):CS,x=this.un(t,T,i[D%_],r),O=this.cn(t,T,s[D%_],l),j=d.map(se=>this.un(t,T,se,!0));b.push(...this.createRange(x,O,j))}return b}un(t,e,i,r){const s=new ep(t,ze.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new ep(t,ze.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new r8(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let l=null;for(const d of s)i.We(d)&&(!l||d.fields.length>l.fields.length)&&(l=d);return l})}getIndexType(t,e){let i=2;return oe.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(l){let d=new Tn(fi.comparator),p=!1;for(const _ of l.filters){const b=_;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:d=d.add(b.field))}for(const _ of l.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new Bw;for(const r of Hf(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const l=i.qe(r.kind);Jf.Te.ce(s,l)}return i.$e()}on(t){const e=new Bw;return Jf.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new Bw;return Jf.Te.ce(Wf(this.databaseId,e),i.qe(function(r){const s=Hf(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new Bw);let s=0;for(const l of Hf(t)){const d=i[s++];for(const p of r)if(this.ln(e,l.fieldPath)&&Ew(d))r=this.fn(r,l,d);else{const _=p.qe(l.kind);Jf.Te.ce(d,_)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const l of i.arrayValue.values||[])for(const d of r){const p=new Bw;p.seed(d.$e()),Jf.Te.ce(l,p.qe(e.kind)),s.push(p)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof cr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ES(t),r=Hw(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const l=[];return oe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{l.push(function(_,b){const D=b?new _w(b.sequenceNumber,new Bs(Qf(b.readTime),new ze(ol(b.documentKey)),b.largestBatchId)):_w.empty(),T=_.fields.map(([x,O])=>new oS(fi.fromServerFormat(x),O));return new sS(_.indexId,_.collectionGroup,T,D)}(d,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Nt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ES(t),s=Hw(t);return this._n(t).next(l=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>oe.forEach(d,p=>s.put(vH(p.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return oe.forEach(e,(r,s)=>{const l=i.get(r.collectionGroup);return(l?oe.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),oe.forEach(d,p=>this.wn(t,r,p).next(_=>{const b=this.mn(s,p);return _.isEqual(b)?oe.resolve():this.gn(t,s,p,_,b)}))))})}yn(t,e,i,r){return Uw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return Uw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=Uw(t);let s=new Tn(tp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(l,d)=>{s=s.add(new ep(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new Tn(tp);const r=this.an(e,t);if(null==r)return i;const s=MO(e);if(null!=s){const l=t.data.field(s.fieldPath);if(Ew(l))for(const d of l.arrayValue.values||[])i=i.add(new ep(e.indexId,t.key,this.on(d),r))}else i=i.add(new ep(e.indexId,t.key,CS,r));return i}gn(t,e,i,r,s){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(d,p,_,b,D){const T=d.getIterator(),x=p.getIterator();let O=g_(T),j=g_(x);for(;O||j;){let se=!1,Fe=!1;if(O&&j){const Ge=_(O,j);Ge<0?Fe=!0:Ge>0&&(se=!0)}else null!=O?Fe=!0:se=!0;se?(b(j),j=g_(x)):Fe?(D(O),O=g_(T)):(O=g_(T),j=g_(x))}}(r,s,tp,d=>{l.push(this.yn(t,e,i,d))},d=>{l.push(this.pn(t,e,i,d))}),oe.waitFor(l)}_n(t){let e=1;return Hw(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,d)=>tp(l,d)).filter((l,d,p)=>!d||0!==tp(l,p[d-1]));const r=[];r.push(t);for(const l of i){const d=tp(l,t),p=tp(l,e);if(0===d)r[0]=t.Ke();else if(d>0&&p<0)r.push(l),r.push(l.Ke());else if(p>0)break}r.push(e);const s=[];for(let l=0;l<r.length;l+=2)s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,CS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,CS,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(IH)}getMinOffset(t,e){return oe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||st())).next(IH)}}function DH(n){return Wi(n,"collectionParents")}function Uw(n){return Wi(n,"indexEntries")}function ES(n){return Wi(n,"indexConfiguration")}function Hw(n){return Wi(n,"indexState")}function IH(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;xO(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Bs(t.readTime,t.documentKey,e)}const SH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ys{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ys(t,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:l},(b,D,T)=>(d++,T.delete()));s.push(p.next(()=>{St(1===d)}));const _=[];for(const b of e.mutations){const D=dH(t,b.key.path,e.batchId);s.push(r.delete(D)),_.push(b.key)}return oe.waitFor(s).next(()=>_)}function DS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw st();t=n.noDocument}return JSON.stringify(t).length}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class IS{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){St(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new IS(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zu(t).Z({index:"userMutationsIndex",range:i},(r,s,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=T_(t),l=Zu(t);return l.add({}).next(d=>{St("number"==typeof d);const p=new WO(d,e,i,r),_=function(T,x,O){const j=O.baseMutations.map(Fe=>Fw(T.re,Fe)),se=O.mutations.map(Fe=>Fw(T.re,Fe));return{userId:x,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:j,mutations:se}}(this.It,this.userId,p),b=[];let D=new Tn((T,x)=>Nt(T.canonicalString(),x.canonicalString()));for(const T of r){const x=dH(this.userId,T.key.path,d);D=D.add(T.key.path.popLast()),b.push(l.put(_)),b.push(s.put(x,N4))}return D.forEach(T=>{b.push(this.indexManager.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),oe.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return Zu(t).get(e).next(i=>i?(St(i.userId===this.userId),Xf(this.It,i)):null)}Tn(t,e){return this.In[e]?oe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Zu(t).Z({index:"userMutationsIndex",range:r},(l,d,p)=>{d.userId===this.userId&&(St(d.batchId>=i),s=Xf(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Zu(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zu(t).W("userMutationsIndex",e).next(i=>i.map(r=>Xf(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=vS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return T_(t).Z({range:r},(l,d,p)=>{const[_,b,D]=l,T=ol(b);if(_===this.userId&&e.path.isEqual(T))return Zu(t).get(D).next(x=>{if(!x)throw st();St(x.userId===this.userId),s.push(Xf(this.It,x))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Tn(Nt);const r=[];return e.forEach(s=>{const l=vS(this.userId,s.path),d=IDBKeyRange.lowerBound(l),p=T_(t).Z({range:d},(_,b,D)=>{const[T,x,O]=_,j=ol(x);T===this.userId&&s.path.isEqual(j)?i=i.add(O):D.done()});r.push(p)}),oe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=vS(this.userId,i),l=IDBKeyRange.lowerBound(s);let d=new Tn(Nt);return T_(t).Z({range:l},(p,_,b)=>{const[D,T,x]=p,O=ol(T);D===this.userId&&i.isPrefixOf(O)?O.length===r&&(d=d.add(x)):b.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Zu(t).get(s).next(l=>{if(null===l)throw st();St(l.userId===this.userId),i.push(Xf(this.It,l))}))}),oe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return TH(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),oe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return oe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return T_(t).Z({range:i},(s,l,d)=>{if(s[0]===this.userId){const p=ol(s[1]);r.push(p)}else d.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return AH(t,this.userId,e)}Rn(t){return MH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AH(n,t,e){const i=vS(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return T_(n).Z({range:s,X:!0},(d,p,_)=>{const[b,D,T]=d;b===t&&D===r&&(l=!0),_.done()}).next(()=>l)}function Zu(n){return Wi(n,"mutations")}function T_(n){return Wi(n,"documentMutations")}function MH(n){return Wi(n,"mutationQueues")}class np{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new np(0)}static vn(){return new np(-1)}}class a8{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new np(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Et.fromTimestamp(new Qn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>A_(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return A_(t).Z((l,d)=>{const p=Lw(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>oe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return A_(t).Z((i,r)=>{const s=Lw(r);e(s)})}Vn(t){return xH(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}Sn(t,e){return xH(t).put("targetGlobalKey",e)}Dn(t,e){return A_(t).put(_H(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=qf(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return A_(t).Z({range:r,index:"queryTargetsIndex"},(l,d,p)=>{const _=Lw(d);Iw(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Ku(t);return e.forEach(l=>{const d=$r(l.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,l))}),oe.waitFor(r)}removeMatchingKeys(t,e,i){const r=Ku(t);return oe.forEach(e,s=>{const l=$r(s.path);return oe.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Ku(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ku(t);let s=Ht();return r.Z({range:i,X:!0},(l,d,p)=>{const _=ol(l[1]),b=new ze(_);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=$r(e.path),r=IDBKeyRange.bound([i],[eU(i)],!1,!0);let s=0;return Ku(t).Z({index:"documentTargetsIndex",X:!0,range:r},([l,d],p,_)=>{0!==l&&(s++,_.done())}).next(()=>s>0)}se(t,e){return A_(t).get(e).next(i=>i?Lw(i):null)}}function A_(n){return Wi(n,"targets")}function xH(n){return Wi(n,"targetGlobal")}function Ku(n){return Wi(n,"targetDocuments")}function kH([n,t],[e,i]){const r=Nt(n,e);return 0===r?Nt(t,i):r}class l8{constructor(t){this.xn=t,this.buffer=new Tn(kH),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();kH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class c8{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,K.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Hu(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Uu(i)}yield e.Fn(3e5)}))}}class u8{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return oe.resolve(ms.at);const i=new l8(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(SH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SH):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,l,d,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(t,i,e))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(_=Date.now(),TO()<=Br.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(d-l)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class d8{constructor(t,e){this.db=t,this.garbageCollector=new u8(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return SS(t,i)}removeReference(t,e,i){return SS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return SS(t,e)}Gn(t,e){return function(i,r){let s=!1;return MH(i).tt(l=>AH(i,l,r).next(d=>(d&&(s=!0),oe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(l,d)=>{if(d<=e){const p=this.Gn(t,l).next(_=>{if(!_)return s++,i.getEntry(t,l).next(()=>(i.removeEntry(l,Et.min()),Ku(t).delete([0,$r(l.path)])))});r.push(p)}}).next(()=>oe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return SS(t,e)}Kn(t,e){const i=Ku(t);let r,s=ms.at;return i.Z({index:"documentTargetsIndex"},([l,d],{path:p,sequenceNumber:_})=>{0===l?(s!==ms.at&&e(new ze(ol(r)),s),s=_,r=p):s=ms.at}).next(()=>{s!==ms.at&&e(new ze(ol(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function SS(n,t){return Ku(n).put((i=n.currentSequenceNumber,{targetId:0,path:$r(t.path),sequenceNumber:i}));var i}class RH{constructor(){this.changes=new qu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?oe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class h8{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ip(t).put(i)}removeEntry(t,e,i){return ip(t).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],bS(s),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Hn.newInvalidDocument(e);return ip(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jw(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:Hn.newInvalidDocument(e)};return ip(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(jw(e))},(r,s)=>{i={document:this.jn(e,s),size:DS(s)}}).next(()=>i)}getEntries(t,e){let i=_s();return this.zn(t,e,(r,s)=>{const l=this.jn(r,s);i=i.insert(r,l)}).next(()=>i)}Hn(t,e){let i=_s(),r=new pi(ze.comparator);return this.zn(t,e,(s,l)=>{const d=this.jn(s,l);i=i.insert(s,d),r=r.insert(s,DS(l))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return oe.resolve();let r=new Tn(FH);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(jw(r.first()),jw(r.last())),l=r.getIterator();let d=l.getNext();return ip(t).Z({index:"documentKeyIndex",range:s},(p,_,b)=>{const D=ze.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&FH(d,D)<0;)i(d,null),d=l.getNext();d&&d.isEqual(D)&&(i(d,_),d=l.hasNext()?l.getNext():null),d?b.j(jw(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=l.hasNext()?l.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),bS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ip(t).W(IDBKeyRange.bound(r,s,!0)).next(l=>{let d=_s();for(const p of l){const _=this.jn(ze.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=_s();const l=NH(e,i),d=NH(e,Bs.max());return ip(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,d,!0)},(p,_,b)=>{const D=this.jn(ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(D.key,D),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new f8(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return PH(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}Qn(t,e){return PH(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function X4(n,t){let e;if(t.document)e=iH(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ze.fromSegments(t.noDocument.path),r=Qf(t.noDocument.readTime);e=Hn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return st();{const i=ze.fromSegments(t.unknownDocument.path),r=Qf(t.unknownDocument.version);e=Hn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Qn(i[0],i[1]);return Et.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Et.min()))return i}return Hn.newInvalidDocument(t)}}function OH(n){return new h8(n)}class f8 extends RH{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new qu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Tn((s,l)=>Nt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),l.isValidDocument()){const p=gH(this.Yn.It,l);r=r.add(s.path.popLast()),i+=DS(p)-d.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=gH(this.Yn.It,l.convertToNoDocument(Et.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),oe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,l)=>{this.Xn.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function PH(n){return Wi(n,"remoteDocumentGlobal")}function ip(n){return Wi(n,"remoteDocumentsV14")}function jw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NH(n,t){const e=t.documentKey.path.toArray();return[n,bS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function FH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Nt(e[s],i[s]),r)return r;return r=Nt(e.length,i.length),r||(r=Nt(e[e.length-2],i[i.length-2]),r||Nt(e[e.length-1],i[i.length-1]))}class p8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class LH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Aw(i.mutation,r,Us.empty(),Qn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ht()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ht()){const r=rl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let l=Mw();return s.forEach((d,p)=>{l=l.insert(d,p.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=rl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ht()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((l,d)=>{e.set(l,d)})})}computeViews(t,e,i,r){let s=_s();const l=xw(),d=xw();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Dc)?s=s.insert(_.key,_):void 0!==b&&(l.set(_.key,b.mutation.getFieldMask()),Aw(b.mutation,_,b.mutation.getFieldMask(),Qn.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>l.set(_,b)),e.forEach((_,b)=>{var D;return d.set(_,new p8(b,null!==(D=l.get(_))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(t,e){const i=xw();let r=new pi((l,d)=>l-d),s=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const d of l)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||Us.empty();b=d.applyToLocalView(_,b),i.set(p,b);const D=(r.get(d.batchId)||Ht()).add(p);r=r.insert(d.batchId,D)})}).next(()=>{const l=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,D=WU();b.forEach(T=>{if(!s.has(T)){const x=LU(e.get(T),i.get(T));null!==x&&D.set(T,x),s=s.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(t,_,D))}return oe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return ze.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):VO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):oe.resolve(rl());let d=-1,p=s;return l.next(_=>oe.forEach(_,(b,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),s.get(b)?oe.resolve():this.getBaseDocument(t,b,D).next(T=>{p=p.insert(b,T)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,Ht())).next(b=>({batchId:d,changes:GU(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ze(e)).next(i=>{let r=Mw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Mw();return this.indexManager.getCollectionParents(t,r).next(l=>oe.forEach(l,d=>{const p=(_=e,b=d.child(r),new Ec(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,Hn.newInvalidDocument(_)))});let l=Mw();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&Aw(_.mutation,p,Us.empty(),Qn.now()),UO(e,p)&&(l=l.insert(d,p))}),l})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):oe.resolve(Hn.newInvalidDocument(e))}}class m8{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return oe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Gi(i.createTime)}),oe.resolve()}getNamedQuery(t,e){return oe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:ZO(i.bundledQuery),readTime:Gi(i.readTime)}),oe.resolve();var i}}class g8{constructor(){this.overlays=new pi(ze.comparator),this.es=new Map}getOverlay(t,e){return oe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=rl();return oe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),oe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),oe.resolve()}getOverlaysForCollection(t,e,i){const r=rl(),s=e.length+1,l=new ze(e.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return oe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new pi((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=rl(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=rl(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return oe.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new YO(e,i));let s=this.es.get(e);void 0===s&&(s=Ht(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class XO{constructor(){this.ns=new Tn(qi.ss),this.rs=new Tn(qi.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new qi(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new qi(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new ze(new on([])),i=new qi(e,t),r=new qi(e,t+1),s=[];return this.rs.forEachInRange([i,r],l=>{this.cs(l),s.push(l.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new ze(new on([])),i=new qi(e,t),r=new qi(e,t+1);let s=Ht();return this.rs.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(t){const e=new qi(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class qi{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return ze.comparator(t.key,e.key)||Nt(t._s,e._s)}static os(t,e){return Nt(t._s,e._s)||ze.comparator(t.key,e.key)}}class _8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Tn(qi.ss)}checkEmpty(t){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const l=new WO(s,e,i,r);this.mutationQueue.push(l);for(const d of r)this.gs=this.gs.add(new qi(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(t,e){return oe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qi(e,0),r=new qi(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],l=>{const d=this.ys(l._s);s.push(d)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Tn(Nt);return e.forEach(r=>{const s=new qi(r,0),l=new qi(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,l],d=>{i=i.add(d._s)})}),oe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;ze.isDocumentKey(s)||(s=s.child(""));const l=new qi(new ze(s),0);let d=new Tn(Nt);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},l),oe.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return oe.forEach(e.mutations,r=>{const s=new qi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new qi(e,0),r=this.gs.firstAfterOrEqual(i);return oe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return oe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class y8{constructor(t){this.Es=t,this.docs=new pi(ze.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,l=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return oe.resolve(i?i.document.mutableCopy():Hn.newInvalidDocument(e))}getEntries(t,e){let i=_s();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Hn.newInvalidDocument(r))}),oe.resolve(i)}getAllFromCollection(t,e,i){let r=_s();const s=new ze(e.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:d,value:{document:p}}=l.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||xO(nU(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return oe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){st()}As(t,e){return oe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new v8(this)}getSize(t){return oe.resolve(this.size)}}class v8 extends RH{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),oe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class b8{constructor(t){this.persistence=t,this.Rs=new qu(e=>qf(e),Iw),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.bs=0,this.Ps=new XO,this.targetCount=0,this.vs=np.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),oe.resolve()}getLastRemoteSnapshotVersion(t){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return oe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),oe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new np(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,oe.resolve()}updateTargetData(t,e){return this.Dn(e),oe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,oe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((l,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(l),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),oe.waitFor(s).next(()=>r)}getTargetCount(t){return oe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return oe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),oe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(l=>{s.push(r.markPotentiallyOrphaned(t,l))}),oe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),oe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return oe.resolve(i)}containsKey(t,e){return oe.resolve(this.Ps.containsKey(e))}}class VH{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new ms(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new b8(this),this.indexManager=new s8,this.remoteDocumentCache=new y8(i=>this.referenceDelegate.xs(i)),this.It=new mH(e),this.Ns=new m8(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new g8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new _8(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Oe("MemoryPersistence","Starting transaction:",t);const r=new w8(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return oe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class w8 extends rU{constructor(t){super(),this.currentSequenceNumber=t}}class TS{constructor(t){this.persistence=t,this.Fs=new XO,this.$s=null}static Bs(t){return new TS(t)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),oe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),oe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ls,i=>{const r=ze.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Et.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return oe.or([()=>oe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class C8{constructor(t){this.It=t}$(t,e,i,r){const s=new aS("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uH,{unique:!0}),d.createObjectStore("documentMutations"),BH(t),function(d){d.createObjectStore("remoteDocuments")}(t));let l=oe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),BH(t)),l=l.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uH,{unique:!0});const b=p.store("mutations"),D=_.map(T=>b.put(T));return oe.waitFor(D)})}(t,s))),l=l.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.qs(s))),i<6&&r>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(l=l.next(()=>this.Gs(s))),i<8&&r>=8&&(l=l.next(()=>this.Qs(t,s))),i<9&&r>=9&&(l=l.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.js(s))),i<11&&r>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:q4});p.createIndex("collectionPathOverlayIndex",Y4,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Z4,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:F4});p.createIndex("documentKeyIndex",L4),p.createIndex("collectionGroupIndex",V4)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.zs(t,s))),i<15&&r>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:$4}).createIndex("sequenceNumberIndex",z4,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:G4}).createIndex("documentKeyIndex",W4,{unique:!1})}(t))),l}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=DS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>oe.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",l).next(d=>oe.forEach(d,p=>{St(p.userId===s.userId);const _=Xf(this.It,p);return TH(t,s.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((l,d)=>{const p=new on(l),_=[0,$r(p)];s.push(e.get(_).next(b=>b?oe.resolve():e.put({targetId:0,path:$r(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>oe.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:j4});const i=e.store("collectionParents"),r=new QO,s=l=>{if(r.add(l)){const d=l.lastSegment(),p=l.popLast();return i.put({collectionId:d,parent:$r(p)})}};return e.store("remoteDocuments").Z({X:!0},(l,d)=>{const p=new on(l);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([l,d,p],_)=>{const b=ol(d);return s(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=Lw(r),l=_H(this.It,s);return e.put(l)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,l)=>{const d=e.store("remoteDocumentsV14"),p=(_=l,_.document?new ze(on.fromString(_.document.name).popFirst(5)):_.noDocument?ze.fromSegments(_.noDocument.path):_.unknownDocument?ze.fromSegments(_.unknownDocument.path):st()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(d.put(b))}).next(()=>oe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=OH(this.It),s=new VH(TS.Bs,this.It.re);return i.W().next(l=>{const d=new Map;return l.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:Ht();Xf(this.It,p).keys().forEach(D=>b=b.add(D)),d.set(p.userId,b)}),oe.forEach(d,(p,_)=>{const b=new $i(_),D=wS.oe(this.It,b),T=s.getIndexManager(b),x=IS.oe(b,this.It,T,s.referenceDelegate);return new LH(r,x,D,T).recalculateAndSaveOverlaysForDocumentKeys(new GO(e,ms.at),p).next()})})}}function BH(n){n.createObjectStore("targetDocuments",{keyPath:U4}).createIndex("documentTargetsIndex",H4,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",B4,{unique:!0}),n.createObjectStore("targetGlobal")}const JO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eP{constructor(t,e,i,r,s,l,d,p,_,b,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=l,this.document=d,this.Js=_,this.Ys=b,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=T=>Promise.resolve(),!eP.C())throw new Ae(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d8(this,r),this.ii=e+"main",this.It=new mH(p),this.ri=new fa(this.ii,this.Xs,new C8(this.It)),this.Cs=new a8(this.referenceDelegate,this.It),this.remoteDocumentCache=OH(this.It),this.Ns=new J4,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ue.FAILED_PRECONDITION,JO);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new ms(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,K.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,K.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,K.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>AS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Hu(t))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return $w(t).get("owner").next(e=>oe.resolve(this.mi(e)))}gi(t){return AS(t).delete(this.clientId)}yi(){var t=this;return(0,K.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Wi(i,"clientMetadata");return r.W().next(s=>{const l=t.Ii(s,18e5),d=s.filter(p=>-1===l.indexOf(p));return oe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?oe.resolve(!0):$w(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ae(ue.FAILED_PRECONDITION,JO);return!1}}return!(!this.networkEnabled||!this.inForeground)||AS(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Oe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,K.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new GO(e,ms.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>AS(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return IS.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new o8(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return wS.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Oe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.Xs)?Q4:14===l?pH:13===l?fH:12===l?K4:11===l?hH:void st();var l;let d;return this.ri.runTransaction(t,r,s,p=>(d=new GO(p,this.Ss?this.Ss.next():ms.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw yi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ae(ue.FAILED_PRECONDITION,iU);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return $w(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ae(ue.FAILED_PRECONDITION,JO)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $w(t).put("owner",e)}static C(){return fa.C()}_i(t){const e=$w(t);return e.get("owner").next(i=>this.mi(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):oe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(yi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,q.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Oe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){yi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function $w(n){return Wi(n,"owner")}function AS(n){return Wi(n,"clientMetadata")}function tP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class nP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Ht(),r=Ht();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new nP(t,e.fromCache,i,r)}}class UH{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Mi(t,e,r,i)).next(s=>s||this.Oi(t,e))}ki(t,e){if(IU(e))return oe.resolve(null);let i=gs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=fS(e,null,"F"),i=gs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=Ht(...s);return this.Ni.getDocuments(t,l).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,l,p.readTime)?this.ki(t,fS(e,null,"F")):this.Bi(t,_,e,p)}))})))}Mi(t,e,i,r){return IU(e)||r.isEqual(Et.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(s=>{const l=this.Fi(e,s);return this.$i(e,l,i,r)?this.Oi(t,e):(TO()<=Br.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),BO(e)),this.Bi(t,l,e,tU(r,-1)))})}Fi(t,e){let i=new Tn(AU(t));return e.forEach((r,s)=>{UO(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return TO()<=Br.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",BO(e)),this.Ni.getDocumentsMatchingQuery(t,e,Bs.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class E8{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new pi(Nt),this.qi=new qu(s=>qf(s),Iw),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LH(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function HH(n,t,e,i){return new E8(n,t,e,i)}function jH(n,t){return iP.apply(this,arguments)}function iP(){return iP=(0,K.Z)(function*(n,t){const e=Ze(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],d=[];let p=Ht();for(const _ of r){l.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:l,addedBatchIds:d}))})})}),iP.apply(this,arguments)}function D8(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(l,d,p,_){const b=p.batch,D=b.keys();let T=oe.resolve();return D.forEach(x=>{T=T.next(()=>_.getEntry(d,x)).next(O=>{const j=p.docVersions.get(x);St(null!==j),O.version.compareTo(j)<0&&(b.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),_.addEntry(O)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=Ht();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function $H(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function I8(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((b,D)=>{const T=r.get(D);if(!T)return;d.push(e.Cs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>e.Cs.addMatchingKeys(s,b.addedDocuments,D)));let x=T.withSequenceNumber(s.currentSequenceNumber);var O,j,se;t.targetMismatches.has(D)?x=x.withResumeToken(Li.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,i)),r=r.insert(D,x),j=x,se=b,(0===(O=T).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,x))});let p=_s(),_=Ht();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(zH(s,l,t.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(Et.min())){const b=e.Cs.getLastRemoteSnapshotVersion(s).next(D=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return oe.waitFor(d).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.Ui=r,s))}function zH(n,t,e){let i=Ht(),r=Ht();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let l=_s();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(d,p.readTime),l=l.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),l=l.insert(d,p)):Oe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:l,zi:r}})}function S8(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function M_(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,oe.resolve(r)):e.Cs.allocateTargetId(i).next(l=>(r=new Yu(t,l,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function x_(n,t,e){return rP.apply(this,arguments)}function rP(){return rP=(0,K.Z)(function*(n,t,e){const i=Ze(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Hu(l))throw l;Oe("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),rP.apply(this,arguments)}function MS(n,t,e){const i=Ze(n);let r=Et.min(),s=Ht();return i.persistence.runTransaction("Execute query","readonly",l=>function(d,p,_){const b=Ze(d),D=b.qi.get(_);return void 0!==D?oe.resolve(b.Ui.get(D)):b.Cs.getTargetData(p,_)}(i,l,gs(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(l,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(l,t,e?r:Et.min(),e?s:Ht())).next(d=>(qH(i,TU(t),d),{documents:d,Hi:s})))}function GH(n,t){const e=Ze(n),i=Ze(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(l=>l?l.target:null))}function WH(n,t){const e=Ze(n),i=e.Ki.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,tU(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(qH(e,t,r),r))}function qH(n,t,e){let i=Et.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function sP(){return sP=(0,K.Z)(function*(n,t,e,i){const r=Ze(n);let s=Ht(),l=_s();for(const _ of e){const b=t.Ji(_.metadata.name);_.document&&(s=s.add(b));const D=t.Yi(_);D.setReadTime(t.Xi(_.metadata.readTime)),l=l.insert(b,D)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield M_(r,(_=i,gs(v_(on.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>zH(_,d,l).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),sP.apply(this,arguments)}function A8(n,t){return oP.apply(this,arguments)}function oP(){return oP=(0,K.Z)(function*(n,t,e=Ht()){const i=yield M_(n,gs(ZO(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Gi(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(Li.EMPTY_BYTE_STRING,l);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),oP.apply(this,arguments)}function YH(n,t){return`firestore_clients_${n}_${t}`}function ZH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function aP(n,t){return`firestore_targets_${n}_${t}`}class xS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Ae(r.error.code,r.error.message))),l?new xS(t,e,r.state,s):(yi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class zw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ae(i.error.code,i.error.message))),s?new zw(t,i.state,r):(yi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class kS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=_S();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=uU(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new kS(t,s):(yi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class lP{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new lP(e.clientId,e.onlineState):(yi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class cP{constructor(){this.activeTargetIds=_S()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uP{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new pi(Nt),this.started=!1,this.cr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=YH(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new cP),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,K.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(YH(t.persistenceKey,r));if(s){const l=kS.Zi(r,s);l&&(t.ur=t.ur.insert(l.clientId,l))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(aP(this.persistenceKey,t));if(i){const r=zw.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(aP(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Oe("SharedClientState","READ",t,e),e}setItem(t,e){Oe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Oe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,K.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let l=ms.at;if(null!=s)try{const d=JSON.parse(s);St("number"==typeof d),l=d}catch(d){yi("SharedClientState","Failed to read sequence number from WebStorage",d)}return l}(i.newValue);r!==ms.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Or(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new xS(this.currentUser,t,e,i),s=ZH(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=ZH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=aP(this.persistenceKey,t),s=new zw(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return kS.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return xS.Zi(new $i(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return zw.Zi(r,e)}yr(t){return lP.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,K.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),l=[],d=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(l,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=_S();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class KH{constructor(){this.Lr=new cP,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new cP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class M8{qr(t){}shutdown(){}}class QH{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const x8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class k8{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class R8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const l=this.ao(t,e);Oe("RestConnection","Sending: ",l,i);const d={};return this.ho(d,r,s),this.lo(t,l,d,i).then(p=>(Oe("RestConnection","Received: ",p),p),p=>{throw Uf("RestConnection",`${t} failed with error: `,p,"url: ",l,"request:",i),p})}fo(t,e,i,r,s,l){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+p_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){return`${this.oo}/v1/${e}:${x8[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((s,l)=>{const d=new xY;d.listenOnce(TY.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case SO.NO_ERROR:const _=d.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(_)),s(_);break;case SO.TIMEOUT:Oe("Connection",'RPC "'+t+'" timed out'),l(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case SO.HTTP_ERROR:const b=d.getStatus();if(Oe("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const D=d.getResponseJson().error;if(D&&D.status&&D.message){const T=function(x){const O=x.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(O)>=0?O:ue.UNKNOWN}(D.status);l(new Ae(T,D.message))}else l(new Ae(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=IY(),l=SY(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new MY({})),this.ho(d.initMessageHeaders,e,i),(0,q.uI)()||(0,q.b$)()||(0,q.d)()||(0,q.w1)()||(0,q.Mn)()||(0,q.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Oe("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,D=!1;const T=new k8({Hr:O=>{D?Oe("Connection","Not sending because WebChannel is closed:",O):(b||(Oe("Connection","Opening WebChannel transport."),_.open(),b=!0),Oe("Connection","WebChannel sending:",O),_.send(O))},Jr:()=>_.close()}),x=(O,j,se)=>{O.listen(j,Fe=>{try{se(Fe)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return x(_,rS.EventType.OPEN,()=>{D||Oe("Connection","WebChannel transport opened.")}),x(_,rS.EventType.CLOSE,()=>{D||(D=!0,Oe("Connection","WebChannel transport closed"),T.io())}),x(_,rS.EventType.ERROR,O=>{D||(D=!0,Uf("Connection","WebChannel transport errored:",O),T.io(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),x(_,rS.EventType.MESSAGE,O=>{var j;if(!D){const se=O.data[0];St(!!se);const Fe=se,Ge=Fe.error||(null===(j=Fe[0])||void 0===j?void 0:j.error);if(Ge){Oe("Connection","WebChannel received error:",Ge);const it=Ge.status;let Ke=function(Ct){const nn=Ti[Ct];if(void 0!==nn)return $U(nn)}(it),pt=Ge.message;void 0===Ke&&(Ke=ue.INTERNAL,pt="Unknown error status: "+it+" with message "+Ge.message),D=!0,T.io(new Ae(Ke,pt)),_.close()}else Oe("Connection","WebChannel received:",se),T.ro(se)}}),x(l,AY.STAT_EVENT,O=>{O.stat===Z2.PROXY?Oe("Connection","Detected buffering proxy"):O.stat===Z2.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function XH(){return typeof window<"u"?window:null}function RS(){return typeof document<"u"?document:null}function Gw(n){return new E4(n,!0)}class dP{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class JH{constructor(t,e,i,r,s,l,d,p){this.Hs=t,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new dP(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,K.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,K.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,K.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(yi(e.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,K.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Oe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O8 extends JH{constructor(t,e,i,r,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function S4(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:st(),r=t.targetChange.targetIds||[],s=function(p,_){return p.gt?(St(void 0===_||"string"==typeof _),Li.fromBase64String(_||"")):(St(void 0===_||_ instanceof Uint8Array),Li.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,d=l&&function(p){const _=void 0===p.code?ue.UNKNOWN:$U(p.code);return new Ae(_,p.message||"")}(l);e=new YU(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=sl(n,i.document.name),s=Gi(i.document.updateTime),l=new lr({mapValue:{fields:i.document.fields}}),d=Hn.newFoundDocument(r,s,l);e=new yS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=sl(n,i.document),s=i.readTime?Gi(i.readTime):Et.min(),l=Hn.newNoDocument(r,s);e=new yS([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=sl(n,i.document);e=new yS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return st();{const i=t.filter,s=new m4(i.count||0);e=new qU(i.targetId,s)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Et.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Et.min():s.readTime?Gi(s.readTime):Et.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=Nw(this.It),e.addTarget=function(r,s){let l;const d=s.target;return l=dS(d)?{documents:rH(r,d)}:{query:sH(r,d)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=XU(r,s.resumeToken):s.snapshotVersion.compareTo(Et.min())>0&&(l.readTime=Ow(r,s.snapshotVersion.toTimestamp())),l}(this.It,t);const i=function A4(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=Nw(this.It),e.removeTarget=t,this.Bo(e)}}class P8 extends JH{constructor(t,e,i,r,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function T4(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let s=Gi(i.updateTime?i.updateTime:r);return s.isEqual(Et.min())&&(s=Gi(r)),new h4(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Gi(t.commitTime);return this.listener.Zo(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=Nw(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Fw(this.It,i))};this.Bo(e)}}class N8 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ae(ue.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.Vo.fo(t,e,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ue.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class F8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yi(e),this.ou=!1):Oe("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class L8{constructor(t,e,i,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,K.Z)(function*(){var p;Qu(l)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,K.Z)(function*(_){const b=Ze(_);b._u.add(4),yield k_(b),b.gu.set("Unknown"),b._u.delete(4),yield Ww(b)}),function(_){return p.apply(this,arguments)})(l))}))}),this.gu=new F8(i,r)}}function Ww(n){return hP.apply(this,arguments)}function hP(){return hP=(0,K.Z)(function*(n){if(Qu(n))for(const t of n.wu)yield t(!0)}),hP.apply(this,arguments)}function k_(n){return fP.apply(this,arguments)}function fP(){return fP=(0,K.Z)(function*(n){for(const t of n.wu)yield t(!1)}),fP.apply(this,arguments)}function OS(n,t){const e=Ze(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),gP(e)?mP(e):O_(e).ko()&&pP(e,t))}function qw(n,t){const e=Ze(n),i=O_(e);e.du.delete(t),i.ko()&&ej(e,t),0===e.du.size&&(i.ko()?i.Fo():Qu(e)&&e.gu.set("Unknown"))}function pP(n,t){n.yu.Ot(t.targetId),O_(n).zo(t)}function ej(n,t){n.yu.Ot(t),O_(n).Ho(t)}function mP(n){n.yu=new b4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),O_(n).start(),n.gu.uu()}function gP(n){return Qu(n)&&!O_(n).No()&&n.du.size>0}function Qu(n){return 0===Ze(n)._u.size}function tj(n){n.yu=void 0}function V8(n){return _P.apply(this,arguments)}function _P(){return _P=(0,K.Z)(function*(n){n.du.forEach((t,e)=>{pP(n,t)})}),_P.apply(this,arguments)}function B8(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,K.Z)(function*(n,t){tj(n),gP(n)?(n.gu.hu(t),mP(n)):n.gu.set("Unknown")}),yP.apply(this,arguments)}function U8(n,t,e){return vP.apply(this,arguments)}function vP(){return vP=(0,K.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof YU&&2===t.state&&t.cause)try{yield(i=(0,K.Z)(function*(r,s){const l=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,l),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield PS(n,i)}else if(t instanceof yS?n.yu.Gt(t):t instanceof qU?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Et.min()))try{const i=yield $H(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const l=r.yu.te(s);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,s))}}),l.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(Li.EMPTY_BYTE_STRING,p.snapshotVersion)),ej(r,d);const _=new Yu(p.target,d,1,p.sequenceNumber);pP(r,_)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield PS(n,i)}var i}),vP.apply(this,arguments)}function PS(n,t,e){return bP.apply(this,arguments)}function bP(){return bP=(0,K.Z)(function*(n,t,e){if(!Hu(t))throw t;n._u.add(1),yield k_(n),n.gu.set("Offline"),e||(e=()=>$H(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Ww(n)}))}),bP.apply(this,arguments)}function nj(n,t){return t().catch(e=>PS(n,e,t))}function R_(n){return wP.apply(this,arguments)}function wP(){return wP=(0,K.Z)(function*(n){const t=Ze(n),e=Xu(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;H8(t);)try{const r=yield S8(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,j8(t,r)}catch(r){yield PS(t,r)}ij(t)&&rj(t)}),wP.apply(this,arguments)}function H8(n){return Qu(n)&&n.fu.length<10}function j8(n,t){n.fu.push(t);const e=Xu(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function ij(n){return Qu(n)&&!Xu(n).No()&&n.fu.length>0}function rj(n){Xu(n).start()}function $8(n){return CP.apply(this,arguments)}function CP(){return CP=(0,K.Z)(function*(n){Xu(n).eu()}),CP.apply(this,arguments)}function z8(n){return EP.apply(this,arguments)}function EP(){return EP=(0,K.Z)(function*(n){const t=Xu(n);for(const e of n.fu)t.Xo(e.mutations)}),EP.apply(this,arguments)}function G8(n,t,e){return DP.apply(this,arguments)}function DP(){return DP=(0,K.Z)(function*(n,t,e){const i=n.fu.shift(),r=qO.from(i,t,e);yield nj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield R_(n)}),DP.apply(this,arguments)}function W8(n,t){return IP.apply(this,arguments)}function IP(){return IP=(0,K.Z)(function*(n,t){var e;t&&Xu(n).Yo&&(yield(e=(0,K.Z)(function*(i,r){if(jU(s=r.code)&&s!==ue.ABORTED){const l=i.fu.shift();Xu(i).Oo(),yield nj(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield R_(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),ij(n)&&rj(n)}),IP.apply(this,arguments)}function sj(n,t){return SP.apply(this,arguments)}function SP(){return SP=(0,K.Z)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const i=Qu(e);e._u.add(3),yield k_(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Ww(e)}),SP.apply(this,arguments)}function TP(n,t){return AP.apply(this,arguments)}function AP(){return AP=(0,K.Z)(function*(n,t){const e=Ze(n);t?(e._u.delete(2),yield Ww(e)):t||(e._u.add(2),yield k_(e),e.gu.set("Unknown"))}),AP.apply(this,arguments)}function O_(n){return n.pu||(n.pu=function(t,e,i){const r=Ze(t);return r.su(),new O8(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:V8.bind(null,n),Zr:B8.bind(null,n),Wo:U8.bind(null,n)}),n.wu.push(function(){var t=(0,K.Z)(function*(e){e?(n.pu.Oo(),gP(n)?mP(n):n.gu.set("Unknown")):(yield n.pu.stop(),tj(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Xu(n){return n.Iu||(n.Iu=function(t,e,i){const r=Ze(t);return r.su(),new P8(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:$8.bind(null,n),Zr:W8.bind(null,n),tu:z8.bind(null,n),Zo:G8.bind(null,n)}),n.wu.push(function(){var t=(0,K.Z)(function*(e){e?(n.Iu.Oo(),yield R_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class MP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,s){const l=Date.now()+i,d=new MP(t,e,l,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(n,t){if(yi("AsyncQueue",`${t}: ${n}`),Hu(n))return new Ae(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class N_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ze.comparator(e.key,i.key):(e,i)=>ze.comparator(e.key,i.key),this.keyedMap=Mw(),this.sortedSet=new pi(this.comparator)}static emptySet(t){return new N_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof N_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new N_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oj{constructor(){this.Tu=new pi(ze.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):st():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class F_{constructor(t,e,i,r,s,l,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(l=>{s.push({type:0,doc:l})}),new F_(t,e,N_.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class q8{constructor(){this.Au=void 0,this.listeners=[]}}class Y8{constructor(){this.queries=new qu(t=>SU(t),Sw),this.onlineState="Unknown",this.Ru=new Set}}function xP(n,t){return kP.apply(this,arguments)}function kP(){return kP=(0,K.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new q8),r)try{s.Au=yield e.onListen(i)}catch(l){const d=P_(l,`Initialization of query '${BO(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&PP(e)}),kP.apply(this,arguments)}function RP(n,t){return OP.apply(this,arguments)}function OP(){return OP=(0,K.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),OP.apply(this,arguments)}function Z8(n,t){const e=Ze(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const d of l.listeners)d.Pu(r)&&(i=!0);l.Au=r}}i&&PP(e)}function K8(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function PP(n){n.Ru.forEach(t=>{t.next()})}class NP{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new F_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=F_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class Q8{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class aj{constructor(t){this.It=t}Ji(t){return sl(this.It,t)}Yi(t){return t.metadata.exists?iH(this.It,t.document,!1):Hn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Gi(t)}}class X8{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lj(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=on.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new aj(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const l of r.metadata.queries){const d=(e.get(l)||Ht()).add(s);e.set(l,d)}}return e}complete(){var t=this;return(0,K.Z)(function*(){const e=yield function T8(n,t,e,i){return sP.apply(this,arguments)}(t.localStore,new aj(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield A8(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function lj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class cj{constructor(t){this.key=t}}class uj{constructor(t){this.key=t}}class dj{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=Ht(),this.mutatedKeys=Ht(),this.Ku=AU(t),this.Gu=new N_(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new oj,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,l=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,D)=>{const T=r.get(b),x=UO(this.query,D)?D:null,O=!!T&&this.mutatedKeys.has(T.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let se=!1;T&&x?T.data.isEqual(x.data)?O!==j&&(i.track({type:3,doc:x}),se=!0):this.zu(T,x)||(i.track({type:2,doc:x}),se=!0,(p&&this.Ku(x,p)>0||_&&this.Ku(x,_)<0)&&(d=!0)):!T&&x?(i.track({type:0,doc:x}),se=!0):T&&!x&&(i.track({type:1,doc:T}),se=!0,(p||_)&&(d=!0)),se&&(x?(l=l.add(x),s=j?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Gu:l,Wu:i,$i:d,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((_,b)=>function(D,T){const x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return x(D)-x(T)}(_.type,b.type)||this.Ku(_.doc,b.doc)),this.Hu(i);const l=e?this.Ju():[],d=0===this.qu.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==s.length||p?{snapshot:new F_(this.query,t.Gu,r,s,t.mutatedKeys,0===d,p,!1),Yu:l}:{Yu:l}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new oj,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=Ht(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new uj(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new cj(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=Ht();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return F_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class J8{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class e5{constructor(t){this.key=t,this.ec=!1}}class t5{constructor(t,e,i,r,s,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new qu(d=>SU(d),Sw),this.ic=new Map,this.rc=new Set,this.oc=new pi(ze.comparator),this.uc=new Map,this.cc=new XO,this.ac={},this.hc=new Map,this.lc=np.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function n5(n,t){return FP.apply(this,arguments)}function FP(){return FP=(0,K.Z)(function*(n,t){const e=sN(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const l=yield M_(e.localStore,gs(t));e.isPrimaryClient&&OS(e.remoteStore,l);const d=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield LP(e,t,i,"current"===d)}return r}),FP.apply(this,arguments)}function LP(n,t,e,i){return VP.apply(this,arguments)}function VP(){return VP=(0,K.Z)(function*(n,t,e,i){n.dc=(b,D,T)=>{return(x=(0,K.Z)(function*(O,j,se,Fe){let Ge=j.view.ju(se);Ge.$i&&(Ge=yield MS(O.localStore,j.query,!1).then(({documents:pt})=>j.view.ju(pt,Ge)));const it=Fe&&Fe.targetChanges.get(j.targetId),Ke=j.view.applyChanges(Ge,O.isPrimaryClient,it);return YP(O,j.targetId,Ke.Yu),Ke.snapshot}),function(O,j,se,Fe){return x.apply(this,arguments)})(n,b,D,T);var x};const r=yield MS(n.localStore,t,!0),s=new dj(t,r.Hi),l=s.ju(r.documents),d=Rw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(l,n.isPrimaryClient,d);YP(n,e,p.Yu);const _=new J8(t,e,s);return n.sc.set(t,_),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),p.snapshot}),VP.apply(this,arguments)}function r5(n,t){return BP.apply(this,arguments)}function BP(){return BP=(0,K.Z)(function*(n,t){const e=Ze(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!Sw(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield x_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),qw(e.remoteStore,i.targetId),L_(e,i.targetId)}).catch(Uu))):(L_(e,i.targetId),yield x_(e.localStore,i.targetId,!0))}),BP.apply(this,arguments)}function UP(){return UP=(0,K.Z)(function*(n,t,e){const i=oN(n);try{const r=yield function(s,l){const d=Ze(s),p=Qn.now(),_=l.reduce((T,x)=>T.add(x.key),Ht());let b,D;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=_s(),O=Ht();return d.Gi.getEntries(T,_).next(j=>{x=j,x.forEach((se,Fe)=>{Fe.isValidDocument()||(O=O.add(se))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,x)).next(j=>{b=j;const se=[];for(const Fe of l){const Ge=p4(Fe,b.get(Fe.key).overlayedDocument);null!=Ge&&se.push(new Dc(Fe.key,Ge,_U(Ge.value.mapValue),Xn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,se,l)}).next(j=>{D=j;const se=j.applyToLocalDocumentSet(b,O);return d.documentOverlayCache.saveOverlays(T,j.batchId,se)})}).then(()=>({batchId:D.batchId,changes:GU(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,d){let p=s.ac[s.currentUser.toKey()];p||(p=new pi(Nt)),p=p.insert(l,d),s.ac[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Ic(i,r.changes),yield R_(i.remoteStore)}catch(r){const s=P_(r,"Failed to persist write");e.reject(s)}}),UP.apply(this,arguments)}function hj(n,t){return HP.apply(this,arguments)}function HP(){return HP=(0,K.Z)(function*(n,t){const e=Ze(n);try{const i=yield I8(e.localStore,t);t.targetChanges.forEach((r,s)=>{const l=e.uc.get(s);l&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.ec=!0:r.modifiedDocuments.size>0?St(l.ec):r.removedDocuments.size>0&&(St(l.ec),l.ec=!1))}),yield Ic(e,i,t)}catch(i){yield Uu(i)}}),HP.apply(this,arguments)}function fj(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((s,l)=>{const d=l.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,l){const d=Ze(s);d.onlineState=l;let p=!1;d.queries.forEach((_,b)=>{for(const D of b.listeners)D.bu(l)&&(p=!0)}),p&&PP(d)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function o5(n,t,e){return jP.apply(this,arguments)}function jP(){return jP=(0,K.Z)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let l=new pi(ze.comparator);l=l.insert(s,Hn.newNoDocument(s,Et.min()));const d=Ht().add(s),p=new kw(Et.min(),new Map,new Tn(Nt),l,d);yield hj(i,p),i.oc=i.oc.remove(s),i.uc.delete(t),ZP(i)}else yield x_(i.localStore,t,!1).then(()=>L_(i,t,e)).catch(Uu)}),jP.apply(this,arguments)}function a5(n,t){return $P.apply(this,arguments)}function $P(){return $P=(0,K.Z)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield D8(e.localStore,t);qP(e,i,null),WP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ic(e,r)}catch(r){yield Uu(r)}}),$P.apply(this,arguments)}function l5(n,t,e){return zP.apply(this,arguments)}function zP(){return zP=(0,K.Z)(function*(n,t,e){const i=Ze(n);try{const r=yield function(s,l){const d=Ze(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,l).next(b=>(St(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);qP(i,t,e),WP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ic(i,r)}catch(r){yield Uu(r)}}),zP.apply(this,arguments)}function GP(){return GP=(0,K.Z)(function*(n,t){const e=Ze(n);Qu(e.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=Ze(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>l.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=P_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),GP.apply(this,arguments)}function WP(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function qP(n,t,e){const i=Ze(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function L_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||pj(n,i)})}function pj(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(qw(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),ZP(n))}function YP(n,t,e){for(const i of e)i instanceof cj?(n.cc.addReference(i.key,t),u5(n,i)):i instanceof uj?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||pj(n,i.key)):st()}function u5(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(Oe("SyncEngine","New document in limbo: "+e),n.rc.add(i),ZP(n))}function ZP(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new ze(on.fromString(t)),i=n.lc.next();n.uc.set(i,new e5(e)),n.oc=n.oc.insert(e,i),OS(n.remoteStore,new Yu(gs(v_(e.path)),i,2,ms.at))}}function Ic(n,t,e){return KP.apply(this,arguments)}function KP(){return KP=(0,K.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[],l=[];var d;i.sc.isEmpty()||(i.sc.forEach((d,p)=>{l.push(i.dc(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const b=nP.Ci(p.targetId,_);s.push(b)}}))}),yield Promise.all(l),i.nc.Wo(r),yield(d=(0,K.Z)(function*(p,_){const b=Ze(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>oe.forEach(_,T=>oe.forEach(T.Si,x=>b.persistence.referenceDelegate.addReference(D,T.targetId,x)).next(()=>oe.forEach(T.Di,x=>b.persistence.referenceDelegate.removeReference(D,T.targetId,x)))))}catch(D){if(!Hu(D))throw D;Oe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const T=D.targetId;if(!D.fromCache){const x=b.Ui.get(T),j=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);b.Ui=b.Ui.insert(T,j)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),KP.apply(this,arguments)}function d5(n,t){return QP.apply(this,arguments)}function QP(){return QP=(0,K.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Oe("SyncEngine","User change. New user:",t.toKey());const i=yield jH(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(l=>{l.forEach(d=>{d.reject(new Ae(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ic(e,i.ji)}var r}),QP.apply(this,arguments)}function h5(n,t){const e=Ze(n),i=e.uc.get(t);if(i&&i.ec)return Ht().add(i.key);{let r=Ht();const s=e.ic.get(t);if(!s)return r;for(const l of s){const d=e.sc.get(l);r=r.unionWith(d.view.Qu)}return r}}function f5(n,t){return XP.apply(this,arguments)}function XP(){return XP=(0,K.Z)(function*(n,t){const e=Ze(n),i=yield MS(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&YP(e,t.targetId,r.Yu),r}),XP.apply(this,arguments)}function p5(n,t){return JP.apply(this,arguments)}function JP(){return JP=(0,K.Z)(function*(n,t){const e=Ze(n);return WH(e.localStore,t).then(i=>Ic(e,i))}),JP.apply(this,arguments)}function m5(n,t,e,i){return eN.apply(this,arguments)}function eN(){return eN=(0,K.Z)(function*(n,t,e,i){const r=Ze(n),s=yield function(l,d){const p=Ze(l),_=Ze(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(D=>D?p.localDocuments.getDocuments(b,D):oe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield R_(r.remoteStore):"acknowledged"===e||"rejected"===e?(qP(r,t,i||null),WP(r,t),d=t,Ze(Ze(r.localStore).mutationQueue).An(d)):st(),yield Ic(r,s)):Oe("SyncEngine","Cannot apply mutation batch with id: "+t)}),eN.apply(this,arguments)}function tN(){return tN=(0,K.Z)(function*(n,t){const e=Ze(n);if(sN(e),oN(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield mj(e,i.toArray());e.fc=!0,yield TP(e.remoteStore,!0);for(const s of r)OS(e.remoteStore,s)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((s,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(L_(e,l),x_(e.localStore,l,!0))),qw(e.remoteStore,l)}),yield r,yield mj(e,i),function(s){const l=Ze(s);l.uc.forEach((d,p)=>{qw(l.remoteStore,p)}),l.cc.fs(),l.uc=new Map,l.oc=new pi(ze.comparator)}(e),e.fc=!1,yield TP(e.remoteStore,!1)}}),tN.apply(this,arguments)}function mj(n,t,e){return nN.apply(this,arguments)}function nN(){return nN=(0,K.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[];for(const l of t){let d;const p=i.ic.get(l);if(p&&0!==p.length){d=yield M_(i.localStore,gs(p[0]));for(const _ of p){const b=i.sc.get(_),D=yield f5(i,b);D.snapshot&&s.push(D.snapshot)}}else{const _=yield GH(i.localStore,l);d=yield M_(i.localStore,_),yield LP(i,gj(_),l,!1)}r.push(d)}return i.nc.Wo(s),r}),nN.apply(this,arguments)}function gj(n){return DU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _5(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).vi()}function y5(n,t,e,i){return iN.apply(this,arguments)}function iN(){return iN=(0,K.Z)(function*(n,t,e,i){const r=Ze(n);if(r.fc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const l=yield WH(r.localStore,TU(s[0])),d=kw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ic(r,l,d);break}case"rejected":yield x_(r.localStore,t,!0),L_(r,t,i);break;default:st()}}),iN.apply(this,arguments)}function v5(n,t,e){return rN.apply(this,arguments)}function rN(){return rN=(0,K.Z)(function*(n,t,e){const i=sN(n);if(i.fc){for(const r of t){if(i.ic.has(r)){Oe("SyncEngine","Adding an already active target "+r);continue}const s=yield GH(i.localStore,r),l=yield M_(i.localStore,s);yield LP(i,gj(s),l.targetId,!1),OS(i.remoteStore,l)}for(const r of e)i.ic.has(r)&&(yield x_(i.localStore,r,!1).then(()=>{qw(i.remoteStore,r),L_(i,r)}).catch(Uu))}}),rN.apply(this,arguments)}function sN(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=h5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o5.bind(null,t),t.nc.Wo=Z8.bind(null,t.eventManager),t.nc._c=K8.bind(null,t.eventManager),t}function oN(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=l5.bind(null,t),t}class _j{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,K.Z)(function*(){e.It=Gw(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return HH(this.persistence,new UH,t.initialUser,this.It)}gc(t){return new VH(TS.Bs,this.It)}mc(t){return new KH}terminate(){var t=this;return(0,K.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class yj extends _j{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield oN(i.Ec.syncEngine),yield R_(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return HH(this.persistence,new UH,t.initialUser,this.It)}Ic(t,e){return new c8(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new WY(e,this.persistence);return new GY(t.asyncQueue,i)}gc(t){const e=tP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ys.withCacheSize(this.cacheSizeBytes):ys.DEFAULT;return new eP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,XH(),RS(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new KH}}class w5 extends yj{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof uP&&(i.sharedClientState.syncEngine={Fr:m5.bind(null,r),$r:y5.bind(null,r),Br:v5.bind(null,r),vi:_5.bind(null,r),Or:p5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,K.Z)(function*(l){yield function g5(n,t){return tN.apply(this,arguments)}(i.Ec.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}mc(t){const e=XH();if(!uP.C(e))throw new Ae(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=tP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class aN{initialize(t,e){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=d5.bind(null,i.syncEngine),yield TP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Y8}createDatastore(t){const e=Gw(t.databaseInfo.databaseId),i=new R8(t.databaseInfo);return new N8(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>fj(this.syncEngine,d,0),l=QH.C()?new QH:new M8,new L8(e,i,r,s,l);var e,i,r,s,l}createSyncEngine(t,e){return function(i,r,s,l,d,p,_){const b=new t5(i,r,s,l,d,p);return _&&(b.fc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,K.Z)(function*(e){const i=Ze(e);Oe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield k_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function vj(n,t=10240){let e=0;return{read:()=>(0,K.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class NS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):yi("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class C5{constructor(t,e){this.bc=t,this.It=e,this.metadata=new zi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,K.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,K.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,K.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const s=yield t.Dc(r);return new Q8(JSON.parse(s),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,K.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,K.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,K.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class E5{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ae(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,l){const d=Ze(s),p=Nw(d.It)+"/documents",_={documents:l.map(x=>Pw(d.It,x))},b=yield d.fo("BatchGetDocuments",p,_,l.length),D=new Map;b.forEach(x=>{const O=function I4(n,t){return"found"in t?function(e,i){St(!!i.found);const r=sl(e,i.found.name),s=Gi(i.found.updateTime),l=new lr({mapValue:{fields:i.found.fields}});return Hn.newFoundDocument(r,s,l)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=sl(e,i.missing),s=Gi(i.readTime);return Hn.newNoDocument(r,s)}(n,t):st()}(d.It,x);D.set(O.key.toString(),O)});const T=[];return l.forEach(x=>{const O=D.get(x.toString());St(!!O),T.push(O)}),T}),function(s,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new D_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=ze.fromPath(r);t.mutations.push(new HO(s,t.precondition(s)))}),yield(i=(0,K.Z)(function*(r,s){const l=Ze(r),d=Nw(l.It)+"/documents",p={writes:s.map(_=>Fw(l.It,_))};yield l.co("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw st();e=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ae(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Et.min())?Xn.exists(!1):Xn.updateTime(e):Xn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new Ae(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(e)}return Xn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class D5{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Nc=i.maxAttempts,this.xo=new dP(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,K.Z)(function*(){const e=new E5(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Oc(s)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!bw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!jU(e)}return!1}}class I5{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=$i.UNAUTHENTICATED,this.clientId=J2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,K.Z)(function*(d){Oe("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Oe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,K.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=P_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bj(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,K.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(s){i.isEqual(s)||(yield jH(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),lN.apply(this,arguments)}function wj(n,t){return cN.apply(this,arguments)}function cN(){return cN=(0,K.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield uN(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>sj(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>sj(t.remoteStore,s)),n.onlineComponents=t}),cN.apply(this,arguments)}function uN(n){return dN.apply(this,arguments)}function dN(){return dN=(0,K.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield bj(n,new _j)),n.offlineComponents}),dN.apply(this,arguments)}function FS(n){return hN.apply(this,arguments)}function hN(){return hN=(0,K.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield wj(n,new aN)),n.onlineComponents}),hN.apply(this,arguments)}function Cj(n){return uN(n).then(t=>t.persistence)}function LS(n){return uN(n).then(t=>t.localStore)}function Ej(n){return FS(n).then(t=>t.remoteStore)}function fN(n){return FS(n).then(t=>t.syncEngine)}function V_(n){return pN.apply(this,arguments)}function pN(){return pN=(0,K.Z)(function*(n){const t=yield FS(n),e=t.eventManager;return e.onListen=n5.bind(null,t.syncEngine),e.onUnlisten=r5.bind(null,t.syncEngine),e}),pN.apply(this,arguments)}function Dj(n,t,e={}){const i=new zi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(r,s,l,d,p){const _=new NS({next:D=>{s.enqueueAndForget(()=>RP(r,b));const T=D.docs.has(l);!T&&D.fromCache?p.reject(new Ae(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&D.fromCache&&d&&"server"===d.source?p.reject(new Ae(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new NP(v_(l.path),_,{includeMetadataChanges:!0,Nu:!0});return xP(r,b)}(yield V_(n),n.asyncQueue,t,e,i)})),i.promise}function Ij(n,t,e={}){const i=new zi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(r,s,l,d,p){const _=new NS({next:D=>{s.enqueueAndForget(()=>RP(r,b)),D.fromCache&&"server"===d.source?p.reject(new Ae(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new NP(l,_,{includeMetadataChanges:!0,Nu:!0});return xP(r,b)}(yield V_(n),n.asyncQueue,t,e,i)})),i.promise}const Sj=new Map;function mN(n,t,e){if(!e)throw new Ae(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Tj(n,t,e,i){if(!0===t&&!0===i)throw new Ae(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Aj(n){if(!ze.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mj(n){if(ze.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":st()}function tn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=VS(n);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function xj(n,t){if(t<=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class kj{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Tj("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yw{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kj(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new OY;switch(e.type){case"gapi":return new LY(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Sj.get(t);e&&(Oe("ComponentProvider","Removing Datastore"),Sj.delete(t),e.terminate())}(this),Promise.resolve()}}class qn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qn(this.firestore,t,this._key)}}class Tr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Tr(this.firestore,t,this._query)}}class al extends Tr{constructor(t,e,i){super(t,e,v_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qn(this.firestore,null,new ze(t))}withConverter(t){return new al(this.firestore,t,this._path)}}function Rj(n,t,...e){if(n=(0,q.m9)(n),mN("collection","path",t),n instanceof Yw){const i=on.fromString(t,...e);return Mj(i),new al(n,null,i)}{if(!(n instanceof qn||n instanceof al))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return Mj(i),new al(n.firestore,null,i)}}function BS(n,t,...e){if(n=(0,q.m9)(n),1===arguments.length&&(t=J2.R()),mN("doc","path",t),n instanceof Yw){const i=on.fromString(t,...e);return Aj(i),new qn(n,null,new ze(i))}{if(!(n instanceof qn||n instanceof al))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return Aj(i),new qn(n.firestore,n instanceof al?n.converter:null,new ze(i))}}function Oj(n,t){return n=(0,q.m9)(n),t=(0,q.m9)(t),(n instanceof qn||n instanceof al)&&(t instanceof qn||t instanceof al)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Pj(n,t){return n=(0,q.m9)(n),t=(0,q.m9)(t),n instanceof Tr&&t instanceof Tr&&n.firestore===t.firestore&&Sw(n._query,t._query)&&n.converter===t.converter}class F5{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new dP(this,"async_queue_retry"),this.jc=()=>{const e=RS();e&&Oe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=RS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=RS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new zi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,K.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!Hu(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,yi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=MP.createAndSchedule(this,t,e,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&st()}verifyOperationInProgress(){}Yc(){var t=this;return(0,K.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function gN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class L5{constructor(){this._progressObserver={},this._taskCompletionResolver=new zi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Jn extends Yw{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new F5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Nj(this),this._firestoreClient.terminate()}}function B5(n,t){const e="object"==typeof n?n:(0,Rt.getApp)(),i="string"==typeof n?n:t||"(default)";return(0,Rt._getProvider)(e,"firestore").getImmediate({identifier:i})}function Ai(n){return n._firestoreClient||Nj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Nj(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new ZY(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new I5(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Fj(n,t,e){const i=new zi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield bj(n,e),yield wj(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(l=s).name?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw s;Uf("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var l})).then(()=>i.promise)}function Lj(n){if(n._initialized||n._terminated)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ll{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ll(Li.fromBase64String(t))}catch(e){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ll(Li.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class rp{constructor(t){this._methodName=t}}class US{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}const Y5=/^__.*__$/;class Z5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Dc(t,this.data,this.fieldMask,e,this.fieldTransforms):new E_(t,this.data,e,this.fieldTransforms)}}class Vj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Dc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Bj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class HS{constructor(t,e,i,r,s,l){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new HS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return zS(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(Bj(this.na)&&Y5.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class K5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||Gw(t)}fa(t,e,i,r=!1){return new HS({na:t,methodName:e,la:i,path:fi.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function sp(n){const t=n._freezeSettings(),e=Gw(n._databaseId);return new K5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function jS(n,t,e,i,r,s={}){const l=n.fa(s.merge||s.mergeFields?2:0,t,e,r);bN("Data must be an object, but it was:",l,i);const d=jj(i,l);let p,_;if(s.merge)p=new Us(l.fieldMask),_=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const D of s.mergeFields){const T=wN(t,D,e);if(!l.contains(T))throw new Ae(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);zj(b,T)||b.push(T)}p=new Us(b),_=l.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,_=l.fieldTransforms;return new Z5(new lr(d),p,_)}class Zw extends rp{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zw}}function Uj(n,t,e){return new HS({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class _N extends rp{_toFieldTransform(t){return new Tw(t.path,new w_)}isEqual(t){return t instanceof _N}}class Q5 extends rp{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=Uj(this,t,!0),i=this.da.map(s=>op(s,e)),r=new Yf(i);return new Tw(t.path,r)}isEqual(t){return this===t}}class X5 extends rp{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=Uj(this,t,!0),i=this.da.map(s=>op(s,e)),r=new Zf(i);return new Tw(t.path,r)}isEqual(t){return this===t}}class J5 extends rp{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new C_(t.It,kU(t.It,this._a));return new Tw(t.path,e)}isEqual(t){return this===t}}function yN(n,t,e,i){const r=n.fa(1,t,e);bN("Data must be an object, but it was:",r,i);const s=[],l=lr.empty();$f(i,(p,_)=>{const b=$S(t,p,e);_=(0,q.m9)(_);const D=r.ua(b);if(_ instanceof Zw)s.push(b);else{const T=op(_,D);null!=T&&(s.push(b),l.set(b,T))}});const d=new Us(s);return new Vj(l,d,r.fieldTransforms)}function vN(n,t,e,i,r,s){const l=n.fa(1,t,e),d=[wN(t,i,e)],p=[r];if(s.length%2!=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<s.length;T+=2)d.push(wN(t,s[T])),p.push(s[T+1]);const _=[],b=lr.empty();for(let T=d.length-1;T>=0;--T)if(!zj(_,d[T])){const x=d[T];let O=p[T];O=(0,q.m9)(O);const j=l.ua(x);if(O instanceof Zw)_.push(x);else{const se=op(O,j);null!=se&&(_.push(x),b.set(x,se))}}const D=new Us(_);return new Vj(b,D,l.fieldTransforms)}function Hj(n,t,e,i=!1){return op(e,n.fa(i?4:3,t))}function op(n,t){if($j(n=(0,q.m9)(n)))return bN("Unsupported field value:",t,n),jj(n,t);if(n instanceof rp)return function(e,i){if(!Bj(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const l of e){let d=op(l,i.ca(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,q.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kU(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Qn.fromDate(e);return{timestampValue:Ow(i.It,r)}}if(e instanceof Qn){const r=new Qn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ow(i.It,r)}}if(e instanceof US)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ll)return{bytesValue:XU(i.It,e._byteString)};if(e instanceof qn){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${VS(e)}`)}(n,t)}function jj(n,t){const e={};return aU(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$f(n,(i,r)=>{const s=op(r,t.ia(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function $j(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof US||n instanceof ll||n instanceof qn||n instanceof rp)}function bN(n,t,e){if(!$j(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=VS(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function wN(n,t,e){if((t=(0,q.m9)(t))instanceof Sc)return t._internalPath;if("string"==typeof t)return $S(n,t);throw zS("Field path arguments must be of type string or ",n,!1,void 0,e)}const eZ=new RegExp("[~\\*/\\[\\]]");function $S(n,t,e){if(t.search(eZ)>=0)throw zS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Sc(...t.split("."))._internalPath}catch{throw zS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function zS(n,t,e,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new Ae(ue.INVALID_ARGUMENT,d+n+p)}function zj(n,t){return n.some(e=>e.isEqual(t))}class Kw{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new tZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(GS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class tZ extends Kw{data(){return super.data()}}function GS(n,t){return"string"==typeof t?$S(n,t):t instanceof Sc?t._internalPath:t._delegate._internalPath}class ap{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tc extends Kw{constructor(t,e,i,r,s,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Qw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(GS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Qw extends Tc{data(t={}){return super.data(t)}}class Ju{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ap(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Qw(this._firestore,this._userDataWriter,i.key,i,new ap(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Qw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ap(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const d=new Qw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ap(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),_=s.indexOf(l.doc.key)),{type:nZ(l.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function nZ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function Gj(n,t){return n instanceof Tc&&t instanceof Tc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ju&&t instanceof Ju&&n._firestore===t._firestore&&Pj(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function Wj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xw{}function ed(n,...t){for(const e of t)n=e._apply(n);return n}class iZ extends Xw{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=sp(t.firestore),i=function(r,s,l,d,p,_,b){let D;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){Xj(b,_);const x=[];for(const O of b)x.push(Qj(d,r,O));D={arrayValue:{values:x}}}else D=Qj(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||Xj(b,_),D=Hj(l,"where",b,"in"===_||"not-in"===_);const T=cr.create(p,_,D);return function(x,O){if(O.dt()){const se=LO(x);if(null!==se&&!se.isEqual(O.field))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${O.field.toString()}'`);const Fe=FO(x);null!==Fe&&Jj(0,O.field,Fe)}const j=function(se,Fe){for(const Ge of se.filters)if(Fe.indexOf(Ge.op)>=0)return Ge.op;return null}(x,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(null!==j)throw new Ae(ue.INVALID_ARGUMENT,j===O.op?`Invalid query. You cannot use more than one '${O.op.toString()}' filter.`:`Invalid query. You cannot use '${O.op.toString()}' filters with '${j.toString()}' filters.`)}(r,T),T}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Tr(t.firestore,t.converter,function(r,s){const l=r.filters.concat([s]);return new Ec(r.path,r.collectionGroup,r.explicitOrderBy.slice(),l,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class sZ extends Xw{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new y_(r,s);return function(d,p){if(null===FO(d)){const _=LO(d);null!==_&&Jj(0,_,p.field)}}(i,l),l}(t._query,this.wa,this.ya);return new Tr(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ec(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class qj extends Xw{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new Tr(t.firestore,t.converter,fS(t._query,this.pa,this.Ia))}}class Yj extends Xw{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=Kj(t,this.type,this.Ta,this.Ea);return new Tr(t.firestore,t.converter,(r=e,new Ec((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Zj extends Xw{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=Kj(t,this.type,this.Ta,this.Ea);return new Tr(t.firestore,t.converter,(r=e,new Ec((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Kj(n,t,e,i){if(e[0]=(0,q.m9)(e[0]),e[0]instanceof Kw)return function(r,s,l,d,p){if(!d)throw new Ae(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of b_(r))if(b.field.isKeyField())_.push(Wf(s,d.key));else{const D=d.data.field(b.field);if(OO(D))throw new Ae(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const T=b.field.canonicalString();throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}_.push(D)}return new Wu(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=sp(n.firestore);return function(s,l,d,p,_,b){const D=s.explicitOrderBy;if(_.length>D.length)throw new Ae(ue.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let x=0;x<_.length;x++){const O=_[x];if(D[x].field.isKeyField()){if("string"!=typeof O)throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof O}`);if(!VO(s)&&-1!==O.indexOf("/"))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${O}' contains a slash.`);const j=s.path.child(on.fromString(O));if(!ze.isDocumentKey(j))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const se=new ze(j);T.push(Wf(l,se))}else{const j=Hj(d,p,O);T.push(j)}}return new Wu(T,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Qj(n,t,e){if("string"==typeof(e=(0,q.m9)(e))){if(""===e)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VO(t)&&-1!==e.indexOf("/"))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(on.fromString(e));if(!ze.isDocumentKey(i))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wf(n,new ze(i))}if(e instanceof qn)return Wf(n,e._key);throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${VS(e)}.`)}function Xj(n,t){if(!Array.isArray(n)||0===n.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Jj(n,t,e){if(!e.isEqual(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const fZ={maxAttempts:5};class CN{convertValue(t,e="none"){switch(Gf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(zf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw st()}}convertObject(t,e){const i={};return $f(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new US(mi(t.latitude),mi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=cU(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(vw(t));default:return null}}convertTimestamp(t){const e=ju(t);return new Qn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=on.fromString(t);St(lH(i));const r=new $u(i.get(1),i.get(3)),s=new ze(i.popFirst(5));return r.isEqual(e)||yi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function WS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class pZ extends CN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ll(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qn(this.firestore,null,e)}}class e${constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sp(t)}set(t,e,i){this._verifyNotCommitted();const r=td(t,this._firestore),s=WS(r.converter,e,i),l=jS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Xn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=td(t,this._firestore);let l;return l="string"==typeof(e=(0,q.m9)(e))||e instanceof Sc?vN(this._dataReader,"WriteBatch.update",s._key,e,i,r):yN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(l.toMutation(s._key,Xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=td(t,this._firestore);return this._mutations=this._mutations.concat(new D_(e._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function td(n,t){if((n=(0,q.m9)(n)).firestore!==t)throw new Ae(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lp extends CN{constructor(t){super(),this.firestore=t}convertBytes(t){return new ll(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qn(this.firestore,null,e)}}function t$(n,t,e){n=tn(n,qn);const i=tn(n.firestore,Jn),r=WS(n.converter,t,e);return B_(i,[jS(sp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Xn.none())])}function n$(n,t,e,...i){n=tn(n,qn);const r=tn(n.firestore,Jn),s=sp(r);let l;return l="string"==typeof(t=(0,q.m9)(t))||t instanceof Sc?vN(s,"updateDoc",n._key,t,e,i):yN(s,"updateDoc",n._key,t),B_(r,[l.toMutation(n._key,Xn.exists(!0))])}function i$(n,...t){var e,i,r;n=(0,q.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||gN(t[l])||(s=t[l],l++);const d={includeMetadataChanges:s.includeMetadataChanges};if(gN(t[l])){const D=t[l];t[l]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,_,b;if(n instanceof qn)_=tn(n.firestore,Jn),b=v_(n._key.path),p={next:D=>{t[l]&&t[l](EN(_,n,D))},error:t[l+1],complete:t[l+2]};else{const D=tn(n,Tr);_=tn(D.firestore,Jn),b=D._query;const T=new lp(_);p={next:x=>{t[l]&&t[l](new Ju(_,T,D,x))},error:t[l+1],complete:t[l+2]},Wj(n._query)}return function(D,T,x,O){const j=new NS(O),se=new NP(T,j,x);return D.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return xP(yield V_(D),se)})),()=>{j.Rc(),D.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return RP(yield V_(D),se)}))}}(Ai(_),b,d,p)}function B_(n,t){return function(e,i){const r=new zi;return e.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function s5(n,t,e){return UP.apply(this,arguments)}(yield fN(e),i,r)})),r.promise}(Ai(n),t)}function EN(n,t,e){const i=e.docs.get(t._key),r=new lp(n);return new Tc(n,r,t._key,i,new ap(e.hasPendingWrites,e.fromCache),t.converter)}class DZ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=sp(t)}get(t){const e=td(t,this._firestore),i=new pZ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return st();const s=r[0];if(s.isFoundDocument())return new Kw(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Kw(this._firestore,i,e._key,null,e.converter);throw st()})}set(t,e,i){const r=td(t,this._firestore),s=WS(r.converter,e,i),l=jS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const s=td(t,this._firestore);let l;return l="string"==typeof(e=(0,q.m9)(e))||e instanceof Sc?vN(this._dataReader,"Transaction.update",s._key,e,i,r):yN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,l),this}delete(t){const e=td(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=td(t,this._firestore),i=new lp(this._firestore);return super.get(t).then(r=>new Tc(this._firestore,i,e._key,r._document,new ap(!1,!1),e.converter))}}function DN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function s$(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function o$(){if(!function qY(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){p_=Rt.SDK_VERSION,(0,Rt._registerComponent)(new Vr.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),l=new Jn(new NY(e.getProvider("auth-internal")),new VY(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(K2,"3.4.15",n),(0,Rt.registerVersion)(K2,"3.4.15","esm2017")}();class Jw{constructor(t){this._delegate=t}static fromBase64String(t){return o$(),new Jw(ll.fromBase64String(t))}static fromUint8Array(t){return s$(),new Jw(ll.fromUint8Array(t))}toBase64(){return o$(),this._delegate.toBase64()}toUint8Array(){return s$(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IN(n){return function OZ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class PZ{enableIndexedDbPersistence(t,e){return function U5(n,t){Lj(n=tn(n,Jn));const e=Ai(n),i=n._freezeSettings(),r=new aN;return Fj(e,r,new yj(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function H5(n){Lj(n=tn(n,Jn));const t=Ai(n),e=n._freezeSettings(),i=new aN;return Fj(t,i,new w5(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function j5(n){if(n._initialized&&!n._terminated)throw new Ae(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new zi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(e=(0,K.Z)(function*(i){if(!fa.C())return Promise.resolve();const r=i+"main";yield fa.delete(r)}),function(i){return e.apply(this,arguments)})(tP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class a${constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof $u||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Uf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function P5(n,t,e,i={}){var r;const s=(n=tn(n,Yw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Uf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let l,d;if("string"==typeof i.mockUserToken)l=i.mockUserToken,d=$i.MOCK_USER;else{l=(0,q.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ae(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $i(p)}n._authCredentials=new PY(new Q2(l,d))}}(this._delegate,t,e,i)}enableNetwork(){return function z5(n){return function S5(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const t=yield Cj(n),e=yield Ej(n);return t.setNetworkEnabled(!0),function(i){const r=Ze(i);return r._u.delete(0),Ww(r)}(e)}))}(Ai(n=tn(n,Jn)))}(this._delegate)}disableNetwork(){return function G5(n){return function T5(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const t=yield Cj(n),e=yield Ej(n);return t.setNetworkEnabled(!1),(i=(0,K.Z)(function*(r){const s=Ze(r);s._u.add(0),yield k_(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ai(n=tn(n,Jn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,Tj("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $5(n){return function(t){const e=new zi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function c5(n,t){return GP.apply(this,arguments)}(yield fN(t),e)})),e.promise}(Ai(n=tn(n,Jn)))}(this._delegate)}onSnapshotsInSync(t){return function EZ(n,t){return function x5(n,t){const e=new NS(t);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return i=yield V_(n),r=e,Ze(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return i=yield V_(n),r=e,void Ze(i).Ru.delete(r);var i,r}))}}(Ai(n=tn(n,Jn)),gN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new U_(this,Rj(this._delegate,t))}catch(e){throw zr(e,"collection()","Firestore.collection()")}}doc(t){try{return new Co(this,BS(this._delegate,t))}catch(e){throw zr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Gr(this,function N5(n,t){if(n=tn(n,Yw),mN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tr(n,null,(e=t,new Ec(on.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw zr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function IZ(n,t,e){n=tn(n,Jn);const i=Object.assign(Object.assign({},fZ),e);return function(r){if(r.maxAttempts<1)throw new Ae(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function k5(n,t,e){const i=new zi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const r=yield(s=n,FS(s).then(l=>l.datastore));var s;new D5(n.asyncQueue,r,e,t,i).run()})),i.promise}(Ai(n),r=>t(new DZ(n,r)),i)}(this._delegate,e=>t(new l$(this,e)))}batch(){return Ai(this._delegate),new c$(new e$(this._delegate,t=>B_(this._delegate,t)))}loadBundle(t){return function W5(n,t){const e=Ai(n=tn(n,Jn)),i=new L5;return function R5(n,t,e,i){const r=function(s,l){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return vj(p,_);if(p instanceof ArrayBuffer)return vj(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new C5(p,l);var p}(e,Gw(t));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function b5(n,t,e){const i=Ze(n);var r;(r=(0,K.Z)(function*(s,l,d){try{const p=yield l.getMetadata();if(yield function(T,x){const O=Ze(T),j=Gi(x.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",se=>O.Ns.getBundleMetadata(se,x.id)).then(se=>!!se&&se.createTime.compareTo(j)>=0)}(s.localStore,p))return yield l.close(),d._completeWith({taskState:"Success",documentsLoaded:(T=p).totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}),Promise.resolve(new Set);d._updateProgress(lj(p));const _=new X8(p,s.localStore,l.It);let b=yield l.wc();for(;b;){const T=yield _.Ou(b);T&&d._updateProgress(T),b=yield l.wc()}const D=yield _.complete();return yield Ic(s,D.Bu,void 0),yield function(T,x){const O=Ze(T);return O.persistence.runTransaction("Save bundle","readwrite",j=>O.Ns.saveBundleMetadata(j,x))}(s.localStore,p),d._completeWith(D.progress),Promise.resolve(D.$u)}catch(p){return Uf("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var T}),function(s,l,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield fN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function q5(n,t){return function O5(n,t){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(e,i){const r=Ze(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield LS(n),t)}))}(Ai(n=tn(n,Jn)),t).then(e=>e?new Tr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Gr(this,e):null)}}class qS extends CN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jw(new ll(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Co.forKey(e,this.firestore,null)}}class l${constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new qS(t)}get(t){const e=up(t);return this._delegate.get(e).then(i=>new e0(this._firestore,new Tc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=up(t);return i?(DN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=up(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=up(t);return this._delegate.delete(e),this}}class c${constructor(t){this._delegate=t}set(t,e,i){const r=up(t);return i?(DN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=up(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=up(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class cp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Qw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new t0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=cp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new cp(t,new qS(t),e),r.set(e,s)),s}}cp.INSTANCES=new WeakMap;class Co{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Co(e,new qn(e._delegate,i,new ze(t)))}static forKey(t,e,i){return new Co(e,new qn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new U_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new U_(this.firestore,Rj(this._delegate,t))}catch(e){throw zr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,q.m9)(t))instanceof qn&&Oj(this._delegate,t)}set(t,e){e=DN("DocumentReference.set",e);try{return e?t$(this._delegate,t,e):t$(this._delegate,t)}catch(i){throw zr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?n$(this._delegate,t):n$(this._delegate,t,e,...i)}catch(r){throw zr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function wZ(n){return B_(tn(n.firestore,Jn),[new D_(n._key,Xn.none())])}(this._delegate)}onSnapshot(...t){const e=u$(t),i=d$(t,r=>new e0(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return i$(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function gZ(n){n=tn(n,qn);const t=tn(n.firestore,Jn),e=Ai(t),i=new lp(t);return function A5(n,t){const e=new zi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(r,s,l){try{const d=yield function(p,_){const b=Ze(p);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(r,s);d.isFoundDocument()?l.resolve(d):d.isNoDocument()?l.resolve(null):l.reject(new Ae(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=P_(d,`Failed to get document '${s} from cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield LS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Tc(t,i,n._key,r,new ap(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function _Z(n){n=tn(n,qn);const t=tn(n.firestore,Jn);return Dj(Ai(t),n._key,{source:"server"}).then(e=>EN(t,n,e))}(this._delegate):function mZ(n){n=tn(n,qn);const t=tn(n.firestore,Jn);return Dj(Ai(t),n._key).then(e=>EN(t,n,e))}(this._delegate),e.then(i=>new e0(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Co(this.firestore,this._delegate.withConverter(t?cp.getInstance(this.firestore,t):null))}}function zr(n,t,e){return n.message=n.message.replace(t,e),n}function u$(n){for(const t of n)if("object"==typeof t&&!IN(t))return t;return{}}function d$(n,t){var e,i;let r;return r=IN(n[0])?n[0]:IN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class e0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Co(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Gj(this._delegate,t._delegate)}}class t0 extends e0{data(t){const e=this._delegate.data(t);return function RY(n,t){n||st()}(void 0!==e),e}}class Gr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qS(t)}where(t,e,i){try{return new Gr(this.firestore,ed(this._delegate,function rZ(n,t,e){const i=t,r=GS("where",n);return new iZ(r,i,e)}(t,e,i)))}catch(r){throw zr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Gr(this.firestore,ed(this._delegate,function oZ(n,t="asc"){const e=t,i=GS("orderBy",n);return new sZ(i,e)}(t,e)))}catch(i){throw zr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Gr(this.firestore,ed(this._delegate,function aZ(n){return xj("limit",n),new qj("limit",n,"F")}(t)))}catch(e){throw zr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Gr(this.firestore,ed(this._delegate,function lZ(n){return xj("limitToLast",n),new qj("limitToLast",n,"L")}(t)))}catch(e){throw zr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Gr(this.firestore,ed(this._delegate,function cZ(...n){return new Yj("startAt",n,!0)}(...t)))}catch(e){throw zr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Gr(this.firestore,ed(this._delegate,function uZ(...n){return new Yj("startAfter",n,!1)}(...t)))}catch(e){throw zr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Gr(this.firestore,ed(this._delegate,function dZ(...n){return new Zj("endBefore",n,!1)}(...t)))}catch(e){throw zr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Gr(this.firestore,ed(this._delegate,function hZ(...n){return new Zj("endAt",n,!0)}(...t)))}catch(e){throw zr(e,"endAt()","Query.endAt()")}}isEqual(t){return Pj(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function vZ(n){n=tn(n,Tr);const t=tn(n.firestore,Jn),e=Ai(t),i=new lp(t);return function M5(n,t){const e=new zi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(r,s,l){try{const d=yield MS(r,s,!0),p=new dj(s,d.Hi),_=p.ju(d.documents),b=p.applyChanges(_,!1);l.resolve(b.snapshot)}catch(d){const p=P_(d,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield LS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ju(t,i,n,r))}(this._delegate):"server"===t?.source?function bZ(n){n=tn(n,Tr);const t=tn(n.firestore,Jn),e=Ai(t),i=new lp(t);return Ij(e,n._query,{source:"server"}).then(r=>new Ju(t,i,n,r))}(this._delegate):function yZ(n){n=tn(n,Tr);const t=tn(n.firestore,Jn),e=Ai(t),i=new lp(t);return Wj(n._query),Ij(e,n._query).then(r=>new Ju(t,i,n,r))}(this._delegate),e.then(i=>new SN(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=u$(t),i=d$(t,r=>new SN(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return i$(this._delegate,e,i)}withConverter(t){return new Gr(this.firestore,this._delegate.withConverter(t?cp.getInstance(this.firestore,t):null))}}class FZ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new t0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Gr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new t0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new FZ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new t0(this._firestore,i))})}isEqual(t){return Gj(this._delegate,t._delegate)}}class U_ extends Gr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Co(this.firestore,t):null}doc(t){try{return new Co(this.firestore,void 0===t?BS(this._delegate):BS(this._delegate,t))}catch(e){throw zr(e,"doc()","CollectionReference.doc()")}}add(t){return function CZ(n,t){const e=tn(n.firestore,Jn),i=BS(n),r=WS(n.converter,t);return B_(e,[jS(sp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Co(this.firestore,e))}isEqual(t){return Oj(this._delegate,t._delegate)}withConverter(t){return new U_(this.firestore,this._delegate.withConverter(t?cp.getInstance(this.firestore,t):null))}}function up(n){return tn(n,qn)}class TN{constructor(...t){this._delegate=new Sc(...t)}static documentId(){return new TN(fi.keyField().canonicalString())}isEqual(t){return(t=(0,q.m9)(t))instanceof Sc&&this._delegate._internalPath.isEqual(t._internalPath)}}class dp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function TZ(){return new _N("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new dp(t)}static delete(){const t=function SZ(){return new Zw("deleteField")}();return t._methodName="FieldValue.delete",new dp(t)}static arrayUnion(...t){const e=function AZ(...n){return new Q5("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new dp(e)}static arrayRemove(...t){const e=function MZ(...n){return new X5("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new dp(e)}static increment(t){const e=function xZ(n){return new J5("increment",n)}(t);return e._methodName="FieldValue.increment",new dp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const LZ={Firestore:a$,GeoPoint:US,Timestamp:Qn,Blob:Jw,Transaction:l$,WriteBatch:c$,DocumentReference:Co,DocumentSnapshot:e0,Query:Gr,QueryDocumentSnapshot:t0,QuerySnapshot:SN,CollectionReference:U_,FieldPath:TN,FieldValue:dp,setLogLevel:function NZ(n){!function kY(n){Bu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function BZ(n){(function VZ(n,t){n.INTERNAL.registerComponent(new Vr.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},LZ)))})(n,(t,e)=>new a$(t,e,new PZ)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(E6.Z);class UZ extends ft.x{constructor(t=1/0,e=1/0,i=Ev){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(i.push(t),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=i?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)d=p;d&&i.splice(0,d+1)}}}var h$=N(3099);function f$(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,h$.B)({connector:()=>new UZ(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function p$(n,t){return(0,wi.m)(t)?Yn(()=>n,t):Yn(()=>n)}class hp{constructor(t){return t}}class YS{constructor(){return(0,Rt.getApps)()}}const AN=new c.OlP("angularfire2._apps"),jZ={provide:hp,useFactory:function HZ(n){return n&&1===n.length?n[0]:new hp((0,Rt.getApp)())},deps:[[new c.FiY,AN]]},$Z={provide:YS,deps:[[new c.FiY,AN]]};function zZ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new hp(i)}}let GZ=(()=>{class n{constructor(e){(0,Rt.registerVersion)("angularfire",Qb.full,"core"),(0,Rt.registerVersion)("angularfire",Qb.full,"app"),(0,Rt.registerVersion)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[jZ,$Z]}),n})();function WZ(n,...t){return{ngModule:GZ,providers:[{provide:AN,useFactory:zZ(n),multi:!0,deps:[c.R0b,c.zs3,l_,...t]}]}}const qZ=RI(Rt.initializeApp,!0),m$=new Map,YZ={activated:!1,tokenObservers:[]},ZZ={initialized:!1,enabled:!1};function Yi(n){return m$.get(n)||YZ}function pa(n,t){m$.set(n,t)}function ZS(){return ZZ}class eK{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,K.Z)(function*(){e.stop();try{e.pending=new q.BH,yield function tK(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new q.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Wr=new q.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _$(n){if(!Yi(n).activated)throw Wr.create("use-before-activation",{appName:n.name})}function kN(n,t){return RN.apply(this,arguments)}function RN(){return RN=(0,K.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const x=yield l.getHeartbeatsHeader();x&&(s["X-Firebase-Client"]=x)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(x){throw Wr.create("fetch-network-error",{originalErrorMessage:null===(i=x)||void 0===i?void 0:i.message})}if(200!==p.status)throw Wr.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(x){throw Wr.create("fetch-parse-error",{originalErrorMessage:null===(r=x)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const D=1e3*Number(b[1]),T=Date.now();return{token:_.token,expireTimeMillis:T+D,issuedAtTimeMillis:T}}),RN.apply(this,arguments)}function sK(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const n0="firebase-app-check-store";let XS=null;function v$(){return XS||(XS=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Wr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(n0,{keyPath:"compositeKey"})}}catch(i){t(Wr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),XS)}function ON(){return ON=(0,K.Z)(function*(n,t){const i=(yield v$()).transaction(n0,"readwrite"),s=i.objectStore(n0).put({compositeKey:n,value:t});return new Promise((l,d)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var _;d(Wr.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),ON.apply(this,arguments)}const r0=new Br.Yd("@firebase/app-check");function E$(n,t){return(0,q.hl)()?function cK(n,t){return function b$(n,t){return ON.apply(this,arguments)}(function C$(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{r0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function D$(){return ZS().enabled}function I$(){return LN.apply(this,arguments)}function LN(){return LN=(0,K.Z)(function*(){const n=ZS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),LN.apply(this,arguments)}const mK={error:"UNKNOWN_ERROR"};function gK(n){return q.US.encodeString(JSON.stringify(n),!1)}function JS(n){return VN.apply(this,arguments)}function VN(){return VN=(0,K.Z)(function*(n,t=!1){const e=n.app;_$(e);const i=Yi(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&eT(p)&&(r=p)}if(!t&&r&&eT(r))return{token:r.token};let d,l=!1;if(D$()){i.exchangeTokenPromise||(i.exchangeTokenPromise=kN(sK(e,yield I$()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),l=!0);const p=yield i.exchangeTokenPromise;return yield E$(e,p),pa(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),l=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?r0.warn(p.message):r0.error(p),s=p}return r?(d={token:r.token},pa(e,Object.assign(Object.assign({},i),{token:r})),yield E$(e,r)):d=yK(s),l&&T$(e,d),d}),VN.apply(this,arguments)}function UN(n,t){const e=Yi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),pa(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function S$(n){const{app:t}=n,e=Yi(t);let i=e.tokenRefresher;i||(i=function _K(n){const{app:t}=n;return new eK((0,K.Z)(function*(){let i;if(i=Yi(t).token?yield JS(n,!0):yield JS(n),i.error)throw i.error}),()=>!0,()=>{const e=Yi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),pa(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function T$(n,t){const e=Yi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function eT(n){return n.expireTimeMillis-Date.now()>0}function yK(n){return{token:gK(mK),error:n}}class vK{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Yi(this.app);for(const e of t)UN(this.app,e.next);return Promise.resolve()}}const N$="app-check-internal";!function OK(){(0,Rt._registerComponent)(new Vr.wA("app-check",n=>function bK(n,t){return new vK(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(N$).initialize()})),(0,Rt._registerComponent)(new Vr.wA(N$,n=>function wK(n){return{getToken:t=>JS(n,t),addTokenListener:t=>function BN(n,t,e,i){const{app:r}=n,s=Yi(r),l={next:e,error:i,type:t};if(pa(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&eT(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),S$(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>S$(n))}(n,"INTERNAL",t),removeTokenListener:t=>UN(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rt.registerVersion)("@firebase/app-check","0.5.12")}();class H_{constructor(){return kI("app-check")}}typeof window<"u"&&window,N(127);const L$=new c.OlP("angularfire2.auth.use-emulator"),V$=new c.OlP("angularfire2.auth.settings"),B$=new c.OlP("angularfire2.auth.tenant-id"),U$=new c.OlP("angularfire2.auth.langugage-code"),H$=new c.OlP("angularfire2.auth.use-device-language"),j$=new c.OlP("angularfire.auth.persistence"),$$=(n,t,e,i,r,s,l,d)=>(0,ha.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,s,l,d]);let z$=(()=>{class n{constructor(e,i,r,s,l,d,p,_,b,D,T,x){const O=new ft.x,j=We(void 0).pipe((0,o_.Q)(l.outsideAngular),Yn(()=>s.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,Ye.U)(()=>(0,ha.on)(e,s,i)),(0,Ye.U)(se=>$$(se,s,d,_,b,D,p,T)),f$({bufferSize:1,refCount:!1}));if(wl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=We(null);else{j.pipe(Pr()).subscribe();const Fe=j.pipe(Yn(Ke=>Ke.getRedirectResult().then(pt=>pt,()=>null)),Ls,f$({bufferSize:1,refCount:!1})),Ge=j.pipe(Yn(Ke=>new kn.y(pt=>({unsubscribe:s.runOutsideAngular(()=>Ke.onAuthStateChanged(Ct=>pt.next(Ct),Ct=>pt.error(Ct),()=>pt.complete()))})))),it=j.pipe(Yn(Ke=>new kn.y(pt=>({unsubscribe:s.runOutsideAngular(()=>Ke.onIdTokenChanged(Ct=>pt.next(Ct),Ct=>pt.error(Ct),()=>pt.complete()))}))));this.authState=Fe.pipe(p$(Ge),(0,Kb.R)(l.outsideAngular),(0,o_.Q)(l.insideAngular)),this.user=Fe.pipe(p$(it),(0,Kb.R)(l.outsideAngular),(0,o_.Q)(l.insideAngular)),this.idToken=this.user.pipe(Yn(Ke=>Ke?(0,cn.D)(Ke.getIdToken()):We(null))),this.idTokenResult=this.user.pipe(Yn(Ke=>Ke?(0,cn.D)(Ke.getIdTokenResult()):We(null))),this.credential=(0,hs.T)(Fe,O,this.authState.pipe(Jt(Ke=>!Ke))).pipe((0,Ye.U)(Ke=>Ke?.user?Ke:null),(0,Kb.R)(l.outsideAngular),(0,o_.Q)(l.insideAngular))}return(0,ha.pX)(this,j,s,{spy:{apply:(se,Fe,Ge)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Ge.then(it=>O.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ha.Dh),c.LFG(ha.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(l_),c.LFG(L$,8),c.LFG(V$,8),c.LFG(B$,8),c.LFG(U$,8),c.LFG(H$,8),c.LFG(j$,8),c.LFG(H_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function G$(n,t){return function BK(n,t=$a){return new kn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function GN(n,t){return G$(n,t).pipe((0,Ye.U)(e=>({payload:e,type:"query"})))}function nT(n,t){return GN(n,t).pipe(zn(void 0),NR(),(0,Ye.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,d)=>{const p=r.find(b=>b.doc.ref.isEqual(l.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:l}})}),s}))}function W$(n,t,e){return nT(n,e).pipe(Ma((i,r)=>function HK(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function jK(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return WN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return WN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return WN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),zh(),(0,Ye.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function WN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function q$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Y${constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=nT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ye.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(zn(void 0),NR(),Jt(([i,r])=>r.length>0||!i),(0,Ye.U)(([i,r])=>r),Ls)}auditTrail(t){return this.stateChanges(t).pipe(Ma((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=q$(t);return W$(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ls)}valueChanges(t={}){return GN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Ls)}get(t){return(0,cn.D)(this.query.get(t)).pipe(Ls)}add(t){return this.ref.add(t)}doc(t){return new Z$(this.ref.doc(t),this.afs)}}class Z${constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=K$(i,e);return new Y$(r,s,this.afs)}snapshotChanges(){return function UK(n,t){return G$(n,t).pipe(zn(void 0),NR(),(0,Ye.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ls)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ye.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,cn.D)(this.ref.get(t)).pipe(Ls)}}class $K{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Jt(e=>e.length>0),Ls):nT(this.query,this.afs.schedulers.outsideAngular).pipe(Ls)}auditTrail(t){return this.stateChanges(t).pipe(Ma((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=q$(t);return W$(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ls)}valueChanges(t={}){return GN(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Ls)}get(t){return(0,cn.D)(this.query.get(t)).pipe(Ls)}}const zK=new c.OlP("angularfire2.enableFirestorePersistence"),GK=new c.OlP("angularfire2.firestore.persistenceSettings"),WK=new c.OlP("angularfire2.firestore.settings"),qK=new c.OlP("angularfire2.firestore.use-emulator");function K$(n,t=(e=>e)){return{query:t(n),ref:n}}let s0=(()=>{class n{constructor(e,i,r,s,l,d,p,_,b,D,T,x,O,j,se,Fe,Ge){this.schedulers=p;const it=(0,ha.on)(e,d,i),Ke=b;D&&$$(it,d,T,O,j,se,x,Fe),[this.firestore,this.persistenceEnabled$]=(0,ha.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const pt=d.runOutsideAngular(()=>it.firestore());if(s&&pt.settings(s),Ke&&pt.useEmulator(...Ke),r&&!wl(l)){const Ct=()=>{try{return(0,cn.D)(pt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(nn){return typeof console<"u"&&console.warn(nn),We(!1)}};return[pt,d.runOutsideAngular(Ct)]}return[pt,We(!1)]},[s,Ke,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=K$(r,i),d=this.schedulers.ngZone.run(()=>s);return new Y$(d,l,this)}collectionGroup(e,i){const r=i||(l=>l),s=this.firestore.collectionGroup(e);return new $K(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Z$(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ha.Dh),c.LFG(ha.xv,8),c.LFG(zK,8),c.LFG(WK,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(l_),c.LFG(GK,8),c.LFG(qK,8),c.LFG(z$,8),c.LFG(L$,8),c.LFG(V$,8),c.LFG(B$,8),c.LFG(U$,8),c.LFG(H$,8),c.LFG(j$,8),c.LFG(H_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const YK=["mat-button",""],ZK=["*"],QK=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],XK=hc(Jv(iD(class{constructor(n){this._elementRef=n}})));let nd=(()=>{class n extends XK{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of QK)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(la),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(ib,5),2&e){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:YK,ngContentSelectors:ZK,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[ib],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Q$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[cD,Un,Un]}),n})();const JK=["connectionContainer"],e7=["inputContainer"],t7=["label"];function n7(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function i7(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function r7(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function s7(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function o7(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function a7(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.YNc(2,r7,4,1,"ng-container",12),c.YNc(3,s7,1,0,"ng-content",12),c.YNc(4,o7,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function l7(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function c7(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function u7(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function d7(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function h7(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,d7,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const f7=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],p7=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],m7=new c.OlP("MatError"),g7={transitionMessages:Ka("transitionMessages",[Ps("enter",wn({opacity:1,transform:"translateY(0%)"})),Dr("void => enter",[wn({opacity:0,transform:"translateY(-5px)"}),Er("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();const _7=new c.OlP("MatHint");let o0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),y7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const v7=new c.OlP("MatPrefix"),X$=new c.OlP("MatSuffix");let J$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:X$,useExisting:n}])]}),n})(),ez=0;const w7=hc(class{constructor(n){this._elementRef=n}},"primary"),C7=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),YN=new c.OlP("MatFormField");let ZN=(()=>{class n extends w7{constructor(e,i,r,s,l,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=l,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ft.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ez++,this._labelId="mat-form-field-label-"+ez++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Gn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(zn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,hs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(zn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(zn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,sc(this._label.nativeElement,"transitionend").pipe(At(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<b.length;D++)b[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let l=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(b),T=e.children,x=this._getStartEnd(T[0].getBoundingClientRect());let O=0;for(let j=0;j<T.length;j++)O+=T[j].offsetWidth;l=Math.abs(x-D)-5,d=O>0?.75*O+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${l}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ds,8),c.Y36(C7,8),c.Y36(_i),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,qN,5),c.Suo(r,qN,7),c.Suo(r,o0,5),c.Suo(r,o0,7),c.Suo(r,y7,5),c.Suo(r,m7,5),c.Suo(r,_7,5),c.Suo(r,v7,5),c.Suo(r,X$,5)),2&e){let s;c.iGM(s=c.CRH())&&(i._controlNonStatic=s.first),c.iGM(s=c.CRH())&&(i._controlStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(i._placeholderChild=s.first),c.iGM(s=c.CRH())&&(i._errorChildren=s),c.iGM(s=c.CRH())&&(i._hintChildren=s),c.iGM(s=c.CRH())&&(i._prefixChildren=s),c.iGM(s=c.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(c.Gf(JK,7),c.Gf(e7,5),c.Gf(t7,5)),2&e){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:YN,useExisting:n}]),c.qOj],ngContentSelectors:p7,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(c.F$t(f7),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),c.YNc(3,n7,9,0,"ng-container",3),c.YNc(4,i7,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,a7,5,16,"label",8),c.qZA()(),c.YNc(10,l7,2,0,"div",9),c.qZA(),c.YNc(11,c7,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,u7,2,1,"div",12),c.YNc(14,h7,5,2,"div",13),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[_n,Cs,wa,aa],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[g7.transitionMessages]},changeDetection:0}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Lo,Un,Gh,Un]}),n})();const nz=ls({passive:!0});let E7=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return rs.E;const i=yo(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ft.x,l="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,nz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,nz)}}),s}stopMonitoring(e){const i=yo(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_i),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function rz(...n){const t=(0,ns.jO)(n),{args:e,keys:i}=qo(n),r=new kn.y(s=>{const{length:l}=e;if(!l)return void s.complete();const d=new Array(l);let p=l,_=l;for(let b=0;b<l;b++){let D=!1;(0,is.Xf)(e[b]).subscribe((0,Ln.x)(s,T=>{D||(D=!0,_--),d[b]=T},()=>p--,void 0,()=>{(!p||!D)&&(_||s.next(i?Qd(i,d):d),s.complete())}))}});return t?r.pipe(Kd(t)):r}let sz=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),fp=(()=>{class n extends sz{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ma=new c.OlP("NgValueAccessor"),I7={provide:ma,useExisting:(0,c.Gpc)(()=>j_),multi:!0},T7=new c.OlP("CompositionEventMode");let j_=(()=>{class n extends sz{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function S7(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(T7,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([I7]),c.qOj]}),n})();function id(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function az(n){return null!=n&&"number"==typeof n.length}const ur=new c.OlP("NgValidators"),rd=new c.OlP("NgAsyncValidators"),M7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lz{static min(t){return function cz(n){return t=>{if(id(t.value)||id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function uz(n){return t=>{if(id(t.value)||id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function dz(n){return id(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function hz(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function fz(n){return id(n.value)||M7.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function pz(n){return t=>id(t.value)||!az(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function mz(n){return t=>az(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function gz(n){if(!n)return iT;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(id(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Cz(t)}static composeAsync(t){return Ez(t)}}function iT(n){return null}function _z(n){return null!=n}function yz(n){return(0,c.QGY)(n)?(0,cn.D)(n):n}function vz(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function bz(n,t){return t.map(e=>e(n))}function wz(n){return n.map(t=>function x7(n){return!n.validate}(t)?t:e=>t.validate(e))}function Cz(n){if(!n)return null;const t=n.filter(_z);return 0==t.length?null:function(e){return vz(bz(e,t))}}function QN(n){return null!=n?Cz(wz(n)):null}function Ez(n){if(!n)return null;const t=n.filter(_z);return 0==t.length?null:function(e){return rz(bz(e,t).map(yz)).pipe((0,Ye.U)(vz))}}function XN(n){return null!=n?Ez(wz(n)):null}function Dz(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Iz(n){return n._rawValidators}function Sz(n){return n._rawAsyncValidators}function JN(n){return n?Array.isArray(n)?n:[n]:[]}function rT(n,t){return Array.isArray(n)?n.includes(t):n===t}function Tz(n,t){const e=JN(t);return JN(n).forEach(r=>{rT(e,r)||e.push(r)}),e}function Az(n,t){return JN(t).filter(e=>!rT(n,e))}class Mz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=QN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=XN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class qr extends Mz{get formDirective(){return null}get path(){return null}}class Ac extends Mz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let sT=(()=>{class n extends class xz{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ac,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})();const a0="VALID",aT="INVALID",$_="PENDING",l0="DISABLED";function r1(n){return(lT(n)?n.validators:n)||null}function Rz(n){return Array.isArray(n)?QN(n):n||null}function s1(n,t){return(lT(t)?t.asyncValidators:n)||null}function Oz(n){return Array.isArray(n)?XN(n):n||null}function lT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Fz{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Rz(this._rawValidators),this._composedAsyncValidatorFn=Oz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===a0}get invalid(){return this.status===aT}get pending(){return this.status==$_}get disabled(){return this.status===l0}get enabled(){return this.status!==l0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Rz(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Oz(t)}addValidators(t){this.setValidators(Tz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Tz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Az(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Az(t,this._rawAsyncValidators))}hasValidator(t){return rT(this._rawValidators,t)}hasAsyncValidator(t){return rT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=l0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=a0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===a0||this.status===$_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?l0:a0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$_,this._hasOwnPendingAsyncValidator=!0;const e=yz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?l0:this.errors?aT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($_)?$_:this._anyControlsHaveStatus(aT)?aT:a0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class o1 extends Fz{constructor(t,e,i){super(r1(e),s1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Nz(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function Pz(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function c0(n,t){a1(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function U7(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lz(n,t)})}(n,t),function j7(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function H7(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lz(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function B7(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function uT(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),hT(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function dT(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function a1(n,t){const e=Iz(n);null!==t.validator?n.setValidators(Dz(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Sz(n);null!==t.asyncValidator?n.setAsyncValidators(Dz(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();dT(t._rawValidators,r),dT(t._rawAsyncValidators,r)}function hT(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Iz(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Sz(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return dT(t._rawValidators,i),dT(t._rawAsyncValidators,i),e}function Lz(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vz(n,t){a1(n,t)}function Uz(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const q7={provide:qr,useExisting:(0,c.Gpc)(()=>fT)},u0=(()=>Promise.resolve())();let fT=(()=>{class n extends qr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new o1({},QN(e),XN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){u0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),c0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){u0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){u0.then(()=>{const i=this._findContainer(e.path),r=new o1({});Vz(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){u0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){u0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Uz(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ur,10),c.Y36(rd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([q7]),c.qOj]}),n})();function Hz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function jz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $z=class extends Fz{constructor(t=null,e,i){super(r1(e),s1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lT(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=jz(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Hz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Hz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){jz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},K7={provide:Ac,useExisting:(0,c.Gpc)(()=>d0)},Wz=(()=>Promise.resolve())();let d0=(()=>{class n extends Ac{constructor(e,i,r,s,l){super(),this._changeDetectorRef=l,this.control=new $z,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function c1(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===j_?e=s:function G7(n){return Object.getPrototypeOf(n.constructor)===fp}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function l1(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){c0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Wz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);Wz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function cT(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(qr,9),c.Y36(ur,10),c.Y36(rd,10),c.Y36(ma,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([K7]),c.qOj,c.TTD]}),n})(),Yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const i9={provide:qr,useExisting:(0,c.Gpc)(()=>pT)};let pT=(()=>{class n extends qr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return c0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){uT(e.control||null,e,!1),function W7(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Uz(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(uT(i||null,e),(n=>n instanceof $z)(r)&&(c0(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Vz(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function $7(n,t){return hT(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a1(this.form,this),this._oldForm&&hT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ur,10),c.Y36(rd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([i9]),c.qOj,c.TTD]}),n})(),w9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Yz]}),n})(),C9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[w9]}),n})();const f3=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),D9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let I9=0;const S9=cf(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new ft.x}});let m1=(()=>{class n extends S9{constructor(e,i,r,s,l,d,p,_,b,D){super(d,s,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+I9++,this.focused=!1,this.stateChanges=new ft.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>AM().has(O)),this._iOSKeyupListener=O=>{const j=O.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const T=this._elementRef.nativeElement,x=T.nodeName.toLowerCase();this._inputValueAccessor=p||T,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===x,this._isTextarea="textarea"===x,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Gn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lz.required)??!1}set required(e){this._required=Gn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&AM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Gn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){D9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(_i),c.Y36(Ac,10),c.Y36(fT,8),c.Y36(pT,8),c.Y36(nk),c.Y36(f3,10),c.Y36(E7),c.Y36(c.R0b),c.Y36(YN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:qN,useExisting:n}]),c.qOj,c.TTD]}),n})(),T9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[nk],imports:[iz,KN,Un,iz,KN]}),n})();const A9=["primaryValueBar"],M9=hc(class{constructor(n){this._elementRef=n}},"primary"),x9=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function k9(){const n=(0,c.f3M)(de),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),R9=new c.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let O9=0,g1=(()=>{class n extends M9{constructor(e,i,r,s,l,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._animationEndSubscription=Vn.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+O9++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,l&&(l.color&&(this.color=this.defaultColor=l.color),this.mode=l.mode||this.mode)}get value(){return this._value}set value(e){this._value=p3(Dv(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=p3(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=sc(e,"transitionend").pipe(Jt(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.QbO,8),c.Y36(x9,8),c.Y36(R9,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&c.Gf(A9,5),2&e){let r;c.iGM(r=c.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(c.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),c.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),c._UZ(4,"circle",3),c.qZA()(),c._UZ(5,"rect",4),c.qZA(),c.kcU(),c._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),c.qZA()),2&e&&(c.xp6(3),c.Q6J("id",i.progressbarId),c.xp6(2),c.uIk("fill",i._rectangleFillValue),c.xp6(1),c.Q6J("ngStyle",i._bufferTransform()),c.xp6(1),c.Q6J("ngStyle",i._primaryTransform()))},dependencies:[Fc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function p3(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let P9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Lo,Un,Un]}),n})();function N9(n,t){1&n&&c._UZ(0,"mat-progress-bar",11)}let F9=(()=>{class n{constructor(e,i){this.dialogRef=e,this.firestore=i,this.loading=!1}ngOnInit(){}saveUser(){this.firestore.collection("users").doc(this.userId).update(this.user.toJSON()).then(()=>{this.loading=!1,this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pf),c.Y36(s0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dialog-edit-address"]],decls:25,vars:9,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"full-width"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"mr-16"],["appearance","outline"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,N9,1,0,"mat-progress-bar",1),c.TgZ(2,"h1",2),c._uU(3,"Edit Address"),c.qZA(),c.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"Street + House No."),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(s){return i.user.street=s}),c.qZA()()(),c.TgZ(10,"div")(11,"mat-form-field",6)(12,"mat-label"),c._uU(13,"Zip code"),c.qZA(),c.TgZ(14,"input",5),c.NdJ("ngModelChange",function(s){return i.user.zipCode=s}),c.qZA()(),c.TgZ(15,"mat-form-field",7)(16,"mat-label"),c._uU(17,"City"),c.qZA(),c.TgZ(18,"input",5),c.NdJ("ngModelChange",function(s){return i.user.city=s}),c.qZA()()(),c.TgZ(19,"div")(20,"div",8)(21,"button",9),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(22,"Cancel"),c.qZA(),c.TgZ(23,"button",10),c.NdJ("click",function(){return i.saveUser()}),c._uU(24,"Safe"),c.qZA()()()()()),2&e&&(c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(8),c.Q6J("disabled",i.loading)("ngModel",i.user.street),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.zipCode),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.city),c.xp6(3),c.Q6J("disabled",i.loading),c.xp6(2),c.Q6J("disabled",i.loading))},dependencies:[_n,nd,yg,vg,bg,ZN,o0,m1,j_,sT,d0,g1],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:unset!important}"]}),n})();const L9=["mat-calendar-body",""];function V9(n,t){if(1&n&&(c.TgZ(0,"tr",2)(1,"td",3),c._uU(2),c.qZA()()),2&n){const e=c.oxw();c.xp6(1),c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e.numCols),c.xp6(1),c.hij(" ",e.label," ")}}function B9(n,t){if(1&n&&(c.TgZ(0,"td",3),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e._firstRowOffset),c.xp6(1),c.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function U9(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"td",7)(1,"button",8),c.NdJ("click",function(r){const l=c.CHM(e).$implicit,d=c.oxw(2);return c.KtG(d._cellClicked(l,r))})("focus",function(r){const l=c.CHM(e).$implicit,d=c.oxw(2);return c.KtG(d._emitActiveDateChange(l,r))}),c.TgZ(2,"div",9),c._uU(3),c.qZA(),c._UZ(4,"div",10),c.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw().index,s=c.oxw();c.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),c.uIk("data-mat-row",r)("data-mat-col",i),c.xp6(1),c.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),c.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),c.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),c.xp6(1),c.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),c.xp6(1),c.hij(" ",e.displayValue," ")}}function H9(n,t){if(1&n&&(c.TgZ(0,"tr",4),c.YNc(1,B9,2,6,"td",5),c.YNc(2,U9,5,47,"td",6),c.qZA()),2&n){const e=t.$implicit,i=t.index,r=c.oxw();c.xp6(1),c.Q6J("ngIf",0===i&&r._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",e)}}function j9(n,t){if(1&n&&(c.TgZ(0,"th",5)(1,"span",6),c._uU(2),c.qZA(),c.TgZ(3,"span",7),c._uU(4),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e.long),c.xp6(2),c.Oqu(e.narrow)}}const $9=["*"];function z9(n,t){}function G9(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s.activeDate=r)})("_userSelection",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._dateSelected(r))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function W9(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s.activeDate=r)})("monthSelected",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._goToDateInView(r,"month"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function q9(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s.activeDate=r)})("yearSelected",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._goToDateInView(r,"year"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Y9(n,t){}const Z9=["button"];function K9(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const Q9=[[["","matDatepickerToggleIcon",""]]],X9=["[matDatepickerToggleIcon]"];let h0=(()=>{class n{constructor(){this.changes=new ft.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _1{constructor(t,e,i,r,s={},l=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=l,this.rawValue=d}}let z_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this.activeDateChange=new c.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(At(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return y1(e,this.startValue,this.endValue)}_isRangeEnd(e){return v1(e,this.startValue,this.endValue)}_isInRange(e){return b1(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return y1(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const l=this.rows[i-1];s=l&&l[l.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const l=this.rows[i+1];s=l&&l[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return v1(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return b1(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return y1(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return v1(e,this.previewStart,this.previewEnd)}_isInPreview(e){return b1(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(m3(e)?i=e:m3(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:L9,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(c.YNc(0,V9,3,6,"tr",0),c.YNc(1,H9,3,2,"tr",1)),2&e&&(c.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",i.rows))},dependencies:[Xt,kr,_n],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function m3(n){return"TD"===n.nodeName}function y1(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function v1(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function b1(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class vs{constructor(t,e){this.start=t,this.end=e}}let sd=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new ft.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),J9=(()=>{class n extends sd{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ei))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const g3={provide:sd,deps:[[new c.FiY,new c.tp0,sd],Ei],useFactory:function tQ(n,t){return n||new J9(t)}},mT=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let _3=(()=>{class n{constructor(e,i,r,s,l){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=l,this._rerenderSubscription=Vn.w0.EMPTY,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof vs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,l;this._selected instanceof vs?(s=this._getDateInCurrentMonth(this._selected.start),l=this._getDateInCurrentMonth(this._selected.end)):s=l=this._getDateInCurrentMonth(this._selected),(s!==i||l!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Os(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((l,d)=>({long:l,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(l),p=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(l,"month"):void 0;this._weeks[this._weeks.length-1].push(new _1(r+1,i[r],p,d,_,this._getCellCompareValue(l),l))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof vs?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(Ya,8),c.Y36(Ei,8),c.Y36(ds,8),c.Y36(mT,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(z_,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c.YNc(3,j9,5,2,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA()(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngForOf",i._weekdays),c.xp6(3),c.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[kr,z_],encapsulation:2,changeDetection:0}),n})(),y3=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Vn.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),v3(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof vs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-f0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(l=>this._createCellForYear(l))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-f0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-f0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return f0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new _1(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof vs){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(Ei,8),c.Y36(ds,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(z_,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[z_],encapsulation:2,changeDetection:0}),n})();function v3(n,t,e,i,r){const s=n.getYear(t),l=n.getYear(e),d=b3(n,i,r);return Math.floor((s-d)/24)===Math.floor((l-d)/24)}function f0(n,t,e,i){return function sQ(n,t){return(n%t+t)%t}(n.getYear(t)-b3(n,e,i),24)}function b3(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let w3=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Vn.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof vs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),l=this.dateClass?this.dateClass(r,"year"):void 0;return new _1(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),l)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof vs?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(Ya,8),c.Y36(Ei,8),c.Y36(ds,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(z_,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[z_],encapsulation:2,changeDetection:0}),n})(),oQ=0,aQ=(()=>{class n{constructor(e,i,r,s,l){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+oQ++,this.calendar.stateChanges.subscribe(()=>l.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-f0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),l=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,l)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):v3(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(h0),c.Y36((0,c.Gpc)(()=>gT)),c.Y36(Ei,8),c.Y36(Ya,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:$9,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.currentPeriodClicked()}),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"polygon",4),c.qZA()(),c.kcU(),c._UZ(7,"div",5),c.Hsn(8),c.TgZ(9,"button",6),c.NdJ("click",function(){return i.previousClicked()}),c.qZA(),c.TgZ(10,"button",7),c.NdJ("click",function(){return i.nextClicked()}),c.qZA()()()),2&e&&(c.xp6(2),c.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),c.xp6(1),c.uIk("id",i._buttonDescriptionId),c.xp6(1),c.Oqu(i.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==i.calendar.currentView),c.xp6(4),c.Q6J("disabled",!i.previousEnabled()),c.uIk("aria-label",i.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!i.nextEnabled()),c.uIk("aria-label",i.nextButtonLabel))},dependencies:[nd],encapsulation:2,changeDetection:0}),n})(),gT=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this.stateChanges=new ft.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof vs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new xu(this.headerComponent||aQ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof vs||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(h0),c.Y36(Ei,8),c.Y36(Ya,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(c.Gf(_3,5),c.Gf(w3,5),c.Gf(y3,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.monthView=r.first),c.iGM(r=c.CRH())&&(i.yearView=r.first),c.iGM(r=c.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[c._Bn([g3]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(c.YNc(0,z9,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,G9,1,8,"mat-month-view",2),c.YNc(3,W9,1,6,"mat-year-view",3),c.YNc(4,q9,1,6,"mat-multi-year-view",4),c.qZA()),2&e&&(c.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",i.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},dependencies:[Cs,wa,vx,lc,_3,w3,y3],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const C3={transformPanel:Ka("transformPanel",[Dr("void => enter-dropdown",Er("120ms cubic-bezier(0, 0, 0.2, 1)",rb([wn({opacity:0,transform:"scale(1, 0.8)"}),wn({opacity:1,transform:"scale(1, 1)"})]))),Dr("void => enter-dialog",Er("150ms cubic-bezier(0, 0, 0.2, 1)",rb([wn({opacity:0,transform:"scale(0.7)"}),wn({transform:"none",opacity:1})]))),Dr("* => void",Er("100ms linear",wn({opacity:0})))]),fadeInCalendar:Ka("fadeInCalendar",[Ps("void",wn({opacity:0})),Ps("enter",wn({opacity:1})),Dr("void => *",Er("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let lQ=0;const E3=new c.OlP("mat-datepicker-scroll-strategy"),uQ={provide:E3,deps:[Cr],useFactory:function cQ(n){return()=>n.scrollStrategies.reposition()}},dQ=hc(class{constructor(n){this._elementRef=n}});let hQ=(()=>{class n extends dQ{constructor(e,i,r,s,l,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=l,this._subscriptions=new Vn.w0,this._animationDone=new ft.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof vs;if(s&&this._rangeSelectionStrategy){const l=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(l,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(sd),c.Y36(Ei),c.Y36(mT,8),c.Y36(h0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&c.Gf(gT,5),2&e){let r;c.iGM(r=c.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&c.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(c.d8E("@transformPanel",i._animationState),c.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"mat-calendar",1),c.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),c.qZA(),c.YNc(2,Y9,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c._uU(4),c.qZA()()),2&e){let r;c.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),c.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),c.xp6(1),c.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),c.xp6(1),c.Q6J("cdkPortalOutlet",i._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!i._closeButtonFocused),c.Q6J("color",i.color||"primary"),c.xp6(1),c.Oqu(i._closeButtonText)}},dependencies:[Xt,nd,us,lc,gT],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[C3.transformPanel,C3.fadeInCalendar]},changeDetection:0}),n})(),D3=(()=>{class n{constructor(e,i,r,s,l,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=l,this._dir=d,this._model=p,this._inputStateChanges=Vn.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+lQ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ft.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Gn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Gn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Gn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function mE(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Gn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof qE&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Oh(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(At(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new xu(hQ,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new ug({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const l=s.keyCode;(38===l||40===l||37===l||39===l||33===l||34===l)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(At(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",l="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:l,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:l},{originX:r,originY:l,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:l}])}_getCloseStream(e){return(0,hs.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Jt(i=>27===i.keyCode&&!Os(i)||this.datepickerInput&&Os(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Cr),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(E3),c.Y36(Ei,8),c.Y36(ds,8),c.Y36(sd))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),I3=(()=>{class n extends D3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([g3,{provide:D3,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class _T{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let fQ=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new ft.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Vn.w0.EMPTY,this._localeSubscription=Vn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!l||this._matchesFilter(l)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!l||this._dateAdapter.compareDate(d,l)<=0?null:{matDatepickerMin:{min:d,actual:l}}},this._maxValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!l||this._dateAdapter.compareDate(d,l)>=0?null:{matDatepickerMax:{max:d,actual:l}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Gn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new _T(this,this._elementRef.nativeElement)),this.dateChange.emit(new _T(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function pQ(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new _T(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new _T(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Ei,8),c.Y36(Ya,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const mQ={provide:ma,useExisting:(0,c.Gpc)(()=>yT),multi:!0},gQ={provide:ur,useExisting:(0,c.Gpc)(()=>yT),multi:!0};let yT=(()=>{class n extends fQ{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Vn.w0.EMPTY,this._validator=lz.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Ei,8),c.Y36(Ya,8),c.Y36(YN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(c.Ikx("disabled",i.disabled),c.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([mQ,gQ,{provide:f3,useExisting:n}]),c.qOj]}),n})(),_Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),S3=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Vn.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Gn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:We(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:We(),r=this.datepicker?(0,hs.T)(this.datepicker.openedStream,this.datepicker.closedStream):We();this._stateChanges.unsubscribe(),this._stateChanges=(0,hs.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(h0),c.Y36(c.sBO),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,_Q,5),2&e){let s;c.iGM(s=c.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&c.Gf(Z9,5),2&e){let r;c.iGM(r=c.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i._open(s)}),2&e&&(c.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:X9,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(c.F$t(Q9),c.TgZ(0,"button",0,1),c.YNc(2,K9,2,0,"svg",2),c.Hsn(3),c.qZA()),2&e&&(c.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),c.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),c.xp6(2),c.Q6J("ngIf",!i._customIcon))},dependencies:[_n,nd],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),yQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[h0,uQ],imports:[Lo,Q$,dc,ef,cc,Un,Fi]}),n})();function vQ(n,t){1&n&&c._UZ(0,"mat-progress-bar",16)}let bQ=(()=>{class n{constructor(e,i){this.dialogRef=e,this.firestore=i,this.loading=!1,this.birthdate=new Date}ngOnInit(){}saveUser(){this.loading=!0,this.firestore.collection("users").doc(this.userId).update(this.user.toJSON()).then(()=>{this.loading=!1,this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pf),c.Y36(s0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dialog-edit-user"]],decls:33,vars:13,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"mr-16"],["matInput","","placeholder","First Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Last Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"full-width"],["matInput","","placeholder","E-Mail",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker1",""],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0),c.YNc(1,vQ,1,0,"mat-progress-bar",1),c.TgZ(2,"h1",2),c._uU(3,"Edit User"),c.qZA(),c.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"First Name"),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(s){return i.user.firstName=s}),c.qZA()(),c.TgZ(10,"mat-form-field",6)(11,"mat-label"),c._uU(12,"Last Name"),c.qZA(),c.TgZ(13,"input",7),c.NdJ("ngModelChange",function(s){return i.user.lastName=s}),c.qZA()()(),c.TgZ(14,"div")(15,"mat-form-field",8)(16,"mat-label"),c._uU(17,"E-Mail"),c.qZA(),c.TgZ(18,"input",9),c.NdJ("ngModelChange",function(s){return i.user.email=s}),c.qZA()()(),c.TgZ(19,"div")(20,"mat-form-field",8)(21,"mat-label"),c._uU(22,"Birth Date"),c.qZA(),c.TgZ(23,"input",10),c.NdJ("ngModelChange",function(s){return i.birthdate=s}),c.qZA(),c._UZ(24,"mat-datepicker-toggle",11)(25,"mat-datepicker",null,12),c.qZA()(),c.TgZ(27,"div")(28,"div",13)(29,"button",14),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(30,"Cancel"),c.qZA(),c.TgZ(31,"button",15),c.NdJ("click",function(){return i.saveUser()}),c._uU(32,"Safe"),c.qZA()()()()()),2&e){const r=c.MAs(26);c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(8),c.Q6J("disabled",i.loading)("ngModel",i.user.firstName),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.lastName),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.email),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.birthdate)("matDatepicker",r),c.xp6(1),c.Q6J("for",r),c.xp6(5),c.Q6J("disabled",i.loading),c.xp6(2),c.Q6J("disabled",i.loading)}},dependencies:[_n,nd,yg,vg,bg,ZN,o0,J$,m1,I3,yT,S3,j_,sT,d0,g1],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:unset!important}"]}),n})();class wQ{}class od{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof od?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new od;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof od?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class CQ{encodeKey(t){return T3(t)}encodeValue(t){return T3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const DQ=/%(\d[a-f0-9])/gi,IQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function T3(n){return encodeURIComponent(n).replace(DQ,(t,e)=>IQ[e]??t)}function vT(n){return`${n}`}class ad{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new CQ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function EQ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(l)||[];p.push(d),e.set(l,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(vT):[vT(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ad({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(vT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(vT(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class SQ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function A3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function M3(n){return typeof Blob<"u"&&n instanceof Blob}function x3(n){return typeof FormData<"u"&&n instanceof FormData}class p0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function TQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new od),this.context||(this.context=new SQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+l}}else this.params=new ad,this.urlWithParams=e}serializeBody(){return null===this.body?null:A3(this.body)||M3(this.body)||x3(this.body)||function AQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ad?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x3(this.body)?null:M3(this.body)?this.body.type||null:A3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ad?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((D,T)=>D.set(T,t.setHeaders[T]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((D,T)=>D.set(T,t.setParams[T]),_)),new p0(e,i,s,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:l})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class E1 extends class MQ{constructor(t,e=200,i="OK"){this.headers=t.headers||new od,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=dr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new E1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function D1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let R3=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof p0)s=e;else{let p,_;p=r.headers instanceof od?r.headers:new od(r.headers),r.params&&(_=r.params instanceof ad?r.params:new ad({fromObject:r.params})),s=new p0(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=We(s).pipe(os(p=>this.handler.handle(p)));if(e instanceof p0||"events"===r.observe)return l;const d=l.pipe(Jt(p=>p instanceof E1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Ye.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Ye.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Ye.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Ye.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ad).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,D1(r,i))}post(e,i,r={}){return this.request("POST",e,D1(r,i))}put(e,i,r={}){return this.request("PUT",e,D1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(wQ))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const kQ=["*"];let bT;function m0(n){return function RQ(){if(void 0===bT&&(bT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(bT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return bT}()?.createHTML(n)||n}function O3(n){return Error(`Unable to find icon with the name "${n}"`)}function P3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function N3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class mp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let wT=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new mp(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw N3(r);const d=m0(l);return this._addSvgIconConfig(e,i,new mp("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new mp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(c.q3G.HTML,i);if(!s)throw N3(i);const l=m0(s);return this._addSvgIconSetConfig(e,new mp("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw P3(e);const r=this._cachedIconsByUrl.get(i);return r?We(CT(r)):this._loadSvgIconFromConfig(new mp(e,null)).pipe(pn(s=>this._cachedIconsByUrl.set(i,s)),(0,Ye.U)(s=>CT(s)))}getNamedSvgIcon(e,i=""){const r=F3(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):ao(O3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?We(CT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ye.U)(i=>CT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?We(r):rz(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(vr(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,l.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),We(null)})))).pipe((0,Ye.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw O3(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(l,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(pn(i=>e.svgText=i),(0,Ye.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?We(null):this._fetchIcon(e).pipe(pn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const d=this._svgElementFromString(m0("<svg></svg>"));return d.appendChild(l),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(m0("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:l,value:d}=r[s];"id"!==l&&i.setAttribute(l,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function OQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!l)throw P3(i);const d=this._inProgressUrlFetches.get(l);if(d)return d;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,Ye.U)(_=>m0(_)),Ul(()=>this._inProgressUrlFetches.delete(l)),(0,h$.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(F3(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return NQ(s)?new mp(s.url,null,s.options):new mp(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(R3,8),c.LFG(io),c.LFG(de,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CT(n){return n.cloneNode(!0)}function F3(n,t){return n+":"+t}function NQ(n){return!(!n.url||!n.options)}const FQ=hc(class{constructor(n){this._elementRef=n}}),LQ=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),VQ=new c.OlP("mat-icon-location",{providedIn:"root",factory:function BQ(){const n=(0,c.f3M)(de),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),L3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],UQ=L3.map(n=>`[${n}]`).join(", "),HQ=/^url\(['"]?#(.*?)['"]?\)$/;let I1=(()=>{class n extends FQ{constructor(e,i,r,s,l,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Vn.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Gn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(UQ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)L3.forEach(l=>{const d=i[s],p=d.getAttribute(l),_=p?p.match(HQ):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:l,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(At(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(wT),c.$8M("aria-hidden"),c.Y36(VQ),c.Y36(c.qLn),c.Y36(LQ,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:kQ,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),jQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Un,Un]}),n})();const $Q=["*",[["mat-card-footer"]]],zQ=["*","mat-card-footer"];let GQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),WQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),S1=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:zQ,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t($Q),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),qQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Un,Un]}),n})();function V3(n,t){return t?e=>so(t.pipe(At(1),function YQ(){return(0,Bn.e)((n,t)=>{n.subscribe((0,Ln.x)(t,Wm.Z))})}()),e.pipe(V3(n))):(0,oi.z)((e,i)=>n(e,i).pipe(At(1),Ra(e)))}function B3(n,t=$a){const e=Vv(n,t);return V3(()=>e)}const ZQ=["mat-menu-item",""];function KQ(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"polygon",3),c.qZA())}const U3=["*"];function QQ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const e=c.oxw();c.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),c.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const ET={transformMenu:Ka("transformMenu",[Ps("void",wn({opacity:0,transform:"scale(0.8)"})),Dr("void => enter",Er("120ms cubic-bezier(0, 0, 0.2, 1)",wn({opacity:1,transform:"scale(1)"}))),Dr("* => void",Er("100ms 25ms linear",wn({opacity:0})))]),fadeInItems:Ka("fadeInItems",[Ps("showing",wn({opacity:1})),Dr("void => *",[wn({opacity:0}),Er("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},XQ=new c.OlP("MatMenuContent"),T1=new c.OlP("MAT_MENU_PANEL"),JQ=iD(Jv(class{}));let DT=(()=>{class n extends JQ{constructor(e,i,r,s,l){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new ft.x,this._focused=new ft.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(de),c.Y36(la),c.Y36(T1,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(c.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),c.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:ZQ,ngContentSelectors:U3,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(c.F$t(),c.Hsn(0),c._UZ(1,"div",0),c.YNc(2,KQ,2,0,"svg",1)),2&e&&(c.xp6(1),c.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),c.xp6(1),c.Q6J("ngIf",i._triggersSubmenu))},dependencies:[_n,ib],encapsulation:2,changeDetection:0}),n})();const H3=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function eX(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let tX=0,g0=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._tabSubscription=Vn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ft.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+tX++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Gn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Gn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new dx(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(zn(this._directDescendantItems),Yn(e=>(0,hs.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(zn(this._directDescendantItems),Yn(i=>(0,hs.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Os(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(At(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(zn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(H3),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,XQ,5),c.Suo(r,DT,5),c.Suo(r,DT,4)),2&e){let s;c.iGM(s=c.CRH())&&(i.lazyContent=s.first),c.iGM(s=c.CRH())&&(i._allItems=s),c.iGM(s=c.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&c.Gf(c.Rgc,5),2&e){let r;c.iGM(r=c.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),nX=(()=>{class n extends g0{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(H3),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:T1,useExisting:n}]),c.qOj],ngContentSelectors:U3,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(c.F$t(),c.YNc(0,QQ,3,6,"ng-template"))},dependencies:[Xt],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ET.transformMenu,ET.fadeInItems]},changeDetection:0}),n})();const j3=new c.OlP("mat-menu-scroll-strategy"),rX={provide:j3,deps:[Cr],useFactory:function iX(n){return()=>n.scrollStrategies.reposition()}},$3=ls({passive:!0});let sX=(()=>{class n{constructor(e,i,r,s,l,d,p,_,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Vn.w0.EMPTY,this._hoverSubscription=Vn.w0.EMPTY,this._menuCloseSubscription=Vn.w0.EMPTY,this._handleTouchStart=D=>{Wa(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof g0?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,$3),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$3),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof g0&&(e._startAnimation(),e._directDescendantItems.changes.pipe(bn(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof g0?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Jt(r=>"void"===r.toState),At(1),bn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new ug({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,l)):e.setPositionClasses(s,l)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[l,d]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,_]=[l,d],[b,D]=[r,s],T=0;if(this.triggersSubmenu()){if(D=r="before"===e.xPosition?"start":"end",s=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const x=this._parentMaterialMenu.items.first;this._parentInnerPadding=x?x._getHostElement().offsetTop:0}T="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===l?"bottom":"top",_="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:b,overlayY:l,offsetY:T},{originX:s,originY:p,overlayX:D,overlayY:l,offsetY:T},{originX:r,originY:_,overlayX:b,overlayY:d,offsetY:-T},{originX:s,originY:_,overlayX:D,overlayY:d,offsetY:-T}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:We(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Jt(l=>l!==this._menuItemInstance),Jt(()=>this._menuOpen)):We();return(0,hs.T)(e,r,s,i)}_handleMousedown(e){Ga(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Jt(e=>e===this._menuItemInstance&&!e.disabled),B3(0,sg)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof g0&&this.menu._isAnimating?this.menu._animationDone.pipe(At(1),B3(0,sg),bn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new ag(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Cr),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(j3),c.Y36(T1,8),c.Y36(DT,10),c.Y36(ds,8),c.Y36(la),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&c.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),oX=(()=>{class n extends sX{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),n})(),aX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[rX],imports:[Lo,Un,cD,dc,Fi,Un]}),n})(),lX=(()=>{class n{constructor(e,i,r){this.route=e,this.firestore=i,this.dialog=r,this.userId="",this.user=new vu}ngOnInit(){this.route.paramMap.subscribe(e=>{this.userId=e.get("id"),console.log("GOT ID",this.userId),this.getUser()})}getUser(){this.firestore.collection("users").doc(this.userId).valueChanges().subscribe(e=>{this.user=new vu(e),console.log("retrivec user",this.user)})}editMenu(){const e=this.dialog.open(F9);e.componentInstance.user=new vu(this.user.toJSON()),e.componentInstance.userId=this.userId}editUserDetail(){const e=this.dialog.open(bQ);e.componentInstance.user=new vu(this.user.toJSON()),e.componentInstance.userId=this.userId}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ho),c.Y36(s0),c.Y36(_g))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-detail"]],decls:27,vars:8,consts:[[1,"user-deatil-header"],["mat-icon-button","",1,"pin-right-upper-corner",3,"matMenuTriggerFor"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["src","./assets/img/profile.png","alt",""],[1,"user-details"],[1,"mt-32"],["addressMenu","matMenu"]],template:function(e,i){if(1&e&&(c.TgZ(0,"mat-card",0)(1,"button",1)(2,"mat-icon"),c._uU(3,"more_vert"),c.qZA()(),c.TgZ(4,"mat-menu",null,2)(6,"button",3),c.NdJ("click",function(){return i.editUserDetail()}),c._uU(7,"Edit"),c.qZA()(),c._UZ(8,"img",4),c.TgZ(9,"div",5)(10,"h2"),c._uU(11),c.qZA(),c._uU(12),c.qZA()(),c.TgZ(13,"mat-card",6)(14,"button",1)(15,"mat-icon"),c._uU(16,"more_vert"),c.qZA()(),c.TgZ(17,"mat-menu",null,7)(19,"button",3),c.NdJ("click",function(){return i.editMenu()}),c._uU(20,"Edit"),c.qZA()(),c.TgZ(21,"mat-card-title"),c._uU(22,"Address"),c.qZA(),c.TgZ(23,"mat-card-content"),c._uU(24),c._UZ(25,"br"),c._uU(26),c.qZA()()),2&e){const r=c.MAs(5),s=c.MAs(18);c.xp6(1),c.Q6J("matMenuTriggerFor",r),c.xp6(10),c.AsE(" ",i.user.firstName," ",i.user.lastName," "),c.xp6(1),c.hij(" ",i.user.email," "),c.xp6(2),c.Q6J("matMenuTriggerFor",s),c.xp6(10),c.hij(" ",i.user.street,""),c.xp6(2),c.AsE(" ",i.user.zipCode," ",i.user.city," ")}},dependencies:[I1,nd,S1,GQ,WQ,nX,DT,oX],styles:[".user-deatil-header[_ngcontent-%COMP%]{min-height:250px;background-color:#ff291b;color:#fff;display:flex;align-items:flex-end}.user-deatil-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:100%;object-fit:cover}.user-details[_ngcontent-%COMP%]{margin-left:32px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;height:100px}.user-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.pin-right-upper-corner[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"]}),n})();function cX(n,t){1&n&&c._UZ(0,"mat-progress-bar",17)}let uX=(()=>{class n{constructor(e,i){this.dialogRef=e,this.firestore=i,this.user=new vu,this.birthdate=new Date,this.loading=!1}ngOnInit(){}saveUser(){this.user.birthdate=this.birthdate.getTime(),console.log("user",this.user),this.loading=!0,this.firestore.collection("users").add(this.user.toJSON()).then(e=>{this.loading=!1,console.log("adding user finished",e),this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pf),c.Y36(s0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dialog-add-user"]],decls:46,vars:19,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"mr-16"],["matInput","","placeholder","First Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Last Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"full-width"],["matInput","","placeholder","E-Mail",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0),c.YNc(1,cX,1,0,"mat-progress-bar",1),c.TgZ(2,"h1",2),c._uU(3,"Add user"),c.qZA(),c.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"First Name"),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(s){return i.user.firstName=s}),c.qZA()(),c.TgZ(10,"mat-form-field",6)(11,"mat-label"),c._uU(12,"Last Name"),c.qZA(),c.TgZ(13,"input",7),c.NdJ("ngModelChange",function(s){return i.user.lastName=s}),c.qZA()()(),c.TgZ(14,"div")(15,"mat-form-field",8)(16,"mat-label"),c._uU(17,"E-Mail"),c.qZA(),c.TgZ(18,"input",9),c.NdJ("ngModelChange",function(s){return i.user.email=s}),c.qZA()()(),c.TgZ(19,"div")(20,"mat-form-field",8)(21,"mat-label"),c._uU(22,"Birth Date"),c.qZA(),c.TgZ(23,"input",10),c.NdJ("ngModelChange",function(s){return i.birthdate=s}),c.qZA(),c._UZ(24,"mat-datepicker-toggle",11)(25,"mat-datepicker",null,12),c.qZA()(),c.TgZ(27,"div")(28,"mat-form-field",8)(29,"mat-label"),c._uU(30,"Street + House No."),c.qZA(),c.TgZ(31,"input",13),c.NdJ("ngModelChange",function(s){return i.user.street=s}),c.qZA()()(),c.TgZ(32,"div")(33,"mat-form-field",4)(34,"mat-label"),c._uU(35,"Zip code"),c.qZA(),c.TgZ(36,"input",13),c.NdJ("ngModelChange",function(s){return i.user.zipCode=s}),c.qZA()(),c.TgZ(37,"mat-form-field",6)(38,"mat-label"),c._uU(39,"City"),c.qZA(),c.TgZ(40,"input",13),c.NdJ("ngModelChange",function(s){return i.user.city=s}),c.qZA()()(),c.TgZ(41,"div",14)(42,"button",15),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(43,"Cancel"),c.qZA(),c.TgZ(44,"button",16),c.NdJ("click",function(){return i.saveUser()}),c._uU(45,"Safe"),c.qZA()()()()),2&e){const r=c.MAs(26);c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(8),c.Q6J("disabled",i.loading)("ngModel",i.user.firstName),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.lastName),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.email),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.birthdate)("matDatepicker",r),c.xp6(1),c.Q6J("for",r),c.xp6(7),c.Q6J("disabled",i.loading)("ngModel",i.user.street),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.zipCode),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.city),c.xp6(2),c.Q6J("disabled",i.loading),c.xp6(2),c.Q6J("disabled",i.loading)}},dependencies:[_n,nd,yg,vg,bg,ZN,o0,J$,m1,I3,yT,S3,j_,sT,d0,g1],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:unset!important}"]}),n})();const dX=["tooltip"],z3="tooltip-panel",G3=ls({passive:!0}),W3=new c.OlP("mat-tooltip-scroll-strategy"),mX={provide:W3,deps:[Cr],useFactory:function pX(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},gX=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function _X(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let yX=(()=>{class n{constructor(e,i,r,s,l,d,p,_,b,D,T,x){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=d,this._ariaDescriber=p,this._focusMonitor=_,this._dir=D,this._defaultOptions=T,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ft.x,this._scrollStrategy=b,this._document=x,T&&(T.position&&(this.position=T.position),T.touchGestures&&(this.touchGestures=T.touchGestures)),D.change.pipe(bn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Gn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Dv(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Dv(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(bn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,G3)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new xu(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(bn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(bn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${z3}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(bn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(bn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(bn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Os(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(At(1),bn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let l;if(l="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",l!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${z3}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,G3)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),vX=(()=>{class n extends yX{constructor(e,i,r,s,l,d,p,_,b,D,T,x){super(e,i,r,s,l,d,p,_,b,D,T,x),this._tooltipComponent=wX}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Cr),c.Y36(c.SBq),c.Y36(og),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(_i),c.Y36(kv),c.Y36(la),c.Y36(W3),c.Y36(ds,8),c.Y36(gX,8),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),bX=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ft.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(i);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n}),n})(),wX=(()=>{class n extends bX{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(_E),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&c.Gf(dX,7),2&e){let r;c.iGM(r=c.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),c.ALo(2,"async"),c._uU(3),c.qZA()),2&e){let r;c.ekj("mat-tooltip-handset",null==(r=c.lcZ(2,4,i._isHandset))?null:r.matches),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message)}},dependencies:[Xt,ly],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),CX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mX],imports:[ef,Lo,dc,Un,Un,Fi]}),n})();const EX=function(n){return[n]};function DX(n,t){if(1&n&&(c.TgZ(0,"tr",3)(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA()()),2&n){const e=t.$implicit;c.Q6J("routerLink",c.VKq(5,EX,"/user/"+e.customIdName)),c.xp6(2),c.AsE("",e.firstName," ",e.lastName,""),c.xp6(2),c.Oqu(e.email),c.xp6(2),c.Oqu(e.city)}}const IX=[{path:"",component:ZC},{path:"dashboard",component:ZC},{path:"user",component:(()=>{class n{constructor(e,i){this.dialog=e,this.firestore=i,this.user=new vu,this.allUsers=[]}ngOnInit(){this.firestore.collection("users").valueChanges({idField:"customIdName"}).subscribe(e=>{console.log("Receive Changes From Firestore",e),this.allUsers=e})}openDialog(){this.dialog.open(uX)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(_g),c.Y36(s0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user"]],decls:13,vars:1,consts:[[1,"user-table"],[3,"routerLink",4,"ngFor","ngForOf"],["mat-fab","","color","primary","matTooltip","Add User",1,"add-user-button",3,"click"],[3,"routerLink"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-card")(1,"table",0)(2,"tr")(3,"th"),c._uU(4,"Name"),c.qZA(),c.TgZ(5,"th"),c._uU(6,"E-mail"),c.qZA(),c.TgZ(7,"th"),c._uU(8,"City"),c.qZA()(),c.YNc(9,DX,7,7,"tr",1),c.qZA()(),c.TgZ(10,"button",2),c.NdJ("click",function(){return i.openDialog()}),c.TgZ(11,"mat-icon"),c._uU(12,"add"),c.qZA()()),2&e&&(c.xp6(9),c.Q6J("ngForOf",i.allUsers))},dependencies:[kr,_u,I1,nd,vX,S1],styles:["mat-card[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.add-user-button[_ngcontent-%COMP%]{position:absolute;right:56px;bottom:56px}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:2px solid rgba(0,0,0,.4);cursor:pointer}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{cursor:unset}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child:hover{background-color:unset}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:0}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:48px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:16px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0000000a}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#0006;font-size:14px;font-weight:500;text-align:start}"]}),n})()},{path:"user/:id",component:lX}];let SX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[WC.forRoot(IX),WC]}),n})();const TX=["*",[["mat-toolbar-row"]]],AX=["*","mat-toolbar-row"],MX=hc(class{constructor(n){this._elementRef=n}});let q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),xX=(()=>{class n extends MX{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(_i),c.Y36(de))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,q3,5),2&e){let s;c.iGM(s=c.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:AX,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(TX),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),kX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Un,Un]}),n})();const Y3=["*"],RX=["content"];function OX(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function PX(n,t){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const NX=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],FX=["mat-drawer","mat-drawer-content","*"],LX={transformDrawer:Ka("transform",[Ps("open, open-instant",wn({transform:"none",visibility:"visible"})),Ps("void",wn({"box-shadow":"none",visibility:"hidden"})),Dr("void => open-instant",Er("0ms")),Dr("void <=> open, open-instant => void",Er("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},VX=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function BX(){return!1}}),Z3=new c.OlP("MAT_DRAWER_CONTAINER");let A1=(()=>{class n extends Uv{constructor(e,i,r,s,l){super(r,s,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Q3)),c.Y36(c.SBq),c.Y36(og),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Uv,useExisting:n}]),c.qOj],ngContentSelectors:Y3,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),K3=(()=>{class n{constructor(e,i,r,s,l,d,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=l,this._interactivityChecker=d,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ft.x,this._animationEnd=new ft.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Jt(b=>b),(0,Ye.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Jt(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Ra(void 0)),this._closedStream=this.openedChange.pipe(Jt(b=>!b),(0,Ye.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Jt(b=>b.fromState!==b.toState&&"void"===b.toState),Ra(void 0)),this._destroyed=new ft.x,this.onPositionChanged=new c.vpe,this._modeChanged=new ft.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{sc(this._elementRef.nativeElement,"keydown").pipe(Jt(b=>27===b.keyCode&&!this.disableClose&&!Os(b)),bn(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(zh((b,D)=>b.fromState===D.fromState&&b.toState===D.toState)).subscribe(b=>{const{fromState:D,toState:T}=b;(0===T.indexOf("open")&&"void"===D||"void"===T&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Gn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Gn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Gn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(At(1)).subscribe(l=>s(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(za),c.Y36(la),c.Y36(_i),c.Y36(c.R0b),c.Y36(Wh),c.Y36(de,8),c.Y36(Z3,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&c.Gf(RX,5),2&e){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&c.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Y3,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Uv],encapsulation:2,data:{animation:[LX.transformDrawer]},changeDetection:0}),n})(),Q3=(()=>{class n{constructor(e,i,r,s,l,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new ft.x,this._doCheckSubject=new ft.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ft.x,e&&e.change.pipe(bn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(bn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Gn(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Gn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(zn(this._allDrawers),bn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(zn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Gm(10),bn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Jt(i=>i.fromState!==i.toState),bn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(bn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(bn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(At(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(bn((0,hs.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ds,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(Hv),c.Y36(VX),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,A1,5),c.Suo(r,K3,5)),2&e){let s;c.iGM(s=c.CRH())&&(i._content=s.first),c.iGM(s=c.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&c.Gf(A1,5),2&e){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:Z3,useExisting:n}])],ngContentSelectors:FX,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(c.F$t(NX),c.YNc(0,OX,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,PX,2,0,"mat-drawer-content",1)),2&e&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[_n,A1],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),UX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Lo,Un,Fi,Fi,Un]}),n})(),HX=(()=>{class n{constructor(){this.title="simple-crm"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:25,vars:1,consts:[["autosize","",1,"mat-drawer-container"],["mode","side",1,"sidenav",3,"opened"],["drawer",""],[1,"logo-container"],["src","./assets/img/crm2.png","alt","",1,"logo"],[1,"menu-items"],["routerLink","/"],["routerLink","/user"],[1,"calender"],[1,"example-sidenav-content"],["color","primary"],[1,"menu-icon",3,"click"],[1,"router-container"]],template:function(e,i){if(1&e){const r=c.EpF();c.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"ul",5)(6,"li",6)(7,"mat-icon"),c._uU(8,"fact_check"),c.qZA(),c._uU(9,"Dashboard "),c.qZA(),c.TgZ(10,"li",7)(11,"mat-icon"),c._uU(12,"perm_identity"),c.qZA(),c._uU(13,"User "),c.qZA()(),c.TgZ(14,"mat-card",8),c._UZ(15,"mat-calendar"),c.qZA()(),c.TgZ(16,"div",9)(17,"mat-toolbar",10)(18,"mat-toolbar-row")(19,"mat-icon",11),c.NdJ("click",function(){c.CHM(r);const l=c.MAs(2);return c.KtG(l.toggle())}),c._uU(20,"menu"),c.qZA(),c.TgZ(21,"span"),c._uU(22,"Simple CRM"),c.qZA()()(),c.TgZ(23,"div",12),c._UZ(24,"router-outlet"),c.qZA()()()}2&e&&(c.xp6(1),c.Q6J("opened",!0))},dependencies:[wC,_u,xX,q3,K3,Q3,I1,gT,S1],styles:[".mat-drawer-container[_ngcontent-%COMP%]{height:100vh}.menu-icon[_ngcontent-%COMP%]{cursor:pointer}.sidenav[_ngcontent-%COMP%]{width:300px}.logo-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.04);padding-left:16px;padding-right:16px;min-height:55px;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%], mat-toolbar-row[_ngcontent-%COMP%]{min-height:56px;height:56px}.menu-items[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;height:48px;display:flex;align-items:center;cursor:pointer}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:16px}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#0000000a}.router-container[_ngcontent-%COMP%]{padding-left:56px;padding-right:56px;padding-top:16px}.logo[_ngcontent-%COMP%]{width:55px;height:55px}.calender[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;padding-left:0;padding-right:0}"]}),n})();function X3(n){return new c.vHH(3e3,!1)}function CJ(){return typeof window<"u"&&typeof window.document<"u"}function M1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ld(n){switch(n.length){case 0:return new hf;case 1:return n[0];default:return new mD(n)}}function J3(n,t,e,i,r=new Map,s=new Map){const l=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const D=b.get("offset"),T=D==p,x=T&&_||new Map;b.forEach((O,j)=>{let se=j,Fe=O;if("offset"!==j)switch(se=t.normalizePropertyName(se,l),Fe){case"!":Fe=r.get(j);break;case wo:Fe=s.get(j);break;default:Fe=t.normalizeStyleValue(j,se,Fe,l)}x.set(se,Fe)}),T||d.push(x),_=x,p=D}),l.length)throw function uJ(n){return new c.vHH(3502,!1)}();return d}function x1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&k1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&k1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&k1(e,"destroy",n)))}}function k1(n,t,e){const s=R1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function R1(n,t,e,i,r="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function js(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function eG(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let O1=(n,t)=>!1,tG=(n,t,e)=>[],nG=null;function P1(n){const t=n.parentNode||n.host;return t===nG?null:t}(M1()||typeof Element<"u")&&(CJ()?(nG=(()=>document.documentElement)(),O1=(n,t)=>{for(;t;){if(t===n)return!0;t=P1(t)}return!1}):O1=(n,t)=>n.contains(t),tG=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let gp=null,iG=!1;const rG=O1,sG=tG;let oG=(()=>{class n{validateStyleProperty(e){return function DJ(n){gp||(gp=function IJ(){return typeof document<"u"?document.body:null}()||{},iG=!!gp.style&&"WebkitAppearance"in gp.style);let t=!0;return gp.style&&!function EJ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in gp.style,!t&&iG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return rG(e,i)}getParentElement(e){return P1(e)}query(e,i,r){return sG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,l,d=[],p){return new hf(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),N1=(()=>{class n{}return n.NOOP=new oG,n})();const F1="ng-enter",IT="ng-leave",ST="ng-trigger",TT=".ng-trigger",lG="ng-animating",L1=".ng-animating";function cd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:V1(parseFloat(t[1]),t[2])}function V1(n,t){return"s"===t?1e3*n:n}function AT(n,t,e){return n.hasOwnProperty("duration")?n:function AJ(n,t,e){let r,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(X3()),{duration:0,delay:0,easing:""};r=V1(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=V1(parseFloat(p),d[4]));const _=d[5];_&&(l=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function jX(){return new c.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function $X(){return new c.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,X3())}return{duration:r,delay:s,easing:l}}(n,t,e)}function _0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function cG(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ud(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function dG(n,t,e){return e?t+":"+e+";":""}function hG(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=dG(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=dG(0,RJ(e),n.style[e]));n.setAttribute("style",t)}function cl(n,t,e){n.style&&(t.forEach((i,r)=>{const s=U1(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),M1()&&hG(n))}function _p(n,t){n.style&&(t.forEach((e,i)=>{const r=U1(i);n.style[r]=""}),M1()&&hG(n))}function y0(n){return Array.isArray(n)?1==n.length?n[0]:hD(n):n}const B1=new RegExp("{{\\s*(.+?)\\s*}}","g");function fG(n){let t=[];if("string"==typeof n){let e;for(;e=B1.exec(n);)t.push(e[1]);B1.lastIndex=0}return t}function MT(n,t,e){const i=n.toString(),r=i.replace(B1,(s,l)=>{let d=t[l];return null==d&&(e.push(function GX(n){return new c.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function xT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const kJ=/-+([a-z0-9])/g;function U1(n){return n.replace(kJ,(...t)=>t[1].toUpperCase())}function RJ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $s(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function WX(n){return new c.vHH(3004,!1)}()}}function pG(n,t){return window.getComputedStyle(n)[t]}function VJ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function BJ(n,t,e){if(":"==n[0]){const p=function UJ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function oJ(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function sJ(n){return new c.vHH(3015,!1)}()),t;const r=i[1],s=i[2],l=i[3];t.push(mG(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&t.push(mG(l,r))}(i,e,t)):e.push(n),e}const PT=new Set(["true","1"]),NT=new Set(["false","0"]);function mG(n,t){const e=PT.has(n)||NT.has(n),i=PT.has(t)||NT.has(t);return(r,s)=>{let l="*"==n||n==r,d="*"==t||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?PT.has(n):NT.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?PT.has(t):NT.has(t)),l&&d}}const HJ=new RegExp("s*:selfs*,?","g");function H1(n,t,e,i){return new jJ(n).build(t,e,i)}class jJ{constructor(t){this._driver=t}build(t,e,i){const r=new GJ(e);return this._resetContextStyleTimingState(r),$s(this,y0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function YX(){return new c.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,l.push(p)}else e.errors.push(function ZX(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{fG(p).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}),s.size&&(xT(s.values()),e.errors.push(function KX(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=$s(this,y0(t.animation),e);return{type:1,matchers:VJ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:yp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>$s(this,i,e)),options:yp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=i;const d=$s(this,l,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:yp(t.options)}}visitAnimate(t,e){const i=function qJ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return j1(AT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=j1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=AT(e,t);return j1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:wn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,d=!1;if(!l){d=!0;const _={};i.easing&&(_.easing=i.easing),l=wn(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===wo?i.push(d):e.errors.push(new c.vHH(3002,!1)):i.push(cG(d));let s=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let D=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function XX(n,t,e,i,r){return new c.vHH(3010,!1)}()),D=!1),s=b.startTime),D&&_.set(p,{startTime:s,endTime:r}),e.options&&function xJ(n,t,e){const i=t.params||{},r=fG(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function zX(n){return new c.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function JX(){return new c.vHH(3011,!1)}()),i;let s=0;const l=[];let d=!1,p=!1,_=0;const b=t.steps.map(Fe=>{const Ge=this._makeStyleAst(Fe,e);let it=null!=Ge.offset?Ge.offset:function WJ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ge.styles),Ke=0;return null!=it&&(s++,Ke=Ge.offset=it),p=p||Ke<0||Ke>1,d=d||Ke<_,_=Ke,l.push(Ke),Ge});p&&e.errors.push(function eJ(){return new c.vHH(3012,!1)}()),d&&e.errors.push(function tJ(){return new c.vHH(3200,!1)}());const D=t.steps.length;let T=0;s>0&&s<D?e.errors.push(function nJ(){return new c.vHH(3202,!1)}()):0==s&&(T=1/(D-1));const x=D-1,O=e.currentTime,j=e.currentAnimateTimings,se=j.duration;return b.forEach((Fe,Ge)=>{const it=T>0?Ge==x?1:T*Ge:l[Ge],Ke=it*se;e.currentTime=O+j.delay+Ke,j.duration=Ke,this._validateStyleAst(Fe,e),Fe.offset=it,i.styles.push(Fe)}),i}visitReference(t,e){return{type:8,animation:$s(this,y0(t.animation),e),options:yp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:yp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:yp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function $J(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(HJ,"")),n=n.replace(/@\*/g,TT).replace(/@\w+/g,e=>TT+"-"+e.slice(1)).replace(/:animating/g,L1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,js(e.collectedStyles,e.currentQuerySelector,new Map);const d=$s(this,y0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:t.selector,options:yp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function iJ(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:AT(t.timings,e.errors,!0);return{type:12,animation:$s(this,y0(t.animation),e),timings:i,options:null}}}class GJ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yp(n){return n?(n=_0(n)).params&&(n.params=function zJ(n){return n?_0(n):null}(n.params)):n={},n}function j1(n,t,e){return{duration:n,delay:t,easing:e}}function $1(n,t,e,i,r,s,l=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:d}}class FT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const KJ=new RegExp(":enter","g"),XJ=new RegExp(":leave","g");function z1(n,t,e,i,r,s=new Map,l=new Map,d,p,_=[]){return(new JJ).buildKeyframes(n,t,e,i,r,s,l,d,p,_)}class JJ{buildKeyframes(t,e,i,r,s,l,d,p,_,b=[]){_=_||new FT;const D=new G1(t,e,_,r,s,b,[]);D.options=p;const T=p.delay?cd(p.delay):0;D.currentTimeline.delayNextStep(T),D.currentTimeline.setStyles([l],null,D.errors,p),$s(this,i,D);const x=D.timelines.filter(O=>O.containsAnimation());if(x.length&&d.size){let O;for(let j=x.length-1;j>=0;j--){const se=x[j];if(se.element===e){O=se;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([d],null,D.errors,p)}return x.length?x.map(O=>O.buildKeyframes()):[$1(e,[],[],[],0,T,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const l=null!=i.duration?cd(i.duration):null,d=null!=i.delay?cd(i.delay):null;return 0!==l&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,l,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),$s(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=LT);const l=cd(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>$s(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?cd(t.options.delay):0;t.steps.forEach(l=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),$s(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return AT(e.params?MT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?cd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=LT);let l=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const D=e.createSubContext(t.options,_);s&&D.delayNextStep(s),_===e.element&&(p=D.currentTimeline),$s(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),d=l*(e.currentQueryTotal-1);let p=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const D=b.currentTime;$s(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const LT={};class G1{constructor(t,e,i,r,s,l,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new VT(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=cd(i.duration)),null!=i.delay&&(r.delay=cd(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!l.hasOwnProperty(d))&&(l[d]=MT(s[d],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new G1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=LT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new eee(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,l){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(KJ,"."+this._enterClassName)).replace(XJ,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&l.push(function rJ(n){return new c.vHH(3014,!1)}()),d}}class VT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new VT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||wo),this._currentKeyframe.set(e,wo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function tee(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,wo)}else ud(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of l){const _=MT(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??wo),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=ud(d,new Map,this._backFill);_.forEach((b,D)=>{"!"===b?t.add(D):b===wo&&e.add(D)}),i||_.set("offset",p/this.duration),r.push(_)});const s=t.size?xT(t.values()):[],l=e.size?xT(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return $1(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class eee extends VT{constructor(t,e,i,r,s,l,d=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=i+e,d=e/l,p=ud(t[0]);p.set("offset",0),s.push(p);const _=ud(t[0]);_.set("offset",yG(d)),s.push(_);const b=t.length-1;for(let D=1;D<=b;D++){let T=ud(t[D]);const x=T.get("offset");T.set("offset",yG((e+x*i)/l)),s.push(T)}i=l,e=0,r="",t=s}return $1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yG(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class W1{}const nee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iee extends W1{normalizePropertyName(t,e){return U1(t)}normalizeStyleValue(t,e,i,r){let s="";const l=i.toString().trim();if(nee.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function qX(n,t){return new c.vHH(3005,!1)}())}return l+s}}function vG(n,t,e,i,r,s,l,d,p,_,b,D,T){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:l,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:D,errors:T}}const q1={};class bG{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function ree(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,l,d,p,_,b){const D=[],T=this.ast.options&&this.ast.options.params||q1,O=this.buildStyles(i,d&&d.params||q1,D),j=p&&p.params||q1,se=this.buildStyles(r,j,D),Fe=new Set,Ge=new Map,it=new Map,Ke="void"===r,pt={params:see(j,T),delay:this.ast.options?.delay},Ct=b?[]:z1(t,e,this.ast.animation,s,l,O,se,pt,_,D);let nn=0;if(Ct.forEach(kc=>{nn=Math.max(kc.duration+kc.delay,nn)}),D.length)return vG(e,this._triggerName,i,r,Ke,O,se,[],[],Ge,it,nn,D);Ct.forEach(kc=>{const Rc=kc.element,Vq=js(Ge,Rc,new Set);kc.preStyleProps.forEach(Mp=>Vq.add(Mp));const W0=js(it,Rc,new Set);kc.postStyleProps.forEach(Mp=>W0.add(Mp)),Rc!==e&&Fe.add(Rc)});const Zr=xT(Fe.values());return vG(e,this._triggerName,i,r,Ke,O,se,Ct,Zr,Ge,it,nn)}}function see(n,t){const e=_0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class oee{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=_0(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,d)=>{l&&(l=MT(l,r,e));const p=this.normalizer.normalizePropertyName(d,e);l=this.normalizer.normalizeStyleValue(d,p,l,e),i.set(p,l)})}),i}}class lee{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new oee(r.style,r.options&&r.options.params||{},i))}),wG(this.states,"true","1"),wG(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new bG(t,r,this.states))}),this.fallbackTransition=function cee(n,t,e){return new bG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wG(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const uee=new FT;class dee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=H1(this._driver,e,i,[]);if(i.length)throw function dJ(n){return new c.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=J3(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let l;const d=new Map;if(s?(l=z1(this._driver,e,s,F1,IT,new Map,new Map,i,uee,r),l.forEach(b=>{const D=js(d,b.element,new Map);b.postStyleProps.forEach(T=>D.set(T,null))})):(r.push(function hJ(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function fJ(n){return new c.vHH(3504,!1)}();d.forEach((b,D)=>{b.forEach((T,x)=>{b.set(x,this._driver.computeStyle(D,x,wo))})});const _=ld(l.map(b=>{const D=d.get(b.element);return this._buildPlayer(b,new Map,D)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function pJ(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=R1(e,"","","");return x1(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const CG="ng-animate-queued",Y1="ng-animate-disabled",gee=[],EG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_ee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed";class Z1{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function wee(n){return n??null}(i?t.value:t),i){const s=_0(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const v0="void",K1=new Z1(v0);class yee{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Do(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function mJ(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function gJ(n){return new c.vHH(3303,!1)}();if(!function Cee(n){return"start"==n||"done"==n}(i))throw function _J(n,t){return new c.vHH(3400,!1)}();const s=js(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};s.push(l);const d=js(this._engine.statesByElement,t,new Map);return d.has(e)||(Do(t,ST),Do(t,ST+"-"+e),d.set(e,K1)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function yJ(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),l=new Q1(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Do(t,ST),Do(t,ST+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new Z1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=K1),_.value!==v0&&p.value===_.value){if(!function Iee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const j=[],se=s.matchStyles(p.value,p.params,j),Fe=s.matchStyles(_.value,_.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{_p(t,se),cl(t,Fe)})}return}const T=js(this._engine.playersByElement,t,[]);T.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let x=s.matchTransition(p.value,_.value,t,_.params),O=!1;if(!x){if(!r)return;x=s.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:x,fromState:p,toState:_,player:l,isFallbackTransition:O}),O||(Do(t,CG),l.onStart(()=>{G_(t,CG)})),l.onDone(()=>{let j=this.players.indexOf(l);j>=0&&this.players.splice(j,1);const se=this._engine.playersByElement.get(t);if(se){let Fe=se.indexOf(l);Fe>=0&&se.splice(Fe,1)}}),this.players.push(l),T.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,TT,!0);i.forEach(r=>{if(r[Eo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(l.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,v0,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&ld(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,_=i.get(l)||K1,b=new Z1(v0),D=new Q1(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:p,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Eo];(!s||s===EG)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Do(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==i.triggerName){const p=R1(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,x1(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class vee{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new yee(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(BT(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!BT(e))return;const s=e[Eo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Do(t,Y1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),G_(t,Y1))}removeNode(t,e,i,r){if(BT(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Eo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return BT(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,TT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,L1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ld(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Eo];if(e&&e.setForRemoval){if(t[Eo]=EG,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Y1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Do(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ld(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function vJ(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new FT,r=[],s=new Map,l=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(at=>{b.add(at);const bt=this.driver.query(at,".ng-animate-queued",!0);for(let It=0;It<bt.length;It++)b.add(bt[It])});const D=this.bodyNode,T=Array.from(this.statesByElement.keys()),x=SG(T,this.collectedEnterElements),O=new Map;let j=0;x.forEach((at,bt)=>{const It=F1+j++;O.set(bt,It),at.forEach(un=>Do(un,It))});const se=[],Fe=new Set,Ge=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const bt=this.collectedLeaveElements[at],It=bt[Eo];It&&It.setForRemoval&&(se.push(bt),Fe.add(bt),It.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(un=>Fe.add(un)):Ge.add(bt))}const it=new Map,Ke=SG(T,Array.from(Fe));Ke.forEach((at,bt)=>{const It=IT+j++;it.set(bt,It),at.forEach(un=>Do(un,It))}),t.push(()=>{x.forEach((at,bt)=>{const It=O.get(bt);at.forEach(un=>G_(un,It))}),Ke.forEach((at,bt)=>{const It=it.get(bt);at.forEach(un=>G_(un,It))}),se.forEach(at=>{this.processLeaveNode(at)})});const pt=[],Ct=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(e).forEach(It=>{const un=It.player,Qi=It.element;if(pt.push(un),this.collectedEnterElements.length){const Mr=Qi[Eo];if(Mr&&Mr.setForMove){if(Mr.previousTriggersValues&&Mr.previousTriggersValues.has(It.triggerName)){const xp=Mr.previousTriggersValues.get(It.triggerName),To=this.statesByElement.get(It.element);if(To&&To.has(It.triggerName)){const EA=To.get(It.triggerName);EA.value=xp,To.set(It.triggerName,EA)}}return void un.destroy()}}const ml=!D||!this.driver.containsElement(D,Qi),Ws=it.get(Qi),bd=O.get(Qi),ci=this._buildInstruction(It,i,bd,Ws,ml);if(ci.errors&&ci.errors.length)return void Ct.push(ci);if(ml)return un.onStart(()=>_p(Qi,ci.fromStyles)),un.onDestroy(()=>cl(Qi,ci.toStyles)),void r.push(un);if(It.isFallbackTransition)return un.onStart(()=>_p(Qi,ci.fromStyles)),un.onDestroy(()=>cl(Qi,ci.toStyles)),void r.push(un);const Hq=[];ci.timelines.forEach(Mr=>{Mr.stretchStartingKeyframe=!0,this.disabledNodes.has(Mr.element)||Hq.push(Mr)}),ci.timelines=Hq,i.append(Qi,ci.timelines),l.push({instruction:ci,player:un,element:Qi}),ci.queriedElements.forEach(Mr=>js(d,Mr,[]).push(un)),ci.preStyleProps.forEach((Mr,xp)=>{if(Mr.size){let To=p.get(xp);To||p.set(xp,To=new Set),Mr.forEach((EA,yL)=>To.add(yL))}}),ci.postStyleProps.forEach((Mr,xp)=>{let To=_.get(xp);To||_.set(xp,To=new Set),Mr.forEach((EA,yL)=>To.add(yL))})});if(Ct.length){const at=[];Ct.forEach(bt=>{at.push(function bJ(n,t){return new c.vHH(3505,!1)}())}),pt.forEach(bt=>bt.destroy()),this.reportError(at)}const nn=new Map,Zr=new Map;l.forEach(at=>{const bt=at.element;i.has(bt)&&(Zr.set(bt,bt),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,nn))}),r.forEach(at=>{const bt=at.element;this._getPreviousPlayers(bt,!1,at.namespaceId,at.triggerName,null).forEach(un=>{js(nn,bt,[]).push(un),un.destroy()})});const kc=se.filter(at=>AG(at,p,_)),Rc=new Map;IG(Rc,this.driver,Ge,_,wo).forEach(at=>{AG(at,p,_)&&kc.push(at)});const W0=new Map;x.forEach((at,bt)=>{IG(W0,this.driver,new Set(at),p,"!")}),kc.forEach(at=>{const bt=Rc.get(at),It=W0.get(at);Rc.set(at,new Map([...Array.from(bt?.entries()??[]),...Array.from(It?.entries()??[])]))});const Mp=[],Bq=[],Uq={};l.forEach(at=>{const{element:bt,player:It,instruction:un}=at;if(i.has(bt)){if(b.has(bt))return It.onDestroy(()=>cl(bt,un.toStyles)),It.disabled=!0,It.overrideTotalTime(un.totalTime),void r.push(It);let Qi=Uq;if(Zr.size>1){let Ws=bt;const bd=[];for(;Ws=Ws.parentNode;){const ci=Zr.get(Ws);if(ci){Qi=ci;break}bd.push(Ws)}bd.forEach(ci=>Zr.set(ci,Qi))}const ml=this._buildAnimation(It.namespaceId,un,nn,s,W0,Rc);if(It.setRealPlayer(ml),Qi===Uq)Mp.push(It);else{const Ws=this.playersByElement.get(Qi);Ws&&Ws.length&&(It.parentPlayer=ld(Ws)),r.push(It)}}else _p(bt,un.fromStyles),It.onDestroy(()=>cl(bt,un.toStyles)),Bq.push(It),b.has(bt)&&r.push(It)}),Bq.forEach(at=>{const bt=s.get(at.element);if(bt&&bt.length){const It=ld(bt);at.setRealPlayer(It)}}),r.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<se.length;at++){const bt=se[at],It=bt[Eo];if(G_(bt,IT),It&&It.hasAnimation)continue;let un=[];if(d.size){let ml=d.get(bt);ml&&ml.length&&un.push(...ml);let Ws=this.driver.query(bt,L1,!0);for(let bd=0;bd<Ws.length;bd++){let ci=d.get(Ws[bd]);ci&&ci.length&&un.push(...ci)}}const Qi=un.filter(ml=>!ml.destroyed);Qi.length?Eee(this,bt,Qi):this.processLeaveNode(bt)}return se.length=0,Mp.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const bt=this.players.indexOf(at);this.players.splice(bt,1)}),at.play()}),Mp}elementContainsData(t,e){let i=!1;const r=e[Eo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let l=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(l=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==v0;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(t,e,i){const s=e.element,l=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,D=js(i,_,[]);this._getPreviousPlayers(_,b,l,d,e.toState).forEach(x=>{const O=x.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),x.destroy(),D.push(x)})}_p(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,l){const d=e.triggerName,p=e.element,_=[],b=new Set,D=new Set,T=e.timelines.map(O=>{const j=O.element;b.add(j);const se=j[Eo];if(se&&se.removedBeforeQueried)return new hf(O.duration,O.delay);const Fe=j!==p,Ge=function Dee(n){const t=[];return TG(n,t),t}((i.get(j)||gee).map(nn=>nn.getRealPlayer())).filter(nn=>!!nn.element&&nn.element===j),it=s.get(j),Ke=l.get(j),pt=J3(0,this._normalizer,0,O.keyframes,it,Ke),Ct=this._buildPlayer(O,pt,Ge);if(O.subTimeline&&r&&D.add(j),Fe){const nn=new Q1(t,d,j);nn.setRealPlayer(Ct),_.push(nn)}return Ct});_.forEach(O=>{js(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function bee(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,O.element,O))}),b.forEach(O=>Do(O,lG));const x=ld(T);return x.onDestroy(()=>{b.forEach(O=>G_(O,lG)),cl(p,e.toStyles)}),D.forEach(O=>{js(r,O,[]).push(x)}),x}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hf(t.duration,t.delay)}}class Q1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>x1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){js(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function BT(n){return n&&1===n.nodeType}function DG(n,t){const e=n.style.display;return n.style.display=t??"none",e}function IG(n,t,e,i,r){const s=[];e.forEach(p=>s.push(DG(p)));const l=[];i.forEach((p,_)=>{const b=new Map;p.forEach(D=>{const T=t.computeStyle(_,D,r);b.set(D,T),(!T||0==T.length)&&(_[Eo]=_ee,l.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>DG(p,s[d++])),l}function SG(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:l(_),s.set(d,p),p}return t.forEach(d=>{const p=l(d);1!==p&&e.get(p).push(d)}),e}function Do(n,t){n.classList?.add(t)}function G_(n,t){n.classList?.remove(t)}function Eee(n,t,e){ld(e).onDone(()=>n.processLeaveNode(t))}function TG(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof mD?TG(i.players,t):t.push(i)}}function AG(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class UT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new vee(t,e,i),this._timelineEngine=new dee(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const l=t+"-"+r;let d=this._triggerCache[l];if(!d){const p=[],b=H1(this._driver,s,p,[]);if(p.length)throw function cJ(n,t){return new c.vHH(3404,!1)}();d=function aee(n,t,e){return new lee(n,t,e)}(r,b,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,l]=eG(i);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[l,d]=eG(i);return this._timelineEngine.listen(l,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Tee=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&cl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cl(this._element,this._initialStyles),this._endStyles&&(cl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_p(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_p(this._element,this._endStyles),this._endStyles=null),cl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function X1(n){let t=null;return n.forEach((e,i)=>{(function Aee(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class MG{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:pG(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Mee{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return rG(t,e)}getParentElement(t){return P1(t)}query(t,e,i){return sG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=l.filter(x=>x instanceof MG);(function OJ(n,t){return 0===n||0===t})(i,r)&&b.forEach(x=>{x.currentSnapshot.forEach((O,j)=>_.set(j,O))});let D=function MJ(n){return n.length?n[0]instanceof Map?n:n.map(t=>cG(t)):[]}(e).map(x=>ud(x));D=function PJ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(d=>l.set(d,pG(n,d)))}}return t}(t,D,_);const T=function See(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=X1(t[0]),t.length>1&&(i=X1(t[t.length-1]))):t instanceof Map&&(e=X1(t)),e||i?new Tee(n,e,i):null}(t,D);return new MG(t,D,p,T)}}let xee=(()=>{class n extends mg{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?hD(e):e;return xG(this._renderer,null,i,"register",[r]),new kee(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class kee extends class hk{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ree(this._id,t,e||{},this._renderer)}}class Ree{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xG(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const kG="@.disabled";let Oee=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const d=l?.parentNode(s);d&&l.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new RG("",s,this.engine),this._rendererCache.set(s,b)),b}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(l,d,e,b.name,b)};return i.data.animation.forEach(p),new Pee(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(UT),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class RG{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==kG?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Pee extends RG{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==kG?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Nee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function Fee(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Lee=(()=>{class n extends UT{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(de),c.LFG(N1),c.LFG(W1),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const OG=[{provide:mg,useClass:xee},{provide:W1,useFactory:function Vee(){return new iee}},{provide:UT,useClass:Lee},{provide:c.FYo,useFactory:function Bee(n,t,e){return new Oee(n,t,e)},deps:[jd,UT,c.R0b]}],J1=[{provide:N1,useFactory:()=>new Mee},{provide:c.QbO,useValue:"BrowserAnimations"},...OG],PG=[{provide:N1,useClass:oG},{provide:c.QbO,useValue:"NoopAnimations"},...OG];let Uee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?PG:J1}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:J1,imports:[$o]}),n})();const eF={firebase:{projectId:"simple-crm-30cb7",appId:"1:973048859733:web:f02f84a39879f7993bd8dc",storageBucket:"simple-crm-30cb7.appspot.com",apiKey:"AIzaSyCsKXfkHJ5BOCA70FTcbvclBU7WPIO920Y",authDomain:"simple-crm-30cb7.firebaseapp.com",messagingSenderId:"973048859733"},production:!0};var Hee=N(8554);class tF{constructor(t){return t}}class nF{constructor(){return kI("auth")}}const iF=new c.OlP("angularfire2.auth-instances");function $ee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new tF(i)}}const zee={provide:nF,deps:[[new c.FiY,iF]]},Gee={provide:tF,useFactory:function jee(n,t){const e=xI("auth",n,t);return e&&new tF(e)},deps:[[new c.FiY,iF],hp]};let Wee=(()=>{class n{constructor(){(0,Rt.registerVersion)("angularfire",Qb.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Gee,zee]}),n})();function qee(n,...t){return{ngModule:Wee,providers:[{provide:iF,useFactory:$ee(n),multi:!0,deps:[c.R0b,c.zs3,l_,YS,[new c.FiY,H_],...t]}]}}const Yee=RI(Hee.n,!0),FG="@firebase/database";let rF="";class Kee{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,q.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,q.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Qee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,q.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const VG=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Kee(t)}}catch{}return new Qee},vp=VG("localStorage"),sF=VG("sessionStorage"),W_=new Br.Yd("@firebase/database"),BG=function(){let n=1;return function(){return n++}}(),UG=function(n){const t=(0,q.dS)(n),e=new q.gQ;e.update(t);const i=e.digest();return q.US.encodeByteArray(i)},b0=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=b0.apply(null,i):t+="object"==typeof i?(0,q.Pz)(i):i,t+=" "}return t};let bp=null,HG=!0;const Zi=function(...n){if(!0===HG&&(HG=!1,null===bp&&!0===sF.get("logging_enabled")&&function(n,t){(0,q.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(W_.logLevel=Br.in.VERBOSE,bp=W_.log.bind(W_),t&&sF.set("logging_enabled",!0)):"function"==typeof n?bp=n:(bp=null,sF.remove("logging_enabled"))}(!0)),bp){const t=b0.apply(null,n);bp(t)}},w0=function(n){return function(...t){Zi(n,...t)}},oF=function(...n){const t="FIREBASE INTERNAL ERROR: "+b0(...n);W_.error(t)},ul=function(...n){const t=`FIREBASE FATAL ERROR: ${b0(...n)}`;throw W_.error(t),new Error(t)},Ar=function(...n){const t="FIREBASE WARNING: "+b0(...n);W_.warn(t)},jT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mc="[MIN_NAME]",dl="[MAX_NAME]",wp=function(n,t){if(n===t)return 0;if(n===Mc||t===dl)return-1;if(t===Mc||n===dl)return 1;{const e=$T(n),i=$T(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ete=function(n,t){return n===t?0:n<t?-1:1},C0=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,q.Pz)(t))},aF=function(n){if("object"!=typeof n||null===n)return(0,q.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,q.Pz)(t[i]),e+=":",e+=aF(n[t[i]]);return e+="}",e},$G=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Ki(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const zG=function(n){(0,q.hu)(!jT(n),"Invalid JSON number");const i=1023;let r,s,l,d,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(p=0;p<64;p+=8){let T=parseInt(b.substr(p,8),2).toString(16);1===T.length&&(T="0"+T),D+=T}return D.toLowerCase()},rte=new RegExp("^-?(0*)\\d{1,10}$"),$T=function(n){if(rte.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},q_=function(n){try{n()}catch(t){setTimeout(()=>{throw Ar("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},E0=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class ote{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ate{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Zi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(t)}}let D0=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const KG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,JG="websocket",eW="long_polling";class uF{constructor(t,e,i,r,s=!1,l="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vp.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vp.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function tW(n,t,e){let i;if((0,q.hu)("string"==typeof t,"typeof type must == string"),(0,q.hu)("object"==typeof e,"typeof params must == object"),t===JG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==eW)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function lte(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Ki(e,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class cte{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,q.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,q.p$)(this.counters_)}}const dF={},hF={};function fF(n){const t=n.toString();return dF[t]||(dF[t]=new cte),dF[t]}class dte{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&q_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class dd{constructor(t,e,i,r,s,l,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w0(t),this.stats_=fF(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),tW(e,eW,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new dte(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,q.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pF((...s)=>{const[l,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&KG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dd.forceAllow_=!0}static forceDisallow(){dd.forceDisallow_=!0}static isAvailable(){return!((0,q.Yr)()||!dd.forceAllow_&&(dd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,q.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,q.h$)(e),r=$G(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,q.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,q.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class pF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,q.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=BG(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=pF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){Zi("frame writing exception"),d.stack&&Zi(d.stack),Zi(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Zi("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,q.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Zi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let GT=null;typeof MozWebSocket<"u"?GT=MozWebSocket:typeof WebSocket<"u"&&(GT=WebSocket);let Y_=(()=>{class n{constructor(e,i,r,s,l,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w0(this.connId),this.stats_=fF(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,l){const d={v:"5"};return!(0,q.Yr)()&&typeof location<"u"&&location.hostname&&KG.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),l&&(d.p=l),tW(e,JG,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vp.set("previous_websocket_failure",!0);try{let r;if((0,q.Yr)()){r={headers:{"User-Agent":`Firebase/5/${rF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new GT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==GT&&!n.forceDisallow_}static previouslyFailed(){return vp.isInMemoryStorage||!0===vp.get("previous_websocket_failure")}markConnectionHealthy(){vp.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,q.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,q.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,q.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=$G(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),lW=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dd,Y_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Y_&&Y_.isAvailable();let r=i&&!Y_.previouslyFailed();if(e.webSocketOnly&&(i||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Y_];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class mW{constructor(t,e,i,r,s,l,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w0("c:"+this.id+":"),this.transportManager_=new lW(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=E0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=C0("t",t),i=C0("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=C0("t",t),i=C0("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=C0("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?oF("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),E0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):E0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gW{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class _W{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,q.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,q.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class WT extends _W{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,q.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new WT}getInitialEvent(t){return(0,q.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Cn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function dn(){return new Cn("")}function qt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function hd(n){return n.pieces_.length-n.pieceNum_}function On(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Cn(n.pieces_,t)}function gF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function I0(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function bW(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Cn(t,0)}function ei(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Cn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Cn(e,0)}function Yt(n){return n.pieceNum_>=n.pieces_.length}function Yr(n,t){const e=qt(n),i=qt(t);if(null===e)return t;if(e===i)return Yr(On(n),On(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function _F(n,t){if(hd(n)!==hd(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Io(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(hd(n)>hd(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Pte{constructor(t,e){this.errorPrefix_=e,this.parts_=I0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,q.ug)(this.parts_[i]);wW(this)}}function wW(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Cp(n))}function Cp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class yF extends _W{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new yF}getInitialEvent(t){return(0,q.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const S0=1e3;let YT,Ep=(()=>{class n extends gW{constructor(e,i,r,s,l,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=w0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=S0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,q.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&WT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,l={r:s,a:e,b:i};this.log_((0,q.Pz)(l)),(0,q.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new q.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const l=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),(0,q.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,q.hu)(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,q.r3)(e,"w")){const r=(0,q.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,q.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,q.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,d=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,q.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,l){this.initConnection_();const d={p:i,d:r};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,q.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):oF("Unrecognized action received from server: "+(0,q.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,q.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=S0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=S0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=S0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,K.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(x){(0,q.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(x)}};const T=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[x,O]=yield Promise.all([e.authTokenProvider_.getToken(T),e.appCheckTokenProvider_.getToken(T)]);p?Zi("getToken() completed but was canceled"):(Zi("getToken() completed. Creating connection."),e.authToken_=x&&x.accessToken,e.appCheckToken_=O&&O.token,_=new mW(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,j=>{Ar(j+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(x){e.log_("Failed to get token: "+x),p||(e.repoInfo_.nodeAdmin&&Ar(x),b())}}})()}interrupt(e){Zi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,q.xb)(this.interruptReasons_)&&(this.reconnectDelay_=S0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>aF(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Cn(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Zi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Zi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,q.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+rF.replace(/\./g,"-")]=1,(0,q.uI)()?e["framework.cordova"]=1:(0,q.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=WT.getInstance().currentlyOnline();return(0,q.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Kt(t,e)}}class qT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Kt(Mc,t),r=new Kt(Mc,e);return 0!==this.compare(i,r)}minPost(){return Kt.MIN}}class DW extends qT{static get __EMPTY_NODE(){return YT}static set __EMPTY_NODE(t){YT=t}compare(t,e){return wp(t.name,e.name)}isDefinedOn(t){throw(0,q.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Kt.MIN}maxPost(){return new Kt(dl,YT)}makePost(t,e){return(0,q.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Kt(t,YT)}toString(){return".key"}}const hl=new DW;class ZT{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let bF,ga=(()=>{class n{constructor(e,i,r,s,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??bs.EMPTY_NODE,this.right=l??bs.EMPTY_NODE}copy(e,i,r,s,l){return new n(e??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return bs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return bs.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class bs{constructor(t,e=bs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new bs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ga.BLACK,null,null))}remove(t){return new bs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ga.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ZT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ZT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ZT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ZT(this.root_,null,this.comparator_,!0,t)}}function jte(n,t){return wp(n.name,t.name)}function vF(n,t){return wp(n,t)}bs.EMPTY_NODE=new class Hte{copy(t,e,i,r,s){return this}insert(t,e,i){return new ga(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const IW=function(n){return"number"==typeof n?"number:"+zG(n):"string:"+n},SW=function(n){if(n.isLeafNode()){const t=n.val();(0,q.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,q.r3)(t,".sv"),"Priority must be a string or number.")}else(0,q.hu)(n===bF||n.isEmpty(),"priority of unexpected type.");(0,q.hu)(n===bF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let TW,AW,MW,Z_=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,q.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),SW(this.priorityNode_)}static set __childrenNodeConstructor(e){TW=e}static get __childrenNodeConstructor(){return TW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Yt(e)?this:".priority"===qt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=qt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,q.hu)(".priority"!==r||1===hd(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(On(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+IW(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?zG(this.value_):this.value_,this.lazyHash_=UG(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,q.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,q.hu)(s>=0,"Unknown leaf type: "+i),(0,q.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const jn=new class Wte extends qT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?wp(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Kt.MIN}maxPost(){return new Kt(dl,new Z_("[PRIORITY-POST]",MW))}makePost(t,e){const i=AW(t);return new Kt(e,new Z_("[PRIORITY-POST]",i))}toString(){return".priority"}},qte=Math.log(2);class Yte{constructor(t){this.count=parseInt(Math.log(t+1)/qte,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const KT=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let D,T;if(0===b)return null;if(1===b)return D=n[p],T=e?e(D):D,new ga(T,D.node,ga.BLACK,null,null);{const x=parseInt(b/2,10)+p,O=r(p,x),j=r(x+1,_);return D=n[x],T=e?e(D):D,new ga(T,D.node,ga.BLACK,O,j)}},d=function(p){let _=null,b=null,D=n.length;const T=function(O,j){const se=D-O,Fe=D;D-=O;const Ge=r(se+1,Fe),it=n[se],Ke=e?e(it):it;x(new ga(Ke,it.node,j,null,Ge))},x=function(O){_?(_.left=O,_=O):(b=O,_=O)};for(let O=0;O<p.count;++O){const j=p.nextBitIsOne(),se=Math.pow(2,p.count-(O+1));j?T(se,ga.BLACK):(T(se,ga.BLACK),T(se,ga.RED))}return b}(new Yte(n.length));return new bs(i||t,d)};let wF;const K_={};class xc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,q.hu)(K_&&jn,"ChildrenNode.ts has not been loaded"),wF=wF||new xc({".priority":K_},{".priority":jn}),wF}get(t){const e=(0,q.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof bs?e:null}hasIndex(t){return(0,q.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,q.hu)(t!==hl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Kt.Wrap);let d,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=s.getNext();d=r?KT(i,t.getCompare()):K_;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new xc(b,_)}addToIndexes(t,e){const i=(0,q.UI)(this.indexes_,(r,s)=>{const l=(0,q.DV)(this.indexSet_,s);if((0,q.hu)(l,"Missing index implementation for "+s),r===K_){if(l.isDefinedOn(t.node)){const d=[],p=e.getIterator(Kt.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),KT(d,l.getCompare())}return K_}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new Kt(t.name,d))),p.insert(t,t.node)}});return new xc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,q.UI)(this.indexes_,r=>{if(r===K_)return r;{const s=e.get(t.name);return s?r.remove(new Kt(t.name,s)):r}});return new xc(i,this.indexSet_)}}let T0,Vt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SW(this.priorityNode_),this.children_.isEmpty()&&(0,q.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return T0||(T0=new n(new bs(vF),null,xc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||T0}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?T0:i}}getChild(e){const i=qt(e);return null===i?this:this.getImmediateChild(i).getChild(On(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,q.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Kt(e,i);let s,l;i.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?T0:this.priorityNode_;return new n(s,d,l)}}updateChild(e,i){const r=qt(e);if(null===r)return i;{(0,q.hu)(".priority"!==qt(e)||1===hd(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(On(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(jn,(d,p)=>{i[d]=p.val(e),r++,l&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):l=!1}),!e&&l&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+IW(this.getPriority().val())+":"),this.forEachChild(jn,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":UG(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new Kt(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Kt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Kt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Kt.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Kt.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===A0?-1:0}withIndex(e){if(e===hl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===hl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(jn),s=i.getIterator(jn);let l=r.getNext(),d=s.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=r.getNext(),d=s.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(e){return e===hl?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const A0=new class Zte extends Vt{constructor(){super(new bs(vF),Vt.EMPTY_NODE,xc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Vt.EMPTY_NODE}isEmpty(){return!1}};function li(n,t=null){if(null===n)return Vt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,q.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Z_(n,li(t));if(n instanceof Array){let e=Vt.EMPTY_NODE;return Ki(n,(i,r)=>{if((0,q.r3)(n,i)&&"."!==i.substring(0,1)){const s=li(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(li(t))}{const e=[];let i=!1;if(Ki(n,(l,d)=>{if("."!==l.substring(0,1)){const p=li(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new Kt(l,p)))}}),0===e.length)return Vt.EMPTY_NODE;const s=KT(e,jte,l=>l.name,vF);if(i){const l=KT(e,jn.getCompare());return new Vt(s,li(t),new xc({".priority":l},{".priority":jn}))}return new Vt(s,li(t),xc.Default)}}Object.defineProperties(Kt,{MIN:{value:new Kt(Mc,Vt.EMPTY_NODE)},MAX:{value:new Kt(dl,A0)}}),DW.__EMPTY_NODE=Vt.EMPTY_NODE,Z_.__childrenNodeConstructor=Vt,function $te(n){bF=n}(A0),function Gte(n){MW=n}(A0),function zte(n){AW=n}(li);class CF extends qT{constructor(t){super(),this.indexPath_=t,(0,q.hu)(!Yt(t)&&".priority"!==qt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?wp(t.name,e.name):s}makePost(t,e){const i=li(t),r=Vt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Kt(e,r)}maxPost(){const t=Vt.EMPTY_NODE.updateChild(this.indexPath_,A0);return new Kt(dl,t)}toString(){return I0(this.indexPath_,0).join("/")}}const EF=new class Qte extends qT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?wp(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Kt.MIN}maxPost(){return Kt.MAX}makePost(t,e){const i=li(t);return new Kt(e,i)}toString(){return".value"}};function x0(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class SF{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,q.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,q.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,q.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jn}copy(){const t=new SF;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function NW(n){const t={};if(n.isDefault())return t;let e;return n.index_===jn?e="$priority":n.index_===EF?e="$value":n.index_===hl?e="$key":((0,q.hu)(n.index_ instanceof CF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,q.Pz)(e),n.startSet_&&(t.startAt=(0,q.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,q.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,q.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,q.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function FW(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==jn&&(t.i=n.index_.toString()),t}class XT extends gW{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=w0("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,q.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=XT.getListenId_(t,i),d={};this.listens_[l]=d;const p=NW(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,i),(0,q.DV)(this.listens_,l)===d){let T;T=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(T,null)}})}unlisten(t,e){const i=XT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=NW(t._queryParams),i=t._path.toString(),r=new q.BH;return this.restRequest_(i+".json",e,(s,l)=>{let d=l;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,q.xO)(e);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,q.cI)(d.responseText)}catch{Ar("Failed to parse JSON response for "+l+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Ar("Got unsuccessful REST response for "+l+" Status: "+d.status),i(d.status);i=null}},d.open("GET",l,!0),d.send()})}}class one{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function JT(){return{value:null,children:new Map}}function J_(n,t,e){if(Yt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=qt(t);n.children.has(i)||n.children.set(i,JT()),J_(n.children.get(i),t=On(t),e)}}function xF(n,t,e){null!==n.value?e(t,n.value):function ane(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{xF(r,new Cn(t.toString()+"/"+i),e)})}class lne{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Ki(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class dne{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new lne(t);const i=1e4+2e4*Math.random();E0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Ki(t,(r,s)=>{s>0&&(0,q.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),E0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var So=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(So||(So={})),So))();function OF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class eA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=So.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Yt(this.path)){if(null!=this.affectedTree.value)return(0,q.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Cn(t));return new eA(dn(),e,this.revert)}}return(0,q.hu)(qt(this.path)===t,"operationForChild called for unrelated child."),new eA(On(this.path),this.affectedTree,this.revert)}}class Dp{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=So.OVERWRITE}operationForChild(t){return Yt(this.path)?new Dp(this.source,dn(),this.snap.getImmediateChild(t)):new Dp(this.source,On(this.path),this.snap)}}class ey{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=So.MERGE}operationForChild(t){if(Yt(this.path)){const e=this.children.subtree(new Cn(t));return e.isEmpty()?null:e.value?new Dp(this.source,dn(),e.value):new ey(this.source,dn(),e)}return(0,q.hu)(qt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ey(this.source,On(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Yt(t))return this.isFullyInitialized()&&!this.filtered_;const e=qt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function O0(n,t,e,i,r,s){const l=i.filter(d=>d.type===e);l.sort((d,p)=>function mne(n,t,e){if(null==t.childName||null==e.childName)throw(0,q.g5)("Should only compare child_ events.");const i=new Kt(t.childName,t.snapshotNode),r=new Kt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),l.forEach(d=>{const p=function pne(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function tA(n,t){return{eventCache:n,serverCache:t}}function P0(n,t,e,i){return tA(new fd(t,e,i),n.serverCache)}function VW(n,t,e,i){return tA(n.eventCache,new fd(t,e,i))}function nA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ip(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let PF;class $n{constructor(t,e=(()=>(PF||(PF=new bs(ete)),PF))()){this.value=t,this.children=e}static fromObject(t){let e=new $n(null);return Ki(t,(i,r)=>{e=e.set(new Cn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:dn(),value:this.value};if(Yt(t))return null;{const i=qt(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(On(t),e);return null!=s?{path:ei(new Cn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Yt(t))return this;{const e=qt(t),i=this.children.get(e);return null!==i?i.subtree(On(t)):new $n(null)}}set(t,e){if(Yt(t))return new $n(e,this.children);{const i=qt(t),s=(this.children.get(i)||new $n(null)).set(On(t),e),l=this.children.insert(i,s);return new $n(this.value,l)}}remove(t){if(Yt(t))return this.children.isEmpty()?new $n(null):new $n(null,this.children);{const e=qt(t),i=this.children.get(e);if(i){const r=i.remove(On(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new $n(null):new $n(this.value,s)}return this}}get(t){if(Yt(t))return this.value;{const e=qt(t),i=this.children.get(e);return i?i.get(On(t)):null}}setTree(t,e){if(Yt(t))return e;{const i=qt(t),s=(this.children.get(i)||new $n(null)).setTree(On(t),e);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new $n(this.value,l)}}fold(t){return this.fold_(dn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ei(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,dn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Yt(t))return null;{const s=qt(t),l=this.children.get(s);return l?l.findOnPath_(On(t),ei(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,dn(),e)}foreachOnPath_(t,e,i){if(Yt(t))return this;{this.value&&i(e,this.value);const r=qt(t),s=this.children.get(r);return s?s.foreachOnPath_(On(t),ei(e,r),i):new $n(null)}}foreach(t){this.foreach_(dn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ei(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class _a{constructor(t){this.writeTree_=t}static empty(){return new _a(new $n(null))}}function N0(n,t,e){if(Yt(t))return new _a(new $n(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const l=Yr(r,t);return s=s.updateChild(l,e),new _a(n.writeTree_.set(r,s))}{const r=new $n(e),s=n.writeTree_.setTree(t,r);return new _a(s)}}}function NF(n,t,e){let i=n;return Ki(e,(r,s)=>{i=N0(i,ei(t,r),s)}),i}function BW(n,t){if(Yt(t))return _a.empty();{const e=n.writeTree_.setTree(t,new $n(null));return new _a(e)}}function FF(n,t){return null!=Sp(n,t)}function Sp(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Yr(e.path,t)):null}function UW(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(jn,(i,r)=>{t.push(new Kt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Kt(i,r.value))}),t}function pd(n,t){if(Yt(t))return n;{const e=Sp(n,t);return new _a(null!=e?new $n(e):n.writeTree_.subtree(t))}}function LF(n){return n.writeTree_.isEmpty()}function ty(n,t){return HW(dn(),n.writeTree_,t)}function HW(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,q.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=HW(ei(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ei(n,".priority"),i)),e}}function iA(n,t){return WW(t,n)}function wne(n,t){if(n.snap)return Io(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Io(ei(n.path,e),t))return!0;return!1}function Ene(n){return n.visible}function jW(n,t,e){let i=_a.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const l=s.path;let d;if(s.snap)Io(e,l)?(d=Yr(e,l),i=N0(i,d,s.snap)):Io(l,e)&&(d=Yr(l,e),i=N0(i,dn(),s.snap.getChild(d)));else{if(!s.children)throw(0,q.g5)("WriteRecord should have .snap or .children");if(Io(e,l))d=Yr(e,l),i=NF(i,d,s.children);else if(Io(l,e))if(d=Yr(l,e),Yt(d))i=NF(i,dn(),s.children);else{const p=(0,q.DV)(s.children,qt(d));if(p){const _=p.getChild(On(d));i=N0(i,dn(),_)}}}}}return i}function $W(n,t,e,i,r){if(i||r){const s=pd(n.visibleWrites,t);return!r&&LF(s)?e:r||null!=e||FF(s,dn())?ty(jW(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Io(_.path,t)||Io(t,_.path))},t),e||Vt.EMPTY_NODE):null}{const s=Sp(n.visibleWrites,t);if(null!=s)return s;{const l=pd(n.visibleWrites,t);return LF(l)?e:null!=e||FF(l,dn())?ty(l,e||Vt.EMPTY_NODE):null}}}function rA(n,t,e,i){return $W(n.writeTree,n.treePath,t,e,i)}function VF(n,t){return function Dne(n,t,e){let i=Vt.EMPTY_NODE;const r=Sp(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(jn,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(e){const s=pd(n.visibleWrites,t);return e.forEachChild(jn,(l,d)=>{const p=ty(pd(s,new Cn(l)),d);i=i.updateImmediateChild(l,p)}),UW(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return UW(pd(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function zW(n,t,e,i){return function Ine(n,t,e,i,r){(0,q.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ei(t,e);if(FF(n.visibleWrites,s))return null;{const l=pd(n.visibleWrites,s);return LF(l)?r.getChild(e):ty(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function sA(n,t){return function Tne(n,t){return Sp(n.visibleWrites,t)}(n.writeTree,ei(n.treePath,t))}function BF(n,t,e){return function Sne(n,t,e,i){const r=ei(t,e),s=Sp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?ty(pd(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function GW(n,t){return WW(ei(n.treePath,t),n.writeTree)}function WW(n,t){return{treePath:n,writeTree:t}}class kne{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,q.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,q.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,x0(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,function M0(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,function X_(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,q.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,x0(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const qW=new class Rne{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class UF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new fd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return BF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ip(this.viewCache_),s=function xne(n,t,e,i,r,s){return function Ane(n,t,e,i,r,s,l){let d;const p=pd(n.visibleWrites,t),_=Sp(p,dn());if(null!=_)d=_;else{if(null==e)return[];d=ty(p,e)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const b=[],D=l.getCompare(),T=s?d.getReverseIteratorFrom(i,l):d.getIteratorFrom(i,l);let x=T.getNext();for(;x&&b.length<r;)0!==D(x,i)&&b.push(x),x=T.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function YW(n,t,e,i,r,s){const l=t.eventCache;if(null!=sA(i,e))return t;{let d,p;if(Yt(e))if((0,q.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Ip(t),D=VF(i,_ instanceof Vt?_:Vt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const _=rA(i,Ip(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=qt(e);if(".priority"===_){(0,q.hu)(1===hd(e),"Can't have a priority with additional path components");const b=l.getNode();p=t.serverCache.getNode();const D=zW(i,e,b,p);d=null!=D?n.filter.updatePriority(b,D):l.getNode()}else{const b=On(e);let D;if(l.isCompleteForChild(_)){p=t.serverCache.getNode();const T=zW(i,e,l.getNode(),p);D=null!=T?l.getNode().getImmediateChild(_).updateChild(b,T):l.getNode().getImmediateChild(_)}else D=BF(i,_,t.serverCache);d=null!=D?n.filter.updateChild(l.getNode(),_,D,b,r,s):l.getNode()}}return P0(t,d,l.isFullyInitialized()||Yt(e),n.filter.filtersNodes())}}function oA(n,t,e,i,r,s,l,d){const p=t.serverCache;let _;const b=l?n.filter:n.filter.getIndexedFilter();if(Yt(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),x,null)}else{const x=qt(e);if(!p.isCompleteForPath(e)&&hd(e)>1)return t;const O=On(e),se=p.getNode().getImmediateChild(x).updateChild(O,i);_=".priority"===x?b.updatePriority(p.getNode(),se):b.updateChild(p.getNode(),x,se,O,qW,null)}const D=VW(t,_,p.isFullyInitialized()||Yt(e),b.filtersNodes());return YW(n,D,e,r,new UF(r,D,s),d)}function HF(n,t,e,i,r,s,l){const d=t.eventCache;let p,_;const b=new UF(r,t,s);if(Yt(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,l),p=P0(t,_,!0,n.filter.filtersNodes());else{const D=qt(e);if(".priority"===D)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=P0(t,_,d.isFullyInitialized(),d.isFiltered());else{const T=On(e),x=d.getNode().getImmediateChild(D);let O;if(Yt(T))O=i;else{const j=b.getCompleteChild(D);O=null!=j?".priority"===gF(T)&&j.getChild(bW(T)).isEmpty()?j:j.updateChild(T,i):Vt.EMPTY_NODE}p=x.equals(O)?t:P0(t,n.filter.updateChild(d.getNode(),D,O,T,b,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function ZW(n,t){return n.eventCache.isCompleteForChild(t)}function KW(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function jF(n,t,e,i,r,s,l,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=Yt(e)?i:new $n(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((D,T)=>{if(b.hasChild(D)){const O=KW(0,t.serverCache.getNode().getImmediateChild(D),T);p=oA(n,p,new Cn(D),O,r,s,l,d)}}),_.children.inorderTraversal((D,T)=>{const x=!t.serverCache.isCompleteForChild(D)&&null===T.value;if(!b.hasChild(D)&&!x){const j=KW(0,t.serverCache.getNode().getImmediateChild(D),T);p=oA(n,p,new Cn(D),j,r,s,l,d)}}),p}function zne(n,t){const e=Ip(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Yt(t)&&!e.getImmediateChild(qt(t)).isEmpty())?e.getChild(t):null}function JW(n,t,e,i){t.type===So.MERGE&&null!==t.source.queryId&&((0,q.hu)(Ip(n.viewCache_),"We should always have a full cache before handling merges"),(0,q.hu)(nA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Nne(n,t,e,i,r){const s=new kne;let l,d;if(e.type===So.OVERWRITE){const _=e;_.source.fromUser?l=HF(n,t,_.path,_.snap,i,r,s):((0,q.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!Yt(_.path),l=oA(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===So.MERGE){const _=e;_.source.fromUser?l=function Lne(n,t,e,i,r,s,l){let d=t;return i.foreach((p,_)=>{const b=ei(e,p);ZW(t,qt(b))&&(d=HF(n,d,b,_,r,s,l))}),i.foreach((p,_)=>{const b=ei(e,p);ZW(t,qt(b))||(d=HF(n,d,b,_,r,s,l))}),d}(n,t,_.path,_.children,i,r,s):((0,q.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),l=jF(n,t,_.path,_.children,i,r,d,s))}else if(e.type===So.ACK_USER_WRITE){const _=e;l=_.revert?function Une(n,t,e,i,r,s){let l;if(null!=sA(i,e))return t;{const d=new UF(i,t,r),p=t.eventCache.getNode();let _;if(Yt(e)||".priority"===qt(e)){let b;if(t.serverCache.isFullyInitialized())b=rA(i,Ip(t));else{const D=t.serverCache.getNode();(0,q.hu)(D instanceof Vt,"serverChildren would be complete if leaf node"),b=VF(i,D)}_=n.filter.updateFullNode(p,b,s)}else{const b=qt(e);let D=BF(i,b,t.serverCache);null==D&&t.serverCache.isCompleteForChild(b)&&(D=p.getImmediateChild(b)),_=null!=D?n.filter.updateChild(p,b,D,On(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Vt.EMPTY_NODE,On(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=rA(i,Ip(t)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=sA(i,dn()),P0(t,_,l,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function Vne(n,t,e,i,r,s,l){if(null!=sA(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(Yt(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return oA(n,t,e,p.getNode().getChild(e),r,s,d,l);if(Yt(e)){let _=new $n(null);return p.getNode().forEachChild(hl,(b,D)=>{_=_.set(new Cn(b),D)}),jF(n,t,e,_,r,s,d,l)}return t}{let _=new $n(null);return i.foreach((b,D)=>{const T=ei(e,b);p.isCompleteForPath(T)&&(_=_.set(b,p.getNode().getChild(T)))}),jF(n,t,e,_,r,s,d,l)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==So.LISTEN_COMPLETE)throw(0,q.g5)("Unknown operation type: "+e.type);l=function Bne(n,t,e,i,r){const s=t.serverCache;return YW(n,VW(t,s.getNode(),s.isFullyInitialized()||Yt(e),s.isFiltered()),e,i,qW,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function Fne(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=nA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(function PW(n){return{type:"value",snapshotNode:n}}(nA(t)))}}(t,l,p),{viewCache:l,changes:p}}(n.processor_,r,t,e,i);return function Pne(n,t){(0,q.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,q.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,q.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function eq(n,t,e,i){return function fne(n,t,e,i){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function Jte(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),O0(n,r,"child_removed",t,i,e),O0(n,r,"child_added",t,i,e),O0(n,r,"child_moved",s,i,e),O0(n,r,"child_changed",t,i,e),O0(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let aA,cA;function $F(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,q.hu)(null!=s,"SyncTree gave us an op for an invalid query."),JW(s,t,e,i)}{let s=[];for(const l of n.views.values())s=s.concat(JW(l,t,e,i));return s}}function md(n,t){let e=null;for(const i of n.views.values())e=e||zne(i,t);return e}class oq{constructor(t){this.listenProvider_=t,this.syncPointTree_=new $n(null),this.pendingWriteTree_=function Mne(){return{visibleWrites:_a.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zF(n,t,e,i,r){return function _ne(n,t,e,i,r){(0,q.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=N0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?ny(n,new Dp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function _d(n,t,e=!1){const i=function vne(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function bne(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,q.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=e&&wne(d,i.path)?r=!1:Io(i.path,d.path)&&(s=!0)),l--}return!!r&&(s?(function Cne(n){n.visibleWrites=jW(n.allWrites,Ene,dn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=BW(n.visibleWrites,i.path):Ki(i.children,p=>{n.visibleWrites=BW(n.visibleWrites,ei(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new $n(null);return null!=i.snap?s=s.set(dn(),!0):Ki(i.children,l=>{s=s.set(new Cn(l),!0)}),ny(n,new eA(i.path,s,e))}return[]}function F0(n,t,e){return ny(n,new Dp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function dA(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(l,d)=>{const _=md(d,Yr(l,t));if(_)return _});return $W(r,t,s,e,!0)}function ny(n,t){return lq(t,n.syncPointTree_,null,iA(n.pendingWriteTree_,dn()))}function lq(n,t,e,i){if(Yt(n.path))return cq(n,t,e,i);{const r=t.get(dn());null==e&&null!=r&&(e=md(r,dn()));let s=[];const l=qt(n.path),d=n.operationForChild(l),p=t.children.get(l);if(p&&d){const _=e?e.getImmediateChild(l):null,b=GW(i,l);s=s.concat(lq(d,p,_,b))}return r&&(s=s.concat($F(r,n,i,e))),s}}function cq(n,t,e,i){const r=t.get(dn());null==e&&null!=r&&(e=md(r,dn()));let s=[];return t.children.inorderTraversal((l,d)=>{const p=e?e.getImmediateChild(l):null,_=GW(i,l),b=n.operationForChild(l);b&&(s=s.concat(cq(b,d,p,_)))}),r&&(s=s.concat($F(r,n,i,e))),s}function WF(n,t){return n.tagToQueryMap.get(t)}function qF(n){const t=n.indexOf("$");return(0,q.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Cn(n.substr(0,t))}}function YF(n,t,e){const i=n.syncPointTree_.get(t);return(0,q.hu)(i,"Missing sync point for query tag that we're tracking"),$F(i,e,iA(n.pendingWriteTree_,t),null)}class ZF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ZF(e)}node(){return this.node_}}class KF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ei(this.path_,t);return new KF(this.syncTree_,e)}node(){return dA(this.syncTree_,this.path_)}}const dq=function(n,t,e){return n&&"object"==typeof n?((0,q.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?hie(n[".sv"],t,e):"object"==typeof n[".sv"]?fie(n[".sv"],t):void(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},hie=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,q.hu)(!1,"Unexpected server value: "+n)},fie=function(n,t,e){n.hasOwnProperty("increment")||(0,q.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,q.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,q.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},QF=function(n,t,e){return XF(n,new ZF(t),e)};function XF(n,t,e){const i=n.getPriority().val(),r=dq(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const l=n,d=dq(l.getValue(),t,e);return d!==l.getValue()||r!==l.getPriority().val()?new Z_(d,li(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Z_(r))),l.forEachChild(jn,(d,p)=>{const _=XF(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class JF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function fA(n,t){let e=t instanceof Cn?t:new Cn(t),i=n,r=qt(e);for(;null!==r;){const s=(0,q.DV)(i.node.children,r)||{children:{},childCount:0};i=new JF(r,i,s),e=On(e),r=qt(e)}return i}function Tp(n){return n.node.value}function eL(n,t){n.node.value=t,tL(n)}function fq(n){return n.node.childCount>0}function pA(n,t){Ki(n.node.children,(e,i)=>{t(new JF(e,n,i))})}function pq(n,t,e,i){e&&!i&&t(n),pA(n,r=>{pq(r,t,!0,i)}),e&&i&&t(n)}function B0(n){return new Cn(null===n.parent?n.name:B0(n.parent)+"/"+n.name)}function tL(n){null!==n.parent&&function gie(n,t,e){const i=function pie(n){return void 0===Tp(n)&&!fq(n)}(e),r=(0,q.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,tL(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,tL(n))}(n.parent,n.name,n)}const _ie=/[\[\].#$\/\u0000-\u001F\u007F]/,yie=/[\[\].#$\u0000-\u001F\u007F]/,nL=10485760,mA=function(n){return"string"==typeof n&&0!==n.length&&!_ie.test(n)},H0=function(n,t,e){const i=e instanceof Cn?new Pte(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Cp(i));if("function"==typeof t)throw new Error(n+"contains a function "+Cp(i)+" with contents = "+t.toString());if(jT(t))throw new Error(n+"contains "+t.toString()+" "+Cp(i));if("string"==typeof t&&t.length>nL/3&&(0,q.ug)(t)>nL)throw new Error(n+"contains a string greater than "+nL+" utf8 bytes "+Cp(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Ki(t,(l,d)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!mA(l)))throw new Error(n+" contains an invalid key ("+l+") "+Cp(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Nte(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,q.ug)(t),wW(n)})(i,l),H0(n,d,i),function Fte(n){const t=n.parts_.pop();n.byteLength_-=(0,q.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Cp(i)+" in addition to actual children.")}},_q=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!mA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!yie.test(n)}(n)}(e))throw new Error((0,q.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Cie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zs(n,t,e){(function gA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!_F(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)})(n,e),function vq(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Eie(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Io(i,t)||Io(t,i))}function Eie(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();bp&&Zi("event: "+e.toString()),q_(i)}}}class Iie{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JT(),this.transactionQueueTree_=new JF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wq(n){const e=n.infoData_.getNode(new Cn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function $0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:wq(n)})}function Cq(n,t,e,i,r){n.dataUpdateCount++;const s=new Cn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const p=(0,q.UI)(e,_=>li(_));l=function sie(n,t,e,i){const r=WF(n,i);if(r){const s=qF(r),l=s.path,d=s.queryId,p=Yr(l,t),_=$n.fromObject(e);return YF(n,l,new ey(OF(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=li(e);l=function aq(n,t,e,i){const r=WF(n,i);if(null!=r){const s=qF(r),l=s.path,d=s.queryId,p=Yr(l,t);return YF(n,l,new Dp(OF(d),p,e))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,q.UI)(e,_=>li(_));l=function nie(n,t,e){const i=$n.fromObject(e);return ny(n,new ey({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=li(e);l=F0(n.serverSyncTree_,s,p)}let d=s;l.length>0&&(d=ry(n,s)),zs(n.eventQueue_,d,l)}function Eq(n,t){sL(n,"connected",t),!1===t&&function xie(n){iy(n,"onDisconnectEvents");const t=$0(n),e=JT();xF(n.onDisconnect_,dn(),(r,s)=>{const l=function(n,t,e,i){return XF(t,new KF(e,n),i)}(r,s,n.serverSyncTree_,t);J_(e,r,l)});let i=[];xF(e,dn(),(r,s)=>{i=i.concat(F0(n.serverSyncTree_,r,s));const l=function cL(n,t){const e=B0(Sq(n,t)),i=fA(n.transactionQueueTree_,t);return function mie(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{uL(n,r)}),uL(n,i),pq(i,r=>{uL(n,r)}),e}(n,r);ry(n,l)}),n.onDisconnect_=JT(),zs(n.eventQueue_,dn(),i)}(n)}function sL(n,t,e){const i=new Cn("/.info/"+t),r=li(e);n.infoData_.updateSnapshot(i,r);const s=F0(n.infoSyncTree_,i,r);zs(n.eventQueue_,i,s)}function _A(n){return n.nextWriteId_++}function iy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Zi(e,...t)}function lL(n,t,e){return dA(n.serverSyncTree_,t,e)||Vt.EMPTY_NODE}function yA(n,t=n.transactionQueueTree_){if(t||vA(n,t),Tp(t)){const e=Tq(n,t);(0,q.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Lie(n,t,e){const i=e.map(_=>_.currentWriteId),r=lL(n,t,i);let s=r;const l=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,q.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=Yr(t,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{iy(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let T=0;T<e.length;T++)e[T].status=2,b=b.concat(_d(n.serverSyncTree_,e[T].currentWriteId)),e[T].onComplete&&D.push(()=>e[T].onComplete(null,!0,e[T].currentOutputSnapshotResolved)),e[T].unwatcher();vA(n,fA(n.transactionQueueTree_,t)),yA(n,n.transactionQueueTree_),zs(n.eventQueue_,t,b);for(let T=0;T<D.length;T++)q_(D[T])}else{if("datastale"===_)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{Ar("transaction at "+p.toString()+" failed: "+_);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=_}ry(n,t)}},l)}(n,B0(t),e)}else fq(t)&&pA(t,e=>{yA(n,e)})}function ry(n,t){const e=Sq(n,t),i=B0(e);return function Vie(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=Yr(e,p.path);let D,b=!1;if((0,q.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,D=p.abortReason,r=r.concat(_d(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,D="maxretry",r=r.concat(_d(n.serverSyncTree_,p.currentWriteId,!0));else{const T=lL(n,p.path,l);p.currentInputSnapshot=T;const x=t[d].update(T.val());if(void 0!==x){H0("transaction failed: Data returned ",x,p.path);let O=li(x);"object"==typeof x&&null!=x&&(0,q.r3)(x,".priority")||(O=O.updatePriority(T.getPriority()));const se=p.currentWriteId,Fe=$0(n),Ge=QF(O,T,Fe);p.currentOutputSnapshotRaw=O,p.currentOutputSnapshotResolved=Ge,p.currentWriteId=_A(n),l.splice(l.indexOf(se),1),r=r.concat(zF(n.serverSyncTree_,p.path,Ge,p.currentWriteId,p.applyLocally)),r=r.concat(_d(n.serverSyncTree_,se,!0))}else b=!0,D="nodata",r=r.concat(_d(n.serverSyncTree_,p.currentWriteId,!0))}zs(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===D?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(D),!1,null)))}vA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)q_(i[d]);yA(n,n.transactionQueueTree_)}(n,Tq(n,e),i),i}function Sq(n,t){let e,i=n.transactionQueueTree_;for(e=qt(t);null!==e&&void 0===Tp(i);)i=fA(i,e),e=qt(t=On(t));return i}function Tq(n,t){const e=[];return Aq(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Aq(n,t,e){const i=Tp(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);pA(t,r=>{Aq(n,r,e)})}function vA(n,t){const e=Tp(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,eL(t,e.length>0?e:void 0)}pA(t,i=>{vA(n,i)})}function uL(n,t){const e=Tp(t);if(e){const i=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,q.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,q.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(_d(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?eL(t,void 0):e.length=s+1,zs(n.eventQueue_,B0(t),r);for(let l=0;l<i.length;l++)q_(i[l])}}const dL=function(n,t){const e=Hie(n),i=e.namespace;return"firebase.com"===e.domain&&ul(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ul("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new uF(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Cn(e.pathString)}},Hie=function(n){let t="",e="",i="",r="",s="",l=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(b,D)),b<D&&(r=function Bie(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,D)));const T=function Uie(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ar(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));_=t.indexOf(":"),_>=0?(l="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const x=t.slice(0,_);if("localhost"===x.toLowerCase())e="localhost";else if(x.split(".").length<=2)e=x;else{const O=t.indexOf(".");i=t.substring(0,O).toLowerCase(),e=t.substring(O+1),s=i}"ns"in T&&(s=T.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:l,scheme:d,pathString:r,namespace:s}};class Gs{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Yt(this._path)?null:gF(this._path)}get ref(){return new ya(this._repo,this._path)}get _queryIdentifier(){const t=FW(this._queryParams),e=aF(t);return"{}"===e?"default":e}get _queryObject(){return FW(this._queryParams)}isEqual(t){if(!((t=(0,q.m9)(t))instanceof Gs))return!1;const e=this._repo===t._repo,i=_F(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Rte(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class ya extends Gs{constructor(t,e){super(t,e,new SF,!1)}get parent(){const t=bW(this._path);return null===t?null:new ya(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function qne(n){(0,q.hu)(!aA,"__referenceConstructor has already been defined"),aA=n})(ya),function Xne(n){(0,q.hu)(!cA,"__referenceConstructor has already been defined"),cA=n}(ya);const fL={};class ore{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Sie(n,t,e){if(n.stats_=fF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new XT(n.repoInfo_,(i,r,s,l)=>{Cq(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Eq(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,q.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ep(n.repoInfo_,t,(i,r,s,l)=>{Cq(n,i,r,s,l)},i=>{Eq(n,i)},i=>{!function Tie(n,t){Ki(t,(e,i)=>{sL(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ute(n,t){const e=n.toString();return hF[e]||(hF[e]=t()),hF[e]}(n.repoInfo_,()=>new dne(n.stats_,n.server_)),n.infoData_=new one,n.infoSyncTree_=new oq({startListening:(i,r,s,l)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=F0(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),sL(n,"connected",!1),n.serverSyncTree_=new oq({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(d,p)=>{const _=l(d,p);zs(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ya(this._repo,dn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ire(n,t){const e=fL[t];(!e||e[n.key]!==n)&&ul(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function Iq(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ul("Cannot call "+t+" on a deleted database.")}}function are(n=(0,Rt.getApp)(),t){return(0,Rt._getProvider)(n,"database").getImmediate({identifier:t})}Ep.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ep.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function lre(n){(function Zee(n){rF=n})(Rt.SDK_VERSION),(0,Rt._registerComponent)(new Vr.wA("database",(t,{instanceIdentifier:e})=>function nre(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ul("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zi("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,l=dL(s,r),d=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,l=dL(s,r),d=l.repoInfo):p=!l.repoInfo.secure;const b=r&&p?new D0(D0.OWNER):new ate(n.name,n.options,t);_q("Invalid Firebase Database URL",l),Yt(l.path)||ul("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function rre(n,t,e,i){let r=fL[t.name];r||(r={},fL[t.name]=r);let s=r[n.toURLString()];return s&&ul("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Iie(n,!1,e,i),r[n.toURLString()]=s,s}(d,n,b,new ote(n.name,e));return new ore(D,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(FG,"0.13.6",n),(0,Rt.registerVersion)(FG,"0.13.6","esm2017")}();class pL{constructor(t){return t}}const Fq="database",mL=new c.OlP("angularfire2.database-instances");function fre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new pL(i)}}const pre={provide:class dre{constructor(){return kI(Fq)}},deps:[[new c.FiY,mL]]},mre={provide:pL,useFactory:function hre(n,t){const e=xI(Fq,n,t);return e&&new pL(e)},deps:[[new c.FiY,mL],hp]};let gre=(()=>{class n{constructor(){(0,Rt.registerVersion)("angularfire",Qb.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mre,pre]}),n})();function _re(n,...t){return{ngModule:gre,providers:[{provide:mL,useFactory:fre(n),multi:!0,deps:[c.R0b,c.zs3,l_,YS,[new c.FiY,nF],[new c.FiY,H_],...t]}]}}const yre=RI(are,!0);class gL{constructor(t){return t}}const Lq="firestore",_L=new c.OlP("angularfire2.firestore-instances");function wre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new gL(i)}}const Cre={provide:class vre{constructor(){return kI(Lq)}},deps:[[new c.FiY,_L]]},Ere={provide:gL,useFactory:function bre(n,t){const e=xI(Lq,n,t);return e&&new gL(e)},deps:[[new c.FiY,_L],hp]};let Dre=(()=>{class n{constructor(){(0,Rt.registerVersion)("angularfire",Qb.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ere,Cre]}),n})();function Ire(n,...t){return{ngModule:Dre,providers:[{provide:_L,useFactory:wre(n),multi:!0,deps:[c.R0b,c.zs3,l_,YS,[new c.FiY,nF],[new c.FiY,H_],...t]}]}}const Sre=RI(B5,!0);let Tre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[HX]}),n.\u0275inj=c.cJS({providers:[[{provide:ha.Dh,useValue:eF.firebase}]],imports:[$o,SX,Uee,kX,UX,jQ,Q$,CX,_k,T9,KN,yQ,jV,C9,P9,qQ,aX,WZ(()=>qZ(eF.firebase)),qee(()=>Yee()),_re(()=>yre()),Ire(()=>Sre())]}),n})();eF.production&&(0,c.G48)(),kl().bootstrapModule(Tre).catch(n=>console.error(n))},127:(mt,Te,N)=>{N.d(Te,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(mt,Te,N)=>{N.r(Te);var c=N(5861),V=N(3942),P=N(8554),ce=N(2090),de=(N(9681),N(1877),N(4859));function ve(){return window}function W(){return(W=(0,c.Z)(function*(J,L,U){var he;const{BuildInfo:He}=ve();(0,P.aq)(L.sessionId,"AuthEvent did not contain a session ID");const dt=yield fe(L.sessionId),yt={};return(0,P.ar)()?yt.ibi=He.packageName:(0,P.as)()?yt.apn=He.packageName:(0,P.at)(J,"operation-not-supported-in-this-environment"),He.displayName&&(yt.appDisplayName=He.displayName),yt.sessionId=dt,(0,P.au)(J,U,L.type,void 0,null!==(he=L.eventId)&&void 0!==he?he:void 0,yt)})).apply(this,arguments)}function Le(){return(Le=(0,c.Z)(function*(J){const{BuildInfo:L}=ve(),U={};(0,P.ar)()?U.iosBundleId=L.packageName:(0,P.as)()?U.androidPackageName=L.packageName:(0,P.at)(J,"operation-not-supported-in-this-environment"),yield(0,P.av)(J,U)})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(J,L,U){const{cordova:he}=ve();let He=()=>{};try{yield new Promise((dt,yt)=>{let Se=null;function Je(){var Ft;dt();const ln=null===(Ft=he.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof ln&&ln(),"function"==typeof U?.close&&U.close()}function Gt(){Se||(Se=window.setTimeout(()=>{yt((0,P.aw)(J,"redirect-cancelled-by-user"))},2e3))}function En(){"visible"===document?.visibilityState&&Gt()}L.addPassiveListener(Je),document.addEventListener("resume",Gt,!1),(0,P.as)()&&document.addEventListener("visibilitychange",En,!1),He=()=>{L.removePassiveListener(Je),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",En,!1),Se&&window.clearTimeout(Se)}})}finally{He()}})).apply(this,arguments)}function fe(J){return et.apply(this,arguments)}function et(){return(et=(0,c.Z)(function*(J){const L=nt(J),U=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(U)).map(He=>He.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function nt(J){if((0,P.aq)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const L=new ArrayBuffer(J.length),U=new Uint8Array(L);for(let he=0;he<J.length;he++)U[he]=J.charCodeAt(he);return U}class Ce extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(L)),super.onEvent(L)}initialized(){var L=this;return(0,c.Z)(function*(){yield L.initPromise})()}}function ie(J){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(J){const L=yield Q()._get(le(J));return L&&(yield Q()._remove(le(J))),L})).apply(this,arguments)}function Z(){const J=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const he=Math.floor(Math.random()*L.length);J.push(L.charAt(he))}return J.join("")}function Q(){return(0,P.ay)(P.b)}function le(J){return(0,P.az)("authEvent",J.config.apiKey,J.name)}function Re(J){if(!J?.includes("?"))return{};const[L,...U]=J.split("?");return(0,ce.zd)(U.join("?"))}function Ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Bt(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function Mi(J=(0,ce.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qr(){try{const J=self.localStorage,L=P.aI();if(J)return J.setItem(L,"1"),J.removeItem(L),!function qs(J=(0,ce.z$)()){return function Kr(){return(0,ce.w1)()&&11===document?.documentMode}()||function Pn(J=(0,ce.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,ce.hl)()}catch{return Xi()&&(0,ce.hl)()}return!1}function Xi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xi(){return(function Ot(){return"http:"===Bt()||"https:"===Bt()}()||(0,ce.ru)()||Mi())&&!function Ao(){return(0,ce.b$)()||(0,ce.UG)()}()&&Qr()&&!Xi()}function ws(){return Mi()&&typeof document<"u"}function Xe(){return(Xe=(0,c.Z)(function*(){return!!ws()&&new Promise(J=>{const L=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),J(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},mn=P.ax,hr="persistence";function An(J){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(J){yield J._initializationPromise;const L=ot(),U=P.az(hr,J.config.apiKey,J.name);L&&L.setItem(U,J._getPersistence())})).apply(this,arguments)}function ot(){var J;try{return(null===(J=function ki(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const lt=P.ax;class xt{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class Zt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(L){var U=this;return(0,c.Z)(function*(){const he=L._key();let He=U.eventManagers.get(he);return He||(He=new Ce(L),U.eventManagers.set(he,He),U.attachCallbackListeners(L,He)),He})()}_openPopup(L){(0,P.at)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,U,he,He){var dt=this;return(0,c.Z)(function*(){!function ae(J){var L,U,he,He,dt,yt,Se,Je,Gt,En;const Ft=ve();(0,P.ax)("function"==typeof(null===(L=Ft?.universalLinks)||void 0===L?void 0:L.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(U=Ft?.BuildInfo)||void 0===U?void 0:U.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(dt=null===(He=null===(he=Ft?.cordova)||void 0===he?void 0:he.plugins)||void 0===He?void 0:He.browsertab)||void 0===dt?void 0:dt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Je=null===(Se=null===(yt=Ft?.cordova)||void 0===yt?void 0:yt.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===Je?void 0:Je.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(En=null===(Gt=Ft?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===En?void 0:En.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const yt=yield dt._initialize(L);yield yt.initialized(),yt.resetRedirect(),(0,P.aD)(),yield dt._originValidation(L);const Se=function ge(J,L,U=null){return{type:L,eventId:U,urlResponse:null,sessionId:Z(),postBody:null,tenantId:J.tenantId,error:(0,P.aw)(J,"no-auth-event")}}(L,he,He);yield function Be(J,L){return Q()._set(le(J),L)}(L,Se);const Je=yield function G(J,L,U){return W.apply(this,arguments)}(L,Se,U),Gt=yield function Ne(J){const{cordova:L}=ve();return new Promise(U=>{L.plugins.browsertab.isAvailable(he=>{let He=null;he?L.plugins.browsertab.openUrl(J):He=L.InAppBrowser.open(J,(0,P.ap)()?"_blank":"_system","location=yes"),U(He)})})}(Je);return function be(J,L,U){return Qe.apply(this,arguments)}(L,yt,Gt)})()}_isIframeWebStorageSupported(L,U){throw new Error("Method not implemented.")}_originValidation(L){const U=L._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function X(J){return Le.apply(this,arguments)}(L)),this.originValidationPromises[U]}attachCallbackListeners(L,U){const{universalLinks:he,handleOpenURL:He,BuildInfo:dt}=ve(),yt=setTimeout((0,c.Z)(function*(){yield ie(L),U.onEvent(Ue())}),500),Se=function(){var En=(0,c.Z)(function*(Ft){clearTimeout(yt);const ln=yield ie(L);let Xr=null;ln&&Ft?.url&&(Xr=function pe(J,L){var U,he;const He=function ke(J){const L=Re(J),U=L.link?decodeURIComponent(L.link):void 0,he=Re(U).link,He=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return Re(He).link||He||he||U||J}(L);if(He.includes("/__/auth/callback")){const dt=Re(He),yt=dt.firebaseError?function ne(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(dt.firebaseError)):null,Se=null===(he=null===(U=yt?.code)||void 0===U?void 0:U.split("auth/"))||void 0===he?void 0:he[1],Je=Se?(0,P.aw)(Se):null;return Je?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:Je,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:He,postBody:null}}return null}(ln,Ft.url)),U.onEvent(Xr||Ue())});return function(ln){return En.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,Se);const Je=He,Gt=`${dt.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var En=(0,c.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(Gt)&&Se({url:Ft}),"function"==typeof Je)try{Je(Ft)}catch(ln){console.error(ln)}});return function(Ft){return En.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(L){var U=this;return(0,c.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,U,he,He){var dt=this;return(0,c.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(L,U,he,He)})()}_openRedirect(L,U,he,He){var dt=this;return(0,c.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(L,U,he,He)})()}_isIframeWebStorageSupported(L,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,U)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return ws()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,c.Z)(function*(){if(L.underlyingResolver)return;const U=yield function Ys(){return Xe.apply(this,arguments)}();L.underlyingResolver=U?L.cordovaResolver:L.browserResolver})()}}function Vi(J){return J.unwrap()}function Oi(J){return Pi(J)}function Pi(J){const{_tokenResponse:L}=J instanceof ce.ZR?J.customData:J;if(!L)return null;if(!(J instanceof ce.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return P.P.credentialFromResult(J);const U=L.providerId;if(!U||U===P.o.PASSWORD)return null;let he;switch(U){case P.o.GOOGLE:he=P.Q;break;case P.o.FACEBOOK:he=P.N;break;case P.o.GITHUB:he=P.T;break;case P.o.TWITTER:he=P.W;break;default:const{oauthIdToken:He,oauthAccessToken:dt,oauthTokenSecret:yt,pendingToken:Se,nonce:Je}=L;return dt||yt||He||Se?Se?U.startsWith("saml.")?P.aL._create(U,Se):P.J._fromParams({providerId:U,signInMethod:U,pendingToken:Se,idToken:He,accessToken:dt}):new P.U(U).credential({idToken:He,accessToken:dt,rawNonce:Je}):null}return J instanceof ce.ZR?he.credentialFromError(J):he.credentialFromResult(J)}function Tt(J,L){return L.catch(U=>{throw U instanceof ce.ZR&&function wt(J,L){var U,he;const He=null===(U=L.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===(null===(he=L)||void 0===he?void 0:he.code))L.resolver=new Y(J,P.an(J,L));else if(He){const dt=Pi(L),yt=L;dt&&(yt.credential=dt,yt.tenantId=He.tenantId||void 0,yt.email=He.email||void 0,yt.phoneNumber=He.phoneNumber||void 0)}}(J,U),U}).then(U=>{const He=U.user;return{operationType:U.operationType,credential:Oi(U),additionalUserInfo:P.al(U),user:B.getOrCreate(He)}})}function xr(J,L){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(J,L){const U=yield L;return{verificationId:U.verificationId,confirm:he=>Tt(J,U.confirm(he))}})).apply(this,arguments)}class Y{constructor(L,U){this.resolver=U,this.auth=function Ri(J){return J.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Tt(Vi(this.auth),this.resolver.resolveSignIn(L))}}class B{constructor(L){this._delegate=L,this.multiFactor=P.ao(L)}static getOrCreate(L){return B.USER_MAP.has(L)||B.USER_MAP.set(L,new B(L)),B.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var U=this;return(0,c.Z)(function*(){return Tt(U.auth,P.Z(U._delegate,L))})()}linkWithPhoneNumber(L,U){var he=this;return(0,c.Z)(function*(){return xr(he.auth,P.l(he._delegate,L,U))})()}linkWithPopup(L){var U=this;return(0,c.Z)(function*(){return Tt(U.auth,P.d(U._delegate,L,xt))})()}linkWithRedirect(L){var U=this;return(0,c.Z)(function*(){return yield An(P.aE(U.auth)),P.g(U._delegate,L,xt)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var U=this;return(0,c.Z)(function*(){return Tt(U.auth,P._(U._delegate,L))})()}reauthenticateWithPhoneNumber(L,U){return xr(this.auth,P.r(this._delegate,L,U))}reauthenticateWithPopup(L){return Tt(this.auth,P.e(this._delegate,L,xt))}reauthenticateWithRedirect(L){var U=this;return(0,c.Z)(function*(){return yield An(P.aE(U.auth)),P.h(U._delegate,L,xt)})()}sendEmailVerification(L){return P.ab(this._delegate,L)}unlink(L){var U=this;return(0,c.Z)(function*(){return yield P.ak(U._delegate,L),U})()}updateEmail(L){return P.ag(this._delegate,L)}updatePassword(L){return P.ah(this._delegate,L)}updatePhoneNumber(L){return P.u(this._delegate,L)}updateProfile(L){return P.af(this._delegate,L)}verifyBeforeUpdateEmail(L,U){return P.ac(this._delegate,L,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}B.USER_MAP=new WeakMap;const F=P.ax;let H=(()=>{class J{constructor(U,he){if(this.app=U,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:He}=U.options;F(He,"invalid-api-key",{appName:U.name}),F(He,"invalid-api-key",{appName:U.name});const dt=typeof window<"u"?xt:void 0;this._delegate=he.initialize({options:{persistence:ye(He,U.name),popupRedirectResolver:dt}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?B.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,he){P.G(this._delegate,U,he)}applyActionCode(U){return P.a2(this._delegate,U)}checkActionCode(U){return P.a3(this._delegate,U)}confirmPasswordReset(U,he){return P.a1(this._delegate,U,he)}createUserWithEmailAndPassword(U,he){var He=this;return(0,c.Z)(function*(){return Tt(He._delegate,P.a5(He._delegate,U,he))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return P.aa(this._delegate,U)}isSignInWithEmailLink(U){return P.a8(this._delegate,U)}getRedirectResult(){var U=this;return(0,c.Z)(function*(){F(xi(),U._delegate,"operation-not-supported-in-this-environment");const he=yield P.j(U._delegate,xt);return he?Tt(U._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function hn(J,L){(0,P.aE)(J)._logFramework(L)}(this._delegate,U)}onAuthStateChanged(U,he,He){const{next:dt,error:yt,complete:Se}=$(U,he,He);return this._delegate.onAuthStateChanged(dt,yt,Se)}onIdTokenChanged(U,he,He){const{next:dt,error:yt,complete:Se}=$(U,he,He);return this._delegate.onIdTokenChanged(dt,yt,Se)}sendSignInLinkToEmail(U,he){return P.a7(this._delegate,U,he)}sendPasswordResetEmail(U,he){return P.a0(this._delegate,U,he||void 0)}setPersistence(U){var he=this;return(0,c.Z)(function*(){let He;switch(function Zs(J,L){mn(Object.values(ti).includes(L),J,"invalid-persistence-type"),(0,ce.b$)()?mn(L!==ti.SESSION,J,"unsupported-persistence-type"):(0,ce.UG)()?mn(L===ti.NONE,J,"unsupported-persistence-type"):Xi()?mn(L===ti.NONE||L===ti.LOCAL&&(0,ce.hl)(),J,"unsupported-persistence-type"):mn(L===ti.NONE||Qr(),J,"unsupported-persistence-type")}(he._delegate,U),U){case ti.SESSION:He=P.a;break;case ti.LOCAL:He=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case ti.NONE:He=P.L;break;default:return P.at("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(He)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Tt(this._delegate,P.X(this._delegate))}signInWithCredential(U){return Tt(this._delegate,P.Y(this._delegate,U))}signInWithCustomToken(U){return Tt(this._delegate,P.$(this._delegate,U))}signInWithEmailAndPassword(U,he){return Tt(this._delegate,P.a6(this._delegate,U,he))}signInWithEmailLink(U,he){return Tt(this._delegate,P.a9(this._delegate,U,he))}signInWithPhoneNumber(U,he){return xr(this._delegate,P.s(this._delegate,U,he))}signInWithPopup(U){var he=this;return(0,c.Z)(function*(){return F(xi(),he._delegate,"operation-not-supported-in-this-environment"),Tt(he._delegate,P.c(he._delegate,U,xt))})()}signInWithRedirect(U){var he=this;return(0,c.Z)(function*(){return F(xi(),he._delegate,"operation-not-supported-in-this-environment"),yield An(he._delegate),P.f(he._delegate,U,xt)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return P.a4(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=ti,J})();function $(J,L,U){let he=J;"function"!=typeof J&&({next:he,error:L,complete:U}=J);const He=he;return{next:yt=>He(yt&&B.getOrCreate(yt)),error:L,complete:U}}function ye(J,L){const U=function gn(J,L){const U=ot();if(!U)return[];const he=P.az(hr,J,L);switch(U.getItem(he)){case ti.NONE:return[P.L];case ti.LOCAL:return[P.i,P.a];case ti.SESSION:return[P.a];default:return[]}}(J,L);if(typeof self<"u"&&!U.includes(P.i)&&U.push(P.i),typeof window<"u")for(const he of[P.b,P.a])U.includes(he)||U.push(he);return U.includes(P.L)||U.push(P.L),U}class Ve{constructor(){this.providerId="phone",this._delegate=new P.P(Vi(V.Z.auth()))}static credential(L,U){return P.P.credential(L,U)}verifyPhoneNumber(L,U){return this._delegate.verifyPhoneNumber(L,U)}unwrap(){return this._delegate}}Ve.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ve.PROVIDER_ID=P.P.PROVIDER_ID;const gt=P.ax;class rn{constructor(L,U,he=V.Z.app()){var He;gt(null===(He=he.options)||void 0===He?void 0:He.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new P.R(L,U,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ni(J){J.INTERNAL.registerComponent(new de.wA("auth-compat",L=>{const U=L.getProvider("app-compat").getImmediate(),he=L.getProvider("auth");return new H(U,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:Ve,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:rn,TwitterAuthProvider:P.W,Auth:H,AuthCredential:P.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.19")}(V.Z)},9751:(mt,Te,N)=>{N.d(Te,{y:()=>ve});var c=N(930),V=N(727),P=N(8822),ce=N(9635),De=N(2416),we=N(576),de=N(2806);let ve=(()=>{class X{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const be=new X;return be.source=this,be.operator=Ne,be}subscribe(Ne,be,Qe){const ae=function W(X){return X&&X instanceof c.Lv||function G(X){return X&&(0,we.m)(X.next)&&(0,we.m)(X.error)&&(0,we.m)(X.complete)}(X)&&(0,V.Nn)(X)}(Ne)?Ne:new c.Hp(Ne,be,Qe);return(0,de.x)(()=>{const{operator:fe,source:et}=this;ae.add(fe?fe.call(ae,et):et?this._subscribe(ae):this._trySubscribe(ae))}),ae}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(be){Ne.error(be)}}forEach(Ne,be){return new(be=Pe(be))((Qe,ae)=>{const fe=new c.Hp({next:et=>{try{Ne(et)}catch(nt){ae(nt),fe.unsubscribe()}},error:ae,complete:Qe});this.subscribe(fe)})}_subscribe(Ne){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Ne)}[P.L](){return this}pipe(...Ne){return(0,ce.U)(Ne)(this)}toPromise(Ne){return new(Ne=Pe(Ne))((be,Qe)=>{let ae;this.subscribe(fe=>ae=fe,fe=>Qe(fe),()=>be(ae))})}}return X.create=Le=>new X(Le),X})();function Pe(X){var Le;return null!==(Le=X??De.v.Promise)&&void 0!==Le?Le:Promise}},7579:(mt,Te,N)=>{N.d(Te,{x:()=>de});var c=N(9751),V=N(727);const ce=(0,N(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=N(8737),we=N(2806);let de=(()=>{class Pe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const X=new ve(this,this);return X.operator=W,X}_throwIfClosed(){if(this.closed)throw new ce}next(W){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(W)}})}error(W){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:X}=this;for(;X.length;)X.shift().error(W)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:X,isStopped:Le,observers:Ne}=this;return X||Le?V.Lc:(this.currentObservers=null,Ne.push(W),new V.w0(()=>{this.currentObservers=null,(0,De.P)(Ne,W)}))}_checkFinalizedStatuses(W){const{hasError:X,thrownError:Le,isStopped:Ne}=this;X?W.error(Le):Ne&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return Pe.create=(G,W)=>new ve(G,W),Pe})();class ve extends de{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,X;null===(X=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===X||X.call(W,G)}error(G){var W,X;null===(X=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===X||X.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,X;return null!==(X=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==X?X:V.Lc}}},930:(mt,Te,N)=>{N.d(Te,{Hp:()=>Qe,Lv:()=>X});var c=N(576),V=N(727),P=N(2416),ce=N(7849),De=N(5032);const we=Pe("C",void 0,void 0);function Pe(xe,Ce,ge){return{kind:xe,value:Ce,error:ge}}var G=N(3410),W=N(2806);class X extends V.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,V.Nn)(Ce)&&Ce.add(this)):this.destination=nt}static create(Ce,ge,Be){return new Qe(Ce,ge,Be)}next(Ce){this.isStopped?et(function ve(xe){return Pe("N",xe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?et(function de(xe){return Pe("E",void 0,xe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?et(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ne(xe,Ce){return Le.call(xe,Ce)}class be{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Ce)}catch(Be){ae(Be)}}error(Ce){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Ce)}catch(Be){ae(Be)}else ae(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(ge){ae(ge)}}}class Qe extends X{constructor(Ce,ge,Be){let ie;if(super(),(0,c.m)(Ce)||!Ce)ie={next:Ce??void 0,error:ge??void 0,complete:Be??void 0};else{let re;this&&P.v.useDeprecatedNextContext?(re=Object.create(Ce),re.unsubscribe=()=>this.unsubscribe(),ie={next:Ce.next&&Ne(Ce.next,re),error:Ce.error&&Ne(Ce.error,re),complete:Ce.complete&&Ne(Ce.complete,re)}):ie=Ce}this.destination=new be(ie)}}function ae(xe){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(xe):(0,ce.h)(xe)}function et(xe,Ce){const{onStoppedNotification:ge}=P.v;ge&&G.z.setTimeout(()=>ge(xe,Ce))}const nt={closed:!0,next:De.Z,error:function fe(xe){throw xe},complete:De.Z}},727:(mt,Te,N)=>{N.d(Te,{Lc:()=>we,w0:()=>De,Nn:()=>de});var c=N(576);const P=(0,N(3888).d)(Pe=>function(W){Pe(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((X,Le)=>`${Le+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ce=N(8737);class De{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ne of W)Ne.remove(this);else W.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Ne){G=Ne instanceof P?Ne.errors:[Ne]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ne of Le)try{ve(Ne)}catch(be){G=G??[],be instanceof P?G=[...G,...be.errors]:G.push(be)}}if(G)throw new P(G)}}add(G){var W;if(G&&G!==this)if(this.closed)ve(G);else{if(G instanceof De){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,ce.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,ce.P)(W,G),G instanceof De&&G._removeParent(this)}}De.EMPTY=(()=>{const Pe=new De;return Pe.closed=!0,Pe})();const we=De.EMPTY;function de(Pe){return Pe instanceof De||Pe&&"closed"in Pe&&(0,c.m)(Pe.remove)&&(0,c.m)(Pe.add)&&(0,c.m)(Pe.unsubscribe)}function ve(Pe){(0,c.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(mt,Te,N)=>{N.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Te,N)=>{N.d(Te,{E:()=>V});const V=new(N(9751).y)(De=>De.complete())},8996:(mt,Te,N)=>{N.d(Te,{D:()=>Ce});var c=N(8421),V=N(5363),P=N(9468),we=N(9751),ve=N(2202),Pe=N(576),G=N(9672);function X(ge,Be){if(!ge)throw new Error("Iterable cannot be null");return new we.y(ie=>{(0,G.f)(ie,Be,()=>{const re=ge[Symbol.asyncIterator]();(0,G.f)(ie,Be,()=>{re.next().then(pe=>{pe.done?ie.complete():ie.next(pe.value)})},0,!0)})})}var Le=N(3670),Ne=N(8239),be=N(1144),Qe=N(6495),ae=N(2206),fe=N(4532),et=N(3260);function Ce(ge,Be){return Be?function xe(ge,Be){if(null!=ge){if((0,Le.c)(ge))return function ce(ge,Be){return(0,c.Xf)(ge).pipe((0,P.R)(Be),(0,V.Q)(Be))}(ge,Be);if((0,be.z)(ge))return function de(ge,Be){return new we.y(ie=>{let re=0;return Be.schedule(function(){re===ge.length?ie.complete():(ie.next(ge[re++]),ie.closed||this.schedule())})})}(ge,Be);if((0,Ne.t)(ge))return function De(ge,Be){return(0,c.Xf)(ge).pipe((0,P.R)(Be),(0,V.Q)(Be))}(ge,Be);if((0,ae.D)(ge))return X(ge,Be);if((0,Qe.T)(ge))return function W(ge,Be){return new we.y(ie=>{let re;return(0,G.f)(ie,Be,()=>{re=ge[ve.h](),(0,G.f)(ie,Be,()=>{let pe,Z;try{({value:pe,done:Z}=re.next())}catch(Q){return void ie.error(Q)}Z?ie.complete():ie.next(pe)},0,!0)}),()=>(0,Pe.m)(re?.return)&&re.return()})}(ge,Be);if((0,et.L)(ge))return function nt(ge,Be){return X((0,et.Q)(ge),Be)}(ge,Be)}throw(0,fe.z)(ge)}(ge,Be):(0,c.Xf)(ge)}},8421:(mt,Te,N)=>{N.d(Te,{Xf:()=>Le});var c=N(655),V=N(1144),P=N(8239),ce=N(9751),De=N(3670),we=N(2206),de=N(4532),ve=N(6495),Pe=N(3260),G=N(576),W=N(7849),X=N(8822);function Le(xe){if(xe instanceof ce.y)return xe;if(null!=xe){if((0,De.c)(xe))return function Ne(xe){return new ce.y(Ce=>{const ge=xe[X.L]();if((0,G.m)(ge.subscribe))return ge.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,V.z)(xe))return function be(xe){return new ce.y(Ce=>{for(let ge=0;ge<xe.length&&!Ce.closed;ge++)Ce.next(xe[ge]);Ce.complete()})}(xe);if((0,P.t)(xe))return function Qe(xe){return new ce.y(Ce=>{xe.then(ge=>{Ce.closed||(Ce.next(ge),Ce.complete())},ge=>Ce.error(ge)).then(null,W.h)})}(xe);if((0,we.D)(xe))return fe(xe);if((0,ve.T)(xe))return function ae(xe){return new ce.y(Ce=>{for(const ge of xe)if(Ce.next(ge),Ce.closed)return;Ce.complete()})}(xe);if((0,Pe.L)(xe))return function et(xe){return fe((0,Pe.Q)(xe))}(xe)}throw(0,de.z)(xe)}function fe(xe){return new ce.y(Ce=>{(function nt(xe,Ce){var ge,Be,ie,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ge=(0,c.KL)(xe);!(Be=yield ge.next()).done;)if(Ce.next(Be.value),Ce.closed)return}catch(pe){ie={error:pe}}finally{try{Be&&!Be.done&&(re=ge.return)&&(yield re.call(ge))}finally{if(ie)throw ie.error}}Ce.complete()})})(xe,Ce).catch(ge=>Ce.error(ge))})}},6451:(mt,Te,N)=>{N.d(Te,{T:()=>we});var c=N(8189),V=N(8421),P=N(515),ce=N(3269),De=N(8996);function we(...de){const ve=(0,ce.yG)(de),Pe=(0,ce._6)(de,1/0),G=de;return G.length?1===G.length?(0,V.Xf)(G[0]):(0,c.J)(Pe)((0,De.D)(G,ve)):P.E}},5403:(mt,Te,N)=>{N.d(Te,{x:()=>V});var c=N(930);function V(ce,De,we,de,ve){return new P(ce,De,we,de,ve)}class P extends c.Lv{constructor(De,we,de,ve,Pe,G){super(De),this.onFinalize=Pe,this.shouldUnsubscribe=G,this._next=we?function(W){try{we(W)}catch(X){De.error(X)}}:super._next,this._error=ve?function(W){try{ve(W)}catch(X){De.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(W){De.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},4004:(mt,Te,N)=>{N.d(Te,{U:()=>P});var c=N(4482),V=N(5403);function P(ce,De){return(0,c.e)((we,de)=>{let ve=0;we.subscribe((0,V.x)(de,Pe=>{de.next(ce.call(De,Pe,ve++))}))})}},8189:(mt,Te,N)=>{N.d(Te,{J:()=>P});var c=N(5577),V=N(4671);function P(ce=1/0){return(0,c.z)(V.y,ce)}},5577:(mt,Te,N)=>{N.d(Te,{z:()=>ve});var c=N(4004),V=N(8421),P=N(4482),ce=N(9672),De=N(5403),de=N(576);function ve(Pe,G,W=1/0){return(0,de.m)(G)?ve((X,Le)=>(0,c.U)((Ne,be)=>G(X,Ne,Le,be))((0,V.Xf)(Pe(X,Le))),W):("number"==typeof G&&(W=G),(0,P.e)((X,Le)=>function we(Pe,G,W,X,Le,Ne,be,Qe){const ae=[];let fe=0,et=0,nt=!1;const xe=()=>{nt&&!ae.length&&!fe&&G.complete()},Ce=Be=>fe<X?ge(Be):ae.push(Be),ge=Be=>{Ne&&G.next(Be),fe++;let ie=!1;(0,V.Xf)(W(Be,et++)).subscribe((0,De.x)(G,re=>{Le?.(re),Ne?Ce(re):G.next(re)},()=>{ie=!0},void 0,()=>{if(ie)try{for(fe--;ae.length&&fe<X;){const re=ae.shift();be?(0,ce.f)(G,be,()=>ge(re)):ge(re)}xe()}catch(re){G.error(re)}}))};return Pe.subscribe((0,De.x)(G,Ce,()=>{nt=!0,xe()})),()=>{Qe?.()}}(X,Le,Pe,W)))}},5363:(mt,Te,N)=>{N.d(Te,{Q:()=>ce});var c=N(9672),V=N(4482),P=N(5403);function ce(De,we=0){return(0,V.e)((de,ve)=>{de.subscribe((0,P.x)(ve,Pe=>(0,c.f)(ve,De,()=>ve.next(Pe),we),()=>(0,c.f)(ve,De,()=>ve.complete(),we),Pe=>(0,c.f)(ve,De,()=>ve.error(Pe),we)))})}},3099:(mt,Te,N)=>{N.d(Te,{B:()=>De});var c=N(8421),V=N(7579),P=N(930),ce=N(4482);function De(de={}){const{connector:ve=(()=>new V.x),resetOnError:Pe=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=de;return X=>{let Le,Ne,be,Qe=0,ae=!1,fe=!1;const et=()=>{Ne?.unsubscribe(),Ne=void 0},nt=()=>{et(),Le=be=void 0,ae=fe=!1},xe=()=>{const Ce=Le;nt(),Ce?.unsubscribe()};return(0,ce.e)((Ce,ge)=>{Qe++,!fe&&!ae&&et();const Be=be=be??ve();ge.add(()=>{Qe--,0===Qe&&!fe&&!ae&&(Ne=we(xe,W))}),Be.subscribe(ge),!Le&&Qe>0&&(Le=new P.Hp({next:ie=>Be.next(ie),error:ie=>{fe=!0,et(),Ne=we(nt,Pe,ie),Be.error(ie)},complete:()=>{ae=!0,et(),Ne=we(nt,G),Be.complete()}}),(0,c.Xf)(Ce).subscribe(Le))})(X)}}function we(de,ve,...Pe){if(!0===ve)return void de();if(!1===ve)return;const G=new P.Hp({next:()=>{G.unsubscribe(),de()}});return ve(...Pe).subscribe(G)}},9468:(mt,Te,N)=>{N.d(Te,{R:()=>V});var c=N(4482);function V(P,ce=0){return(0,c.e)((De,we)=>{we.add(P.schedule(()=>De.subscribe(we),ce))})}},3410:(mt,Te,N)=>{N.d(Te,{z:()=>c});const c={setTimeout(V,P,...ce){const{delegate:De}=c;return De?.setTimeout?De.setTimeout(V,P,...ce):setTimeout(V,P,...ce)},clearTimeout(V){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(mt,Te,N)=>{N.d(Te,{h:()=>V});const V=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Te,N)=>{N.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Te,N)=>{N.d(Te,{_6:()=>we,jO:()=>ce,yG:()=>De});var c=N(576),V=N(3532);function P(de){return de[de.length-1]}function ce(de){return(0,c.m)(P(de))?de.pop():void 0}function De(de){return(0,V.K)(P(de))?de.pop():void 0}function we(de,ve){return"number"==typeof P(de)?de.pop():ve}},8737:(mt,Te,N)=>{function c(V,P){if(V){const ce=V.indexOf(P);0<=ce&&V.splice(ce,1)}}N.d(Te,{P:()=>c})},3888:(mt,Te,N)=>{function c(V){const ce=V(De=>{Error.call(De),De.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}N.d(Te,{d:()=>c})},2806:(mt,Te,N)=>{N.d(Te,{O:()=>ce,x:()=>P});var c=N(2416);let V=null;function P(De){if(c.v.useDeprecatedSynchronousErrorHandling){const we=!V;if(we&&(V={errorThrown:!1,error:null}),De(),we){const{errorThrown:de,error:ve}=V;if(V=null,de)throw ve}}else De()}function ce(De){c.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=De)}},9672:(mt,Te,N)=>{function c(V,P,ce,De=0,we=!1){const de=P.schedule(function(){ce(),we?V.add(this.schedule(null,De)):this.unsubscribe()},De);if(V.add(de),!we)return de}N.d(Te,{f:()=>c})},4671:(mt,Te,N)=>{function c(V){return V}N.d(Te,{y:()=>c})},1144:(mt,Te,N)=>{N.d(Te,{z:()=>c});const c=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(mt,Te,N)=>{N.d(Te,{D:()=>V});var c=N(576);function V(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(mt,Te,N)=>{function c(V){return"function"==typeof V}N.d(Te,{m:()=>c})},3670:(mt,Te,N)=>{N.d(Te,{c:()=>P});var c=N(8822),V=N(576);function P(ce){return(0,V.m)(ce[c.L])}},6495:(mt,Te,N)=>{N.d(Te,{T:()=>P});var c=N(2202),V=N(576);function P(ce){return(0,V.m)(ce?.[c.h])}},8239:(mt,Te,N)=>{N.d(Te,{t:()=>V});var c=N(576);function V(P){return(0,c.m)(P?.then)}},3260:(mt,Te,N)=>{N.d(Te,{L:()=>ce,Q:()=>P});var c=N(655),V=N(576);function P(De){return(0,c.FC)(this,arguments,function*(){const de=De.getReader();try{for(;;){const{value:ve,done:Pe}=yield(0,c.qq)(de.read());if(Pe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ve)}}finally{de.releaseLock()}})}function ce(De){return(0,V.m)(De?.getReader)}},3532:(mt,Te,N)=>{N.d(Te,{K:()=>V});var c=N(576);function V(P){return P&&(0,c.m)(P.schedule)}},4482:(mt,Te,N)=>{N.d(Te,{A:()=>V,e:()=>P});var c=N(576);function V(ce){return(0,c.m)(ce?.lift)}function P(ce){return De=>{if(V(De))return De.lift(function(we){try{return ce(we,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Te,N)=>{function c(){}N.d(Te,{Z:()=>c})},9635:(mt,Te,N)=>{N.d(Te,{U:()=>P,z:()=>V});var c=N(4671);function V(...ce){return P(ce)}function P(ce){return 0===ce.length?c.y:1===ce.length?ce[0]:function(we){return ce.reduce((de,ve)=>ve(de),we)}}},7849:(mt,Te,N)=>{N.d(Te,{h:()=>P});var c=N(2416),V=N(3410);function P(ce){V.z.setTimeout(()=>{const{onUnhandledError:De}=c.v;if(!De)throw ce;De(ce)})}},4532:(mt,Te,N)=>{function c(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Te,{z:()=>c})},655:(mt,Te,N)=>{function ce(Z,Q){var le={};for(var ne in Z)Object.prototype.hasOwnProperty.call(Z,ne)&&Q.indexOf(ne)<0&&(le[ne]=Z[ne]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ne=Object.getOwnPropertySymbols(Z);ke<ne.length;ke++)Q.indexOf(ne[ke])<0&&Object.prototype.propertyIsEnumerable.call(Z,ne[ke])&&(le[ne[ke]]=Z[ne[ke]])}return le}function ve(Z,Q,le,ne){return new(le||(le=Promise))(function(Re,ut){function Zt(hn){try{Ue(ne.next(hn))}catch(vi){ut(vi)}}function zt(hn){try{Ue(ne.throw(hn))}catch(vi){ut(vi)}}function Ue(hn){hn.done?Re(hn.value):function ke(Re){return Re instanceof le?Re:new le(function(ut){ut(Re)})}(hn.value).then(Zt,zt)}Ue((ne=ne.apply(Z,Q||[])).next())})}function ae(Z){return this instanceof ae?(this.v=Z,this):new ae(Z)}function fe(Z,Q,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ne=le.apply(Z,Q||[]),Re=[];return ke={},ut("next"),ut("throw"),ut("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ut(fn){ne[fn]&&(ke[fn]=function(Qt){return new Promise(function(Bt,Ot){Re.push([fn,Qt,Bt,Ot])>1||Zt(fn,Qt)})})}function Zt(fn,Qt){try{!function zt(fn){fn.value instanceof ae?Promise.resolve(fn.value.v).then(Ue,hn):vi(Re[0][2],fn)}(ne[fn](Qt))}catch(Bt){vi(Re[0][3],Bt)}}function Ue(fn){Zt("next",fn)}function hn(fn){Zt("throw",fn)}function vi(fn,Qt){fn(Qt),Re.shift(),Re.length&&Zt(Re[0][0],Re[0][1])}}function nt(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Q=Z[Symbol.asyncIterator];return Q?Q.call(Z):(Z=function X(Z){var Q="function"==typeof Symbol&&Symbol.iterator,le=Q&&Z[Q],ne=0;if(le)return le.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ne>=Z.length&&(Z=void 0),{value:Z&&Z[ne++],done:!Z}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),le={},ne("next"),ne("throw"),ne("return"),le[Symbol.asyncIterator]=function(){return this},le);function ne(Re){le[Re]=Z[Re]&&function(ut){return new Promise(function(Zt,zt){!function ke(Re,ut,Zt,zt){Promise.resolve(zt).then(function(Ue){Re({value:Ue,done:Zt})},ut)}(Zt,zt,(ut=Z[Re](ut)).done,ut.value)})}}}N.d(Te,{FC:()=>fe,KL:()=>nt,_T:()=>ce,mG:()=>ve,qq:()=>ae})},4650:(mt,Te,N)=>{N.d(Te,{$8M:()=>nu,$Z:()=>OM,AFp:()=>YD,ALo:()=>xD,AaK:()=>ve,AsE:()=>cc,BQk:()=>ig,CHM:()=>py,CRH:()=>xg,CZH:()=>jg,CqO:()=>AE,D6c:()=>wI,EJc:()=>nR,EiD:()=>cC,EpF:()=>SE,F$t:()=>kE,F4k:()=>TE,FYo:()=>UA,FiY:()=>pn,G48:()=>aI,Gf:()=>ND,GfV:()=>CC,Gpc:()=>W,Hsn:()=>RE,Ikx:()=>Cr,JOm:()=>fo,JVY:()=>dm,KtG:()=>Bc,L6k:()=>Ly,LAX:()=>By,LFG:()=>At,LSH:()=>mh,Lbi:()=>pB,Lck:()=>yD,MAs:()=>Jm,MMx:()=>ub,NdJ:()=>Nv,O4$:()=>Gp,OlP:()=>yn,Oqu:()=>lc,PXZ:()=>eI,Q6J:()=>eg,QGY:()=>oc,QP$:()=>He,QbO:()=>Ab,Qsj:()=>Yy,R0b:()=>fs,RDi:()=>cm,Rgc:()=>gf,SBq:()=>ym,Sil:()=>yB,Suo:()=>FD,TTD:()=>Fo,TgZ:()=>tg,Udp:()=>BE,VKq:()=>TD,WFA:()=>ME,X6Q:()=>gR,XFs:()=>Xe,Xpm:()=>H,Xts:()=>Uy,Y36:()=>Vh,YKP:()=>_D,YNc:()=>Ov,Yjl:()=>J,Yz7:()=>Qt,Z0I:()=>Ao,ZZ4:()=>zb,_Bn:()=>gD,_UZ:()=>Pv,_Vd:()=>Ch,_c5:()=>SR,_uU:()=>Ox,aQg:()=>Gb,c2e:()=>eR,cJS:()=>Ot,cg1:()=>dc,d8E:()=>QE,dDg:()=>cR,dqk:()=>xt,eBb:()=>Vy,eFA:()=>Xg,ekj:()=>UE,eoX:()=>Di,f3M:()=>Jt,g9A:()=>KD,h0i:()=>Ou,hGG:()=>TR,hij:()=>$v,iGM:()=>vb,ifc:()=>lt,ip1:()=>el,jDz:()=>bD,kL8:()=>XE,kcU:()=>Wp,lG2:()=>ni,lcZ:()=>Dg,lqb:()=>na,lri:()=>qg,mCW:()=>ee,n5z:()=>no,n_E:()=>Ig,oAB:()=>gt,oxw:()=>xE,pB0:()=>w,q3G:()=>Zn,q4F:()=>vm,qLn:()=>wm,qOj:()=>kv,qZA:()=>ng,qzn:()=>as,rWj:()=>Yg,sBO:()=>_R,sIi:()=>qh,s_b:()=>yf,soG:()=>Df,tb:()=>$g,tp0:()=>Ko,uIk:()=>bE,vHH:()=>be,vpe:()=>tr,wAp:()=>_t,xp6:()=>_v,ynx:()=>tf,z2F:()=>t_,z3N:()=>Fr,zSh:()=>ho,zs3:()=>ls});var c=N(7579),V=N(727),P=N(9751),ce=N(6451),De=N(3099);function we(o){for(let a in o)if(o[a]===we)return a;throw Error("Could not find renamed property on target object.")}function de(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function ve(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ve).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Pe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const G=we({__forward_ref__:we});function W(o){return o.__forward_ref__=W,o.toString=function(){return ve(this())},o}function X(o){return Le(o)?o():o}function Le(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===W}class be extends Error{constructor(a,u){super(function Qe(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function ae(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o,a){throw new be(-201,!1)}function zt(o,a){null==o&&function Ue(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function Qt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ot(o){return{providers:o.providers||[],imports:o.imports||[]}}function Mi(o){return Kr(o,Xi)||Kr(o,ws)}function Ao(o){return null!==Mi(o)}function Kr(o,a){return o.hasOwnProperty(a)?o[a]:null}function Qr(o){return o&&(o.hasOwnProperty(xi)||o.hasOwnProperty(Ys))?o[xi]:null}const Xi=we({\u0275prov:we}),xi=we({\u0275inj:we}),ws=we({ngInjectableDef:we}),Ys=we({ngInjectorDef:we});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let ki;function mn(o){const a=ki;return ki=o,a}function hr(o,a,u){const h=Mi(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Xe.Optional?null:void 0!==a?a:void Ce(ve(o))}function An(o){return{toString:o}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),lt=(()=>{return(o=lt||(lt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",lt;var o})();const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Oi={},wt=[],Pi=we({\u0275cmp:we}),Tt=we({\u0275dir:we}),xr=we({\u0275pipe:we}),jt=we({\u0275mod:we}),Y=we({\u0275fac:we}),B=we({__NG_ELEMENT_ID__:we});let F=0;function H(o){return An(()=>{const u=!0===o.standalone,h={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||wt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||lt.Emulated,id:"c"+F++,styles:o.styles||wt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=en(o.inputs,h),f.outputs=en(o.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(ye).filter(Ve):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(he).filter(Ve):null,f})}function ye(o){return L(o)||U(o)}function Ve(o){return null!==o}function gt(o){return An(()=>({type:o.type,bootstrap:o.bootstrap||wt,declarations:o.declarations||wt,imports:o.imports||wt,exports:o.exports||wt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function en(o,a){if(null==o)return Oi;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,a&&(a[f]=m)}return u}const ni=H;function J(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function L(o){return o[Pi]||null}function U(o){return o[Tt]||null}function he(o){return o[xr]||null}function He(o){const a=L(o)||U(o)||he(o);return null!==a&&a.standalone}function dt(o,a){const u=o[jt]||null;if(!u&&!0===a)throw new Error(`Type ${ve(o)} does not have '\u0275mod' property.`);return u}function gi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ji(o){return Array.isArray(o)&&!0===o[1]}function Cs(o){return 0!=(8&o.flags)}function wa(o){return 2==(2&o.flags)}function Ca(o){return 1==(1&o.flags)}function Jr(o){return null!==o.template}function Nc(o){return 0!=(256&o[2])}function bi(o,a){return o.hasOwnProperty(Y)?o[Y]:null}class Da{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Fo(){return Lp}function Lp(o){return o.type.prototype.ngOnChanges&&(o.setInput=Dd),Ed}function Ed(){const o=Ia(this),a=o?.current;if(a){const u=o.previous;if(u===Oi)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Dd(o,a,u,h){const f=Ia(o)||function Lo(o,a){return o[Vp]=a}(o,{previous:Oi,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],I=v[C];m[C]=new Da(I&&I.currentValue,a,v===Oi),o[h]=a}Fo.ngInherit=!0;const Vp="__ngSimpleChanges__";function Ia(o){return o[Vp]||null}function Fn(o){for(;Array.isArray(o);)o=o[0];return o}function Cl(o,a){return Fn(a[o])}function Bi(o,a){return Fn(a[o.index])}function El(o,a){return o.data[a]}function Ks(o,a){return o[a]}function sn(o,a){const u=a[o];return gi(u)?u:u[0]}function Hp(o){return 4==(4&o[2])}function Qs(o){return 64==(64&o[2])}function es(o,a){return null==a?null:o[a]}function Dl(o){o[18]=0}function Il(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const Dt={lFrame:Nd(null),bindingsEnabled:!0};function Sl(){return Dt.bindingsEnabled}function Ee(){return Dt.lFrame.lView}function $t(){return Dt.lFrame.tView}function py(o){return Dt.lFrame.contextLView=o,o[8]}function Bc(o){return Dt.lFrame.contextLView=null,o}function ui(){let o=Uc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Uc(){return Dt.lFrame.currentTNode}function _r(o,a){const u=Dt.lFrame;u.currentTNode=o,u.isParent=a}function Md(){return Dt.lFrame.isParent}function jc(){Dt.lFrame.isParent=!1}function ri(){const o=Dt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Al(){return Dt.lFrame.bindingIndex++}function Js(o){const a=Dt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function $p(o,a){const u=Dt.lFrame;u.bindingIndex=u.bindingRootIndex=o,$c(a)}function $c(o){Dt.lFrame.currentDirectiveIndex=o}function kd(o){const a=Dt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Rd(){return Dt.lFrame.currentQueryIndex}function Od(o){Dt.lFrame.currentQueryIndex=o}function Pd(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function _y(o,a,u){if(u&Xe.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||u&Xe.Host||(f=Pd(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const h=Dt.lFrame=yy();return h.currentTNode=a,h.lView=o,!0}function zc(o){const a=yy(),u=o[1];Dt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function yy(){const o=Dt.lFrame,a=null===o?null:o.child;return null===a?Nd(o):a}function Nd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function vy(){const o=Dt.lFrame;return Dt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const zp=vy;function Sa(){const o=vy();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Mn(){return Dt.lFrame.selectedIndex}function Ds(o){Dt.lFrame.selectedIndex=o}function xn(){const o=Dt.lFrame;return El(o.tView,o.selectedIndex)}function Gp(){Dt.lFrame.currentNamespace="svg"}function Wp(){!function Cy(){Dt.lFrame.currentNamespace=null}()}function Gc(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:M}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),C&&((o.contentHooks||(o.contentHooks=[])).push(u,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,C)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),S&&((o.viewHooks||(o.viewHooks=[])).push(u,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,S)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(u,M)}}function Wc(o,a,u){Bd(o,a,3,u)}function Uo(o,a,u,h){(3&o[2])===u&&Bd(o,a,u,h)}function Vd(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function Bd(o,a,u,h){const m=h??-1,v=a.length-1;let C=0;for(let I=void 0!==h?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=h&&C>=h)break}else a[I]<0&&(o[18]+=65536),(C<m||-1==m)&&(qp(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function qp(o,a,u,h){const f=u[h]<0,m=u[h+1],C=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class yr{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Is(o,a,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],v=u[h++],C=u[h++];o.setAttribute(a,v,C,m)}else{const m=f,v=u[++h];zd(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),h++}}return h}function $d(o){return 3===o||4===o||6===o}function zd(o){return 64===o.charCodeAt(0)}function xl(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?u=f:0===u||Yp(o,u,f,null,-1===u||2===u?a[++h]:null)}}return o}function Yp(o,a,u,h,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(o[m+1]=f));if(h===o[m+1])return void(o[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==f&&o.splice(m++,0,f)}function Iy(o){return-1!==o}function Ho(o){return 32767&o}function eo(o,a){let u=function Sy(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let Gd=!0;function Zc(o){const a=Gd;return Gd=o,a}let Zp=0;const Or={};function jo(o,a){const u=Kc(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Wd(h.data,o),Wd(a,null),Wd(h.blueprint,null));const f=kl(o,a),m=o.injectorIndex;if(Iy(f)){const v=Ho(f),C=eo(f,a),I=C[1].data;for(let S=0;S<8;S++)a[m+S]=C[v+S]|I[v+S]}return a[m+8]=f,m}function Wd(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Kc(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function kl(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=a;for(;null!==f;){if(h=tu(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Rl(o,a,u){!function Ay(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(B)&&(h=u[B]),null==h&&(h=u[B]=Zp++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function Qc(o,a,u){if(u&Xe.Optional)return o;Ce()}function $o(o,a,u,h){if(u&Xe.Optional&&void 0===h&&(h=null),0==(u&(Xe.Self|Xe.Host))){const f=o[9],m=mn(void 0);try{return f?f.get(a,h,u&Xe.Optional):hr(a,h,u&Xe.Optional)}finally{mn(m)}}return Qc(h,0,u)}function Xc(o,a,u,h=Xe.Default,f){if(null!==o){if(1024&a[2]){const v=function xy(o,a,u,h,f){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Kp(m,v,u,h|Xe.Self,Or);if(C!==Or)return C;let I=m.parent;if(!I){const S=v[21];if(S){const M=S.get(u,Or,h);if(M!==Or)return M}I=tu(v),v=v[15]}m=I}return f}(o,a,u,h,Or);if(v!==Or)return v}const m=Kp(o,a,u,h,Or);if(m!==Or)return m}return $o(a,u,h,f)}function Kp(o,a,u,h,f){const m=function My(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(B)?o[B]:void 0;return"number"==typeof a?a>=0?255&a:Jp:a}(u);if("function"==typeof m){if(!_y(a,o,h))return h&Xe.Host?Qc(f,0,h):$o(a,u,h,f);try{const v=m(h);if(null!=v||h&Xe.Optional)return v;Ce()}finally{zp()}}else if("number"==typeof m){let v=null,C=Kc(o,a),I=-1,S=h&Xe.Host?a[16][6]:null;for((-1===C||h&Xe.SkipSelf)&&(I=-1===C?kl(o,a):a[C+8],-1!==I&&Xp(h,!1)?(v=a[1],C=Ho(I),a=eo(I,a)):C=-1);-1!==C;){const M=a[1];if(Jc(m,C,M.data)){const R=Qp(C,a,u,v,h,S);if(R!==Or)return R}I=a[C+8],-1!==I&&Xp(h,a[1].data[C+8]===S)&&Jc(m,C,a)?(v=M,C=Ho(I),a=eo(I,a)):C=-1}}return f}function Qp(o,a,u,h,f,m){const v=a[1],C=v.data[o+8],M=Pl(C,v,u,null==h?wa(C)&&Gd:h!=v&&0!=(3&C.type),f&Xe.Host&&m===C);return null!==M?to(a,v,M,C):Or}function Pl(o,a,u,h,f){const m=o.providerIndexes,v=a.data,C=1048575&m,I=o.directiveStart,M=m>>20,z=f?C+M:o.directiveEnd;for(let te=h?C:C+M;te<z;te++){const me=v[te];if(te<I&&u===me||te>=I&&me.type===u)return te}if(f){const te=v[I];if(te&&Jr(te)&&te.type===u)return I}return null}function to(o,a,u,h){let f=o[u];const m=a.data;if(function Ud(o){return o instanceof yr}(f)){const v=f;v.resolving&&function et(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new be(-200,`Circular dependency in DI detected for ${o}${u}`)}(function fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ae(o)}(m[u]));const C=Zc(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?mn(v.injectImpl):null;_y(o,h,Xe.Default);try{f=o[u]=v.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function Ld(o,a,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(h){const v=Lp(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==I&&mn(I),Zc(C),v.resolving=!1,zp()}}return f}function Jc(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Xp(o,a){return!(o&Xe.Self||o&Xe.Host&&a)}class Nl{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return Xc(this._tNode,this._lView,a,h,u)}}function Jp(){return new Nl(ui(),Ee())}function no(o){return An(()=>{const a=o.prototype.constructor,u=a[Y]||eu(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const m=f[Y]||eu(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function eu(o){return Le(o)?()=>{const a=eu(X(o));return a&&a()}:bi(o)}function tu(o){const a=o[1],u=a.type;return 2===u?a.declTNode:1===u?o[6]:null}function nu(o){return function Ol(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if($d(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(ui(),o)}const Fl="__parameters__";function Ll(o,a,u){return An(()=>{const h=function em(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(a);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(I,S,M){const R=I.hasOwnProperty(Fl)?I[Fl]:Object.defineProperty(I,Fl,{value:[]})[Fl];for(;R.length<=M;)R.push(null);return(R[M]=R[M]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class yn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vn(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),vn(h,a)):a!==o&&a.push(h)}return a}function Ss(o,a){o.forEach(u=>Array.isArray(u)?Ss(u,a):a(u))}function Go(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function kn(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Wo(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function Ye(o,a,u){let h=ro(o,a);return h>=0?o[1|h]=u:(h=~h,function Oy(o,a,u,h){let f=o.length;if(f==a)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function Zd(o,a){const u=ro(o,a);if(u>=0)return o[1|u]}function ro(o,a){return function Qd(o,a,u){let h=0,f=o.length>>u;for(;f!==h;){const m=h+(f-h>>1),v=o[m<<u];if(a===v)return m<<u;v>a?f=m:h=m+1}return~(f<<u)}(o,a,1)}const oo={},th="__NG_DI_FLAG__",wi="ngTempTokenPath",rs=/\n/gm,Bn="__source";let lo;function co(o){const a=lo;return lo=o,a}function Yn(o,a=Xe.Default){if(void 0===lo)throw new be(-203,!1);return null===lo?hr(o,void 0,a):lo.get(o,a&Xe.Optional?null:void 0,a)}function At(o,a=Xe.Default){return(function ti(){return ki}()||Yn)(X(o),a)}function Jt(o,a=Xe.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),At(o,a)}function oi(o){const a=[];for(let u=0;u<o.length;u++){const h=X(o[u]);if(Array.isArray(h)){if(0===h.length)throw new be(900,!1);let f,m=Xe.Default;for(let v=0;v<h.length;v++){const C=h[v],I=sm(C);"number"==typeof I?-1===I?f=C.token:m|=I:f=C}a.push(At(f,m))}else a.push(At(h))}return a}function ss(o,a){return o[th]=a,o.prototype[th]=a,o}function sm(o){return o[th]}const pn=ss(Ll("Optional"),8),Ko=ss(Ll("SkipSelf"),4);let sh,Hl;function cm(o){sh=o}function As(o){return function ru(){if(void 0===Hl&&(Hl=null,xt.trustedTypes))try{Hl=xt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Hl}()?.createHTML(o)||o}class Jo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Na extends Jo{getTypeName(){return"HTML"}}class $l extends Jo{getTypeName(){return"Style"}}class ah extends Jo{getTypeName(){return"Script"}}class ou extends Jo{getTypeName(){return"URL"}}class lh extends Jo{getTypeName(){return"ResourceURL"}}function Fr(o){return o instanceof Jo?o.changingThisBreaksApplicationSecurity:o}function as(o,a){const u=function ch(o){return o instanceof Jo&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function dm(o){return new Na(o)}function Ly(o){return new $l(o)}function Vy(o){return new ah(o)}function By(o){return new ou(o)}function w(o){return new lh(o)}class y{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(As(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class E{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=As(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=As(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const k=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ee(o){return(o=String(o)).match(k)?o:"unsafe:"+o}function je(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function tt(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const Mt=je("area,br,col,hr,img,wbr"),In=je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lr=je("rp,rt"),xs=tt(Mt,tt(In,je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tt(Lr,je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tt(Lr,In)),ks=je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gl=je("srcset"),uo=tt(ks,Gl,je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),je("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hh=je("script,style,template");class fm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!xs.hasOwnProperty(u))return this.sanitizedSomething=!0,!hh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,C=v.toLowerCase();if(!uo.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=m.value;ks[C]&&(I=ee(I)),Gl[C]&&(o=I,I=(o=String(o)).split(",").map(a=>ee(a.trim())).join(", ")),this.buf.push(" ",v,'="',au(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();xs.hasOwnProperty(u)&&!Mt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(au(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const pm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fh=/([^\#-~ |!])/g;function au(o){return o.replace(/&/g,"&amp;").replace(pm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(fh,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fa;function cC(o,a){let u=null;try{Fa=Fa||function g(o){const a=new E(o);return function A(){try{return!!(new window.DOMParser).parseFromString(As(""),"text/html")}catch{return!1}}()?new y(a):a}(o);let h=a?String(a):"";u=Fa.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Fa.getInertBodyElement(h)}while(h!==m);return As((new fm).sanitizeChildren(ph(u)||u))}finally{if(u){const h=ph(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function ph(o){return"content"in o&&function xA(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function mh(o){const a=function gh(){const o=Ee();return o&&o[12]}();return a?a.sanitize(Zn.URL,o)||"":as(o,"URL")?Fr(o):ee(ae(o))}const Uy=new yn("ENVIRONMENT_INITIALIZER"),hC=new yn("INJECTOR",-1),fC=new yn("INJECTOR_DEF_TYPES");class pC{get(a,u=oo){if(u===oo){const h=new Error(`NullInjectorError: No provider for ${ve(a)}!`);throw h.name="NullInjectorError",h}return u}}function PA(...o){return{\u0275providers:Hy(0,o)}}function Hy(o,...a){const u=[],h=new Set;let f;return Ss(a,m=>{const v=m;gm(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&mC(f,u),u}function mC(o,a){for(let u=0;u<o.length;u++){const{providers:f}=o[u];Ss(f,m=>{a.push(m)})}}function gm(o,a,u,h){if(!(o=X(o)))return!1;let f=null,m=Qr(o);const v=!m&&L(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const I=o.ngModule;if(m=Qr(I),!m)return!1;f=I}const C=h.has(f);if(v){if(C)return!1;if(h.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)gm(S,a,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let S;h.add(f);try{Ss(m.imports,M=>{gm(M,a,u,h)&&(S||(S=[]),S.push(M))})}finally{}void 0!==S&&mC(S,a)}if(!C){const S=bi(f)||(()=>new f);a.push({provide:f,useFactory:S,deps:wt},{provide:fC,useValue:f,multi:!0},{provide:Uy,useValue:()=>At(f),multi:!0})}const I=m.providers;null==I||C||Ss(I,M=>{a.push(M)})}}return f!==o&&void 0!==o.providers}const jy=we({provide:String,useValue:we});function Rs(o){return null!==o&&"object"==typeof o&&jy in o}function Va(o){return"function"==typeof o}const ho=new yn("Set Injector scope."),_h={},FA={};let lu;function yh(){return void 0===lu&&(lu=new pC),lu}class na{}class zy extends na{constructor(a,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_m(a,v=>this.processProvider(v)),this.records.set(hC,uu(void 0,this)),f.has("environment")&&this.records.set(na,uu(void 0,this));const m=this.records.get(ho);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(fC.multi,wt,Xe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=co(this),h=mn(void 0);try{return a()}finally{co(u),mn(h)}}get(a,u=oo,h=Xe.Default){this.assertNotDestroyed();const f=co(this),m=mn(void 0);try{if(!(h&Xe.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function _C(o){return"function"==typeof o||"object"==typeof o&&o instanceof yn}(a)&&Mi(a);C=I&&this.injectableDefInScope(I)?uu(vh(a),_h):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(h&Xe.Self?yh():this.parent).get(a,u=h&Xe.Optional&&u===oo?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[wi]=v[wi]||[]).unshift(ve(a)),f)throw v;return function Py(o,a,u,h){const f=o[wi];throw a[Bn]&&f.unshift(a[Bn]),o.message=function Pr(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ve(a);if(Array.isArray(a))f=a.map(ve).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):ve(C)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(rs,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[wi]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{mn(m),co(f)}}resolveInjectorInitializers(){const a=co(this),u=mn(void 0);try{const h=this.get(Uy.multi,wt,Xe.Self);for(const f of h)f()}finally{co(a),mn(u)}}toString(){const a=[],u=this.records;for(const h of u.keys())a.push(ve(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(a){let u=Va(a=X(a))?a:X(a&&a.provide);const h=function LA(o){return Rs(o)?uu(void 0,o.useValue):uu(cu(o),_h)}(a);if(Va(a)||!0!==a.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=uu(void 0,_h,!0),f.factory=()=>oi(f.multi),this.records.set(u,f)),u=a,f.multi.push(a)}this.records.set(u,h)}hydrate(a,u){return u.value===_h&&(u.value=FA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Wy(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=X(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function vh(o){const a=Mi(o),u=null!==a?a.factory:bi(o);if(null!==u)return u;if(o instanceof yn)throw new be(204,!1);if(o instanceof Function)return function Gy(o){const a=o.length;if(a>0)throw Wo(a,"?"),new be(204,!1);const u=function Pn(o){const a=o&&(o[Xi]||o[ws]);if(a){const u=function qs(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new be(204,!1)}function cu(o,a,u){let h;if(Va(o)){const f=X(o);return bi(f)||vh(f)}if(Rs(o))h=()=>X(o.useValue);else if(function $y(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...oi(o.deps||[]));else if(function Wl(o){return!(!o||!o.useExisting)}(o))h=()=>At(X(o.useExisting));else{const f=X(o&&(o.useClass||o.provide));if(!function VA(o){return!!o.deps}(o))return bi(f)||vh(f);h=()=>new f(...oi(o.deps))}return h}function uu(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function yC(o){return!!o.\u0275providers}function _m(o,a){for(const u of o)Array.isArray(u)?_m(u,a):yC(u)?_m(u.\u0275providers,a):a(u)}class bC{}class BA{resolveComponentFactory(a){throw function bh(o){const a=Error(`No component factory found for ${ve(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ch=(()=>{class o{}return o.NULL=new BA,o})();function qy(){return ql(ui(),Ee())}function ql(o,a){return new ym(Bi(o,a))}let ym=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=qy,o})();function wL(o){return o instanceof ym?o.nativeElement:o}class UA{}let Yy=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function HA(){const o=Ee(),u=sn(ui().index,o);return(gi(u)?u:o)[11]}(),o})(),jA=(()=>{class o{}return o.\u0275prov=Qt({token:o,providedIn:"root",factory:()=>null}),o})();class CC{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const vm=new CC("14.2.1"),wr={};function Qy(o){return o.ngOriginalError}class wm{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Qy(a);for(;u&&Qy(u);)u=Qy(u);return u||null}}const Jy=new Map;let QA=0;const fu="__ngContext__";function Ui(o,a){gi(a)?(o[fu]=a[20],function JA(o){Jy.set(o[20],o)}(a)):o[fu]=a}function Ih(o){const a=o[fu];return"number"==typeof a?function TC(o){return Jy.get(o)||null}(a):a||null}function ev(o){const a=Ih(o);return a?gi(a)?a:a.lView:null}function ia(o){return o instanceof Function?o():o}var fo=(()=>((fo=fo||{})[fo.Important=1]="Important",fo[fo.DashCase=2]="DashCase",fo))();function Am(o,a){return undefined(o,a)}function mu(o){const a=o[3];return Ji(a)?a[3]:a}function sv(o){return NC(o[13])}function ov(o){return NC(o[4])}function NC(o){for(;null!==o&&!Ji(o);)o=o[4];return o}function gu(o,a,u,h,f){if(null!=h){let m,v=!1;Ji(h)?m=h:gi(h)&&(v=!0,h=h[0]);const C=Fn(h);0===o&&null!==u?null==f?VC(a,u,C):Kl(a,u,C,f||null,!0):1===o&&null!==u?Kl(a,u,C,f||null,!0):2===o?function Om(o,a,u){const h=hi(o,a);h&&function fM(o,a,u,h){o.removeChild(a,u,h)}(o,h,a,u)}(a,C,v):3===o&&a.destroyNode(C),null!=m&&function yu(o,a,u,h,f){const m=u[7];m!==Fn(u)&&gu(a,o,h,m,f);for(let C=10;C<u.length;C++){const I=u[C];Ba(I[1],I,o,a,h,m)}}(a,o,m,u,f)}}function Mm(o,a,u){return o.createElement(a,u)}function Ah(o,a){const u=o[9],h=u.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Il(f,-1)),u.splice(h,1)}function xm(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&Ah(f,h),a>0&&(o[u-1][4]=h[4]);const m=kn(o,10+a);!function FC(o,a){Ba(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function km(o,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&Ba(o,a,u,3,null,null),function lM(o){let a=o[13];if(!a)return Mh(o[1],o);for(;a;){let u=null;if(gi(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)gi(a)&&Mh(a[1],a),a=a[3];null===a&&(a=o),gi(a)&&Mh(a[1],a),u=a&&a[4]}a=u}}(a)}}function Mh(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function hM(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=a[u[h]];if(!(f instanceof yr)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],I=m[v+1];try{I.call(C)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function dM(o,a){const u=o.cleanup,h=a[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],C="function"==typeof v?v(a):Fn(a[v]),I=h[f=u[m+2]],S=u[m+3];"boolean"==typeof S?C.removeEventListener(u[m],I,S):S>=0?h[f=S]():h[f=-S].unsubscribe(),m+=2}else{const v=h[f=u[m+1]];u[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&Ji(a[3])){u!==a[3]&&Ah(u,a);const h=a[19];null!==h&&h.detachView(o)}!function AC(o){Jy.delete(o[20])}(a)}}function xh(o,a,u){return function LC(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===lt.None||f===lt.Emulated)return null}return Bi(h,u)}(o,a.parent,u)}function Kl(o,a,u,h,f){o.insertBefore(a,u,h,f)}function VC(o,a,u){o.appendChild(a,u)}function BC(o,a,u,h,f){null!==h?Kl(o,a,u,h,f):VC(o,a,u)}function hi(o,a){return o.parentNode(a)}function uv(o,a,u){return Rm(o,a,u)}let Rm=function _u(o,a,u){return 40&o.type?Bi(o,u):null};function kh(o,a,u,h){const f=xh(o,h,a),m=a[11],C=uv(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)BC(m,f,u[I],C,!1);else BC(m,f,u,C,!1)}function hv(o,a){if(null!==a){const u=a.type;if(3&u)return Bi(a,o);if(4&u)return fv(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return hv(o,h);{const f=o[a.index];return Ji(f)?fv(-1,f):Fn(f)}}if(32&u)return Am(a,o)()||Fn(o[a.index]);{const h=gM(o,a);return null!==h?Array.isArray(h)?h[0]:hv(mu(o[16]),h):hv(o,a.next)}}return null}function gM(o,a){return null!==a?o[16][6].projection[a.projection]:null}function fv(o,a){const u=10+o+1;if(u<a.length){const h=a[u],f=h[1].firstChild;if(null!==f)return hv(h,f)}return a[7]}function Pm(o,a,u,h,f,m,v){for(;null!=u;){const C=h[u.index],I=u.type;if(v&&0===a&&(C&&Ui(Fn(C),h),u.flags|=4),64!=(64&u.flags))if(8&I)Pm(o,a,u.child,h,f,m,!1),gu(a,o,f,C,m);else if(32&I){const S=Am(u,h);let M;for(;M=S();)gu(a,o,f,M,m);gu(a,o,f,C,m)}else 16&I?pv(o,a,h,u,f,m):gu(a,o,f,C,m);u=v?u.projectionNext:u.next}}function Ba(o,a,u,h,f,m){Pm(u,h,o.firstChild,a,f,m,!1)}function pv(o,a,u,h,f,m){const v=u[16],I=v[6].projection[h.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)gu(a,o,f,I[S],m);else Pm(o,a,I,v[3],f,m,!0)}function _M(o,a,u){o.setAttribute(a,"style",u)}function Nm(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function gv(o,a,u){let h=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===h||o.charCodeAt(f+m)<=32)return f}u=f+1}}const jC="ng-template";function yM(o,a,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==gv(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function $C(o){return 4===o.type&&o.value!==jC}function zC(o,a,u){return a===(4!==o.type||u?o.value:jC)}function vM(o,a,u){let h=4;const f=o.attrs||[],m=function wM(o){for(let a=0;a<o.length;a++)if($d(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&h){if(h=2|1&h,""!==I&&!zC(o,I,u)||""===I&&1===a.length){if(po(h))return!1;v=!0}}else{const S=8&h?I:a[++C];if(8&h&&null!==o.attrs){if(!yM(o.attrs,S,u)){if(po(h))return!1;v=!0}continue}const R=Fm(8&h?"class":I,f,$C(o),u);if(-1===R){if(po(h))return!1;v=!0;continue}if(""!==S){let z;z=R>m?"":f[R+1].toLowerCase();const te=8&h?z:null;if(te&&-1!==gv(te,S,0)||2&h&&S!==z){if(po(h))return!1;v=!0}}}}else{if(!v&&!po(h)&&!po(I))return!1;if(v&&po(I))continue;v=!1,h=I|1&h}}return po(h)||v}function po(o){return 0==(1&o)}function Fm(o,a,u,h){if(null===a)return-1;let f=0;if(h||!u){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function CM(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function bM(o,a,u=!1){for(let h=0;h<a.length;h++)if(vM(o,a[h],u))return!0;return!1}function WC(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function qC(o,a){return o?":not("+a.trim()+")":a}function EM(o){let a=o[0],u=1,h=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&h){const C=o[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!po(v)&&(a+=qC(m,f),f=""),h=v,m=m||!po(h);u++}return""!==f&&(a+=qC(m,f)),a}const kt={};function _v(o){YC($t(),Ee(),Mn()+o,!1)}function YC(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Wc(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Uo(a,m,0,u)}Ds(u)}function wu(o,a=null,u=null,h){const f=QC(o,a,u,h);return f.resolveInjectorInitializers(),f}function QC(o,a=null,u=null,h,f=new Set){const m=[u||wt,PA(o)];return h=h||("object"==typeof o?void 0:ve(o)),new zy(m,a||yh(),h||null,f)}let ls=(()=>{class o{static create(u,h){if(Array.isArray(u))return wu({name:""},h,u,"");{const f=u.name??"";return wu({name:f},u.parent,u.providers,f)}}}return o.THROW_IF_NOT_FOUND=oo,o.NULL=new pC,o.\u0275prov=Qt({token:o,providedIn:"any",factory:()=>At(hC)}),o.__NG_ELEMENT_ID__=-1,o})();function Vh(o,a=Xe.Default){const u=Ee();return null===u?At(o,a):Xc(ui(),u,X(o),a)}function OM(){throw new Error("invalid")}function Hm(o,a){return o<<17|a<<2}function go(o){return o>>17&32767}function tE(o){return 2|o}function Ha(o){return(131068&o)>>2}function nE(o,a){return-131069&o|a<<2}function iE(o){return 1|o}function zM(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const v=o.data[m];Od(f),v.contentQueries(2,a[m],m)}}}function wv(o,a,u,h,f,m,v,C,I,S,M){const R=a.blueprint.slice();return R[0]=f,R[2]=76|h,(null!==M||o&&1024&o[2])&&(R[2]|=1024),Dl(R),R[3]=R[15]=o,R[8]=u,R[10]=v||o&&o[10],R[11]=C||o&&o[11],R[12]=I||o&&o[12]||null,R[9]=S||o&&o[9]||null,R[6]=m,R[20]=function XA(){return QA++}(),R[21]=M,R[16]=2==a.type?o[16]:R,R}function Bh(o,a,u,h,f){let m=o.data[a];if(null===m)m=function uE(o,a,u,h,f){const m=Uc(),v=Md(),I=o.data[a]=function tV(o,a,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,a,h,f);return null===o.firstChild&&(o.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,a,u,h,f),function jp(){return Dt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const v=function Hc(){const o=Dt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return _r(m,!0),m}function Uh(o,a,u,h){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function Cv(o,a,u){zc(a);try{const h=o.viewQuery;null!==h&&Iv(1,h,u);const f=o.template;null!==f&&GM(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zM(o,a),o.staticViewQueries&&Iv(2,o.viewQuery,u);const m=o.components;null!==m&&function QL(o,a){for(let u=0;u<a.length;u++)rx(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Sa()}}function jm(o,a,u,h){const f=a[2];if(128!=(128&f)){zc(a);try{Dl(a),function Tl(o){return Dt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&GM(o,a,u,2,h);const v=3==(3&f);if(v){const S=o.preOrderCheckHooks;null!==S&&Wc(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Uo(a,S,0,null),Vd(a,0)}if(function jh(o){for(let a=sv(o);null!==a;a=ov(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(512&f[2])&&Il(m,1),f[2]|=512}}}(a),function Ev(o){for(let a=sv(o);null!==a;a=ov(a))for(let u=10;u<a.length;u++){const h=a[u],f=h[1];Qs(h)&&jm(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&zM(o,a),v){const S=o.contentCheckHooks;null!==S&&Wc(a,S)}else{const S=o.contentHooks;null!==S&&Uo(a,S,1),Vd(a,1)}!function ZL(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)Ds(~f);else{const m=f,v=u[++h],C=u[++h];$p(v,m),C(2,a[m])}}}finally{Ds(-1)}}(o,a);const C=o.components;null!==C&&function KL(o,a){for(let u=0;u<a.length;u++)zm(o,a[u])}(a,C);const I=o.viewQuery;if(null!==I&&Iv(2,I,h),v){const S=o.viewCheckHooks;null!==S&&Wc(a,S)}else{const S=o.viewHooks;null!==S&&Uo(a,S,2),Vd(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Il(a[3],-1))}finally{Sa()}}}function XL(o,a,u,h){const f=a[10],v=Hp(a);try{!v&&f.begin&&f.begin(),v&&Cv(o,a,h),jm(o,a,u,h)}finally{!v&&f.end&&f.end()}}function GM(o,a,u,h,f){const m=Mn(),v=2&h;try{Ds(-1),v&&a.length>22&&YC(o,a,22,!1),u(h,f)}finally{Ds(m)}}function WM(o,a,u){if(Cs(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function dE(o,a,u){!Sl()||(function oV(o,a,u,h){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||jo(u,a),Ui(h,a);const v=u.initialInputs;for(let C=f;C<m;C++){const I=o.data[C],S=Jr(I);S&&dV(a,u,I);const M=to(a,o,C,u);Ui(M,a),null!==v&&ix(0,C-f,M,I,0,v),S&&(sn(u.index,a)[8]=M)}}(o,a,u,Bi(u,a)),128==(128&u.flags)&&function aV(o,a,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,v=function nC(){return Dt.lFrame.currentDirectiveIndex}();try{Ds(m);for(let C=h;C<f;C++){const I=o.data[C],S=a[C];$c(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&JM(I,S)}}finally{Ds(-1),$c(v)}}(o,a,u))}function hE(o,a,u=Bi){const h=a.localNames;if(null!==h){let f=a.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],C=-1===v?u(a,o):o[v];o[f++]=C}}}function qM(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=fE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function fE(o,a,u,h,f,m,v,C,I,S){const M=22+h,R=M+f,z=function JL(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:kt);return u}(M,R),te="function"==typeof S?S():S;return z[1]={type:o,blueprint:z,template:u,queries:null,viewQuery:C,declTNode:a,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:te,incompleteFirstPass:!1}}function YM(o,a,u,h){const f=ai(a);null===u?f.push(h):(f.push(u),o.firstCreatePass&&yo(o).push(h,f.length-1))}function ZM(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,f):u[h]=[a,f]}return u}function KM(o,a){const h=a.directiveEnd,f=o.data,m=a.attrs,v=[];let C=null,I=null;for(let S=a.directiveStart;S<h;S++){const M=f[S],R=M.inputs,z=null===m||$C(a)?null:$m(R,m);v.push(z),C=ZM(R,S,C),I=ZM(M.outputs,S,I)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=I}function cs(o,a,u,h,f,m,v,C){const I=Bi(a,u);let M,S=a.inputs;!C&&null!=S&&(M=S[h])?(Av(o,u,M,h,f),wa(a)&&QM(u,a.index)):3&a.type&&(h=function nV(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=v?v(f,a.value||"",h):f,m.setProperty(I,h,f))}function QM(o,a){const u=sn(a,o);16&u[2]||(u[2]|=32)}function pE(o,a,u,h){let f=!1;if(Sl()){const m=function lV(o,a,u){const h=o.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];bM(u,v.selectors,!1)&&(f||(f=[]),Rl(jo(u,a),o,v.type),Jr(v)?(ex(o,u),f.unshift(v)):f.push(v))}return f}(o,a,u),v=null===h?null:{"":-1};if(null!==m){f=!0,tx(u,o.data.length,m.length);for(let M=0;M<m.length;M++){const R=m[M];R.providersResolver&&R.providersResolver(R)}let C=!1,I=!1,S=Uh(o,a,m.length,null);for(let M=0;M<m.length;M++){const R=m[M];u.mergedAttrs=xl(u.mergedAttrs,R.hostAttrs),nx(o,u,a,S,R),uV(S,R,v),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const z=R.type.prototype;!C&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),C=!0),!I&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),S++}KM(o,u)}v&&function cV(o,a,u){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new be(-301,!1);h.push(a[f],m)}}}(u,h,v)}return u.mergedAttrs=xl(u.mergedAttrs,u.attrs),f}function XM(o,a,u,h,f,m){const v=m.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const I=~a.index;(function sV(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(h,f,v)}}function JM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function ex(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function uV(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;Jr(a)&&(u[""]=o)}}function tx(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function nx(o,a,u,h,f){o.data[h]=f;const m=f.factory||(f.factory=bi(f.type)),v=new yr(m,Jr(f),Vh);o.blueprint[h]=v,u[h]=v,XM(o,a,0,h,Uh(o,u,f.hostVars,kt),f)}function dV(o,a,u){const h=Bi(a,o),f=qM(u),m=o[10],v=$h(o,wv(o,f,null,u.onPush?32:16,h,a,m,m.createRenderer(h,u),null,null,null));o[a.index]=v}function _o(o,a,u,h,f,m){const v=Bi(o,a);!function Os(o,a,u,h,f,m,v){if(null==m)o.removeAttribute(a,f,u);else{const C=null==v?ae(m):v(m,h||"",f);o.setAttribute(a,f,C,u)}}(a[11],v,m,o.value,u,h,f)}function ix(o,a,u,h,f,m){const v=m[a];if(null!==v){const C=h.setInput;for(let I=0;I<v.length;){const S=v[I++],M=v[I++],R=v[I++];null!==C?h.setInput(u,R,S,M):u[M]=R}}}function $m(o,a){let u=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],a[h+1])),h+=2}else h+=2;else h+=4}return u}function Hh(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function zm(o,a){const u=sn(a,o);if(Qs(u)){const h=u[1];48&u[2]?jm(h,u,h.template,u[8]):u[5]>0&&$a(u)}}function $a(o){for(let h=sv(o);null!==h;h=ov(h))for(let f=10;f<h.length;f++){const m=h[f];if(Qs(m))if(512&m[2]){const v=m[1];jm(v,m,v.template,m[8])}else m[5]>0&&$a(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=sn(u[h],o);Qs(f)&&f[5]>0&&$a(f)}}function rx(o,a){const u=sn(a,o),h=u[1];(function Gm(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),Cv(h,u,u[8])}function $h(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function zh(o){for(;o;){o[2]|=32;const a=mu(o);if(Nc(o)&&!a)return o;o=a}return null}function Iv(o,a,u){Od(0),a(o,u)}function ai(o){return o[7]||(o[7]=[])}function yo(o){return o.cleanup||(o.cleanup=[])}function mE(o,a,u){return(null===o||Jr(o))&&(u=function Bp(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}function Tv(o,a){const u=o[9],h=u?u.get(wm,null):null;h&&h.handleError(a)}function Av(o,a,u,h,f){for(let m=0;m<u.length;){const v=u[m++],C=u[m++],I=a[v],S=o.data[v];null!==S.setInput?S.setInput(I,f,h,C):I[C]=f}}function aa(o,a,u){const h=Cl(a,o);!function lv(o,a,u){o.setValue(a,u)}(o[11],h,u)}function Gh(o,a,u){let h=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?m=C:1==m?f=Pe(f,C):2==m&&(h=Pe(h,C+": "+a[++v]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}function Mv(o,a,u,h,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(Fn(m)),Ji(m))for(let C=10;C<m.length;C++){const I=m[C],S=I[1].firstChild;null!==S&&Mv(I[1],I,S,h)}const v=u.type;if(8&v)Mv(o,a,u.child,h);else if(32&v){const C=Am(u,a);let I;for(;I=C();)h.push(I)}else if(16&v){const C=gM(a,u);if(Array.isArray(C))h.push(...C);else{const I=mu(a[16]);Mv(I[1],I,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Eu{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Mv(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ji(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(xm(a,h),kn(u,h))}this._attachedToViewContainer=!1}km(this._lView[1],this._lView)}onDestroy(a){YM(this._lView[1],this._lView,null,a)}markForCheck(){zh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Wm(o,a,u){const h=a[10];h.begin&&h.begin();try{jm(o,a,o.template,u)}catch(f){throw Tv(a,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aM(o,a){Ba(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=a}}class Du extends Eu{constructor(a){super(a),this._view=a}detectChanges(){!function bn(o){!function sx(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=ev(u);if(null!==h){const f=h[1];XL(f,h,f.template,u)}}}(o[8])}(this._view)}checkNoChanges(){}get context(){return null}}class xv extends Ch{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=L(a);return new Iu(u,this.ngModule)}}function gE(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class _E{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,h){const f=this.injector.get(a,wr,h);return f!==wr||u===wr?f:this.parentInjector.get(a,u,h)}}class Iu extends bC{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function DM(o){return o.map(EM).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return gE(this.componentDef.inputs)}get outputs(){return gE(this.componentDef.outputs)}create(a,u,h,f){let m=(f=f||this.ngModule)instanceof na?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new _E(a,m):a,C=v.get(UA,null);if(null===C)throw new be(407,!1);const I=v.get(jA,null),S=C.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=h?function eV(o,a,u){return o.selectRootElement(a,u===lt.ShadowDom)}(S,h,this.componentDef.encapsulation):Mm(C.createRenderer(null,this.componentDef),M,function ox(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),z=this.componentDef.onPush?288:272,te={components:[]},me=fE(0,null,null,1,0,null,null,null,null,null),Me=wv(null,me,te,z,null,null,C,S,I,v,null);let $e,qe;zc(Me);try{const vt=function qm(o,a,u,h,f,m){const v=u[1];u[22]=o;const I=Bh(v,22,2,"#host",null),S=I.mergedAttrs=a.hostAttrs;null!==S&&(Gh(I,S,!0),null!==o&&(Is(f,o,S),null!==I.classes&&Nm(f,o,I.classes),null!==I.styles&&_M(f,o,I.styles)));const M=h.createRenderer(o,a),R=wv(u,qM(a),null,a.onPush?32:16,u[22],I,h,M,m||null,null,null);return v.firstCreatePass&&(Rl(jo(I,u),v,a.type),ex(v,I),tx(I,u.length,1)),$h(u,R),u[22]=R}(R,this.componentDef,Me,C,S);if(R)if(h)Is(S,R,["ng-version",vm.full]);else{const{attrs:Ie,classes:ct}=function IM(o){const a=[],u=[];let h=1,f=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++h]):8===f&&u.push(m);else{if(!po(f))break;f=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Ie&&Is(S,R,Ie),ct&&ct.length>0&&Nm(S,R,ct.join(" "))}if(qe=El(me,22),void 0!==u){const Ie=qe.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Wt=u[ct];Ie.push(null!=Wt?Array.from(Wt):null)}}$e=function pV(o,a,u,h,f){const m=u[1],v=function rV(o,a,u){const h=ui();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),nx(o,h,a,Uh(o,a,1,null),u),KM(o,h));const f=to(a,o,h.directiveStart,h);Ui(f,a);const m=Bi(h,a);return m&&Ui(m,a),f}(m,u,a);if(h.components.push(v),o[8]=v,null!==f)for(const I of f)I(v,a);if(a.contentQueries){const I=ui();a.contentQueries(1,v,I.directiveStart)}const C=ui();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ds(C.index),XM(u[1],C,0,C.directiveStart,C.directiveEnd,a),JM(a,v)),v}(vt,this.componentDef,Me,te,[Ym]),Cv(me,Me,null)}finally{Sa()}return new cx(this.componentType,$e,ql(qe,Me),Me,qe)}}class cx extends class vC{}{constructor(a,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Du(f),this.componentType=a}setInput(a,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[a])){const m=this._rootLView;Av(m[1],m,f,a,u),QM(m,this._tNode.index)}}get injector(){return new Nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Ym(){const o=ui();Gc(Ee()[1],o)}function kv(o){let a=function Zm(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let f;if(Jr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new be(903,!1);f=a.\u0275dir}if(f){if(u){h.push(f);const v=o;v.inputs=Km(o.inputs),v.declaredInputs=Km(o.declaredInputs),v.outputs=Km(o.outputs);const C=f.hostBindings;C&&dx(o,C);const I=f.viewQuery,S=f.contentQueries;if(I&&ux(o,I),S&&mV(o,S),de(o.inputs,f.inputs),de(o.declaredInputs,f.declaredInputs),de(o.outputs,f.outputs),Jr(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(o),C===kv&&(u=!1)}}a=Object.getPrototypeOf(a)}!function Rv(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=xl(f.hostAttrs,u=xl(u,f.hostAttrs))}}(h)}function Km(o){return o===Oi?{}:o===wt?[]:o}function ux(o,a){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{a(h,f),u(h,f)}:a}function mV(o,a){const u=o.contentQueries;o.contentQueries=u?(h,f,m)=>{a(h,f,m),u(h,f,m)}:a}function dx(o,a){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{a(h,f),u(h,f)}:a}let Qm=null;function tc(){if(!Qm){const o=xt.Symbol;if(o&&o.iterator)Qm=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Qm=h)}}}return Qm}function qh(o){return!!Xm(o)&&(Array.isArray(o)||!(o instanceof Map)&&tc()in o)}function Xm(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Hi(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function bE(o,a,u,h){const f=Ee();return Hi(f,Al(),a)&&($t(),_o(xn(),f,o,a,u,h)),bE}function Qh(o,a,u,h,f,m){const C=function nc(o,a,u,h){const f=Hi(o,a,u);return Hi(o,a+1,h)||f}(o,function ts(){return Dt.lFrame.bindingIndex}(),u,f);return Js(2),C?a+ae(u)+h+ae(f)+m:kt}function Ov(o,a,u,h,f,m,v,C){const I=Ee(),S=$t(),M=o+22,R=S.firstCreatePass?function vx(o,a,u,h,f,m,v,C,I){const S=a.consts,M=Bh(a,o,4,v||null,es(S,C));pE(a,u,M,es(S,I)),Gc(a,M);const R=M.tViews=fE(2,M,h,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,M),R.queries=a.queries.embeddedTView(M)),M}(M,S,I,a,u,h,f,m,v):S.data[M];_r(R,!1);const z=I[11].createComment("");kh(S,I,z,R),Ui(z,I),$h(I,I[M]=Hh(z,I,z,R)),Ca(R)&&dE(S,I,R),null!=v&&hE(I,R,C)}function Jm(o){return Ks(function xd(){return Dt.lFrame.contextLView}(),22+o)}function eg(o,a,u){const h=Ee();return Hi(h,Al(),a)&&cs($t(),xn(),h,o,a,h[11],u,!1),eg}function ef(o,a,u,h,f){const v=f?"class":"style";Av(o,u,a.inputs[v],v,h)}function tg(o,a,u,h){const f=Ee(),m=$t(),v=22+o,C=f[11],I=f[v]=Mm(C,a,function Fd(){return Dt.lFrame.currentNamespace}()),S=m.firstCreatePass?function bx(o,a,u,h,f,m,v){const C=a.consts,S=Bh(a,o,2,f,es(C,m));return pE(a,u,S,es(C,v)),null!==S.attrs&&Gh(S,S.attrs,!1),null!==S.mergedAttrs&&Gh(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(v,m,f,0,a,u,h):m.data[v];_r(S,!0);const M=S.mergedAttrs;null!==M&&Is(C,I,M);const R=S.classes;null!==R&&Nm(C,I,R);const z=S.styles;return null!==z&&_M(C,I,z),64!=(64&S.flags)&&kh(m,f,I,S),0===function Sd(){return Dt.lFrame.elementDepthCount}()&&Ui(I,f),function fy(){Dt.lFrame.elementDepthCount++}(),Ca(S)&&(dE(m,f,S),WM(m,S,f)),null!==h&&hE(f,S),tg}function ng(){let o=ui();Md()?jc():(o=o.parent,_r(o,!1));const a=o;!function Td(){Dt.lFrame.elementDepthCount--}();const u=$t();return u.firstCreatePass&&(Gc(u,o),Cs(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function qc(o){return 0!=(16&o.flags)}(a)&&ef(u,a,Ee(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Yc(o){return 0!=(32&o.flags)}(a)&&ef(u,a,Ee(),a.stylesWithoutHost,!1),ng}function Pv(o,a,u,h){return tg(o,a,u,h),ng(),Pv}function tf(o,a,u){const h=Ee(),f=$t(),m=o+22,v=f.firstCreatePass?function sc(o,a,u,h,f){const m=a.consts,v=es(m,h),C=Bh(a,o,8,"ng-container",v);return null!==v&&Gh(C,v,!0),pE(a,u,C,es(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,h,a,u):f.data[m];_r(v,!0);const C=h[m]=h[11].createComment("");return kh(f,h,C,v),Ui(C,h),Ca(v)&&(dE(f,h,v),WM(f,v,h)),null!=u&&hE(h,v),tf}function ig(){let o=ui();const a=$t();return Md()?jc():(o=o.parent,_r(o,!1)),a.firstCreatePass&&(Gc(a,o),Cs(o)&&a.queries.elementEnd(o)),ig}function SE(){return Ee()}function oc(o){return!!o&&"function"==typeof o.then}function TE(o){return!!o&&"function"==typeof o.subscribe}const AE=TE;function Nv(o,a,u,h){const f=Ee(),m=$t(),v=ui();return rg(m,f,f[11],v,o,a,0,h),Nv}function ME(o,a){const u=ui(),h=Ee(),f=$t();return rg(f,h,mE(kd(f.data),u,h),u,o,a),ME}function rg(o,a,u,h,f,m,v,C){const I=Ca(h),M=o.firstCreatePass&&yo(o),R=a[8],z=ai(a);let te=!0;if(3&h.type||C){const $e=Bi(h,a),qe=C?C($e):$e,vt=z.length,Ie=C?Wt=>C(Fn(Wt[h.index])):h.index;let ct=null;if(!C&&I&&(ct=function wx(o,a,u,h){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===h){const C=a[7],I=f[m+2];return C.length>I?C[I]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,h.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=m,ct.__ngLastListenerFn__=m,te=!1;else{m=Fv(h,a,R,m,!1);const Wt=u.listen(qe,f,m);z.push(m,Wt),M&&M.push(f,Ie,vt,vt+1)}}else m=Fv(h,a,R,m,!1);const me=h.outputs;let Me;if(te&&null!==me&&(Me=me[f])){const $e=Me.length;if($e)for(let qe=0;qe<$e;qe+=2){const Sn=a[Me[qe]][Me[qe+1]].subscribe(m),ir=z.length;z.push(m,Sn),M&&M.push(f,h.index,ir,-(ir+1))}}}function nf(o,a,u,h){try{return!1!==u(h)}catch(f){return Tv(o,f),!1}}function Fv(o,a,u,h,f){return function m(v){if(v===Function)return h;zh(2&o.flags?sn(o.index,a):a);let I=nf(a,0,h,v),S=m.__ngNextListenerFn__;for(;S;)I=nf(a,0,S,v)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function xE(o=1){return function Bo(o){return(Dt.lFrame.contextLView=function by(o,a){for(;o>0;)a=a[15],o--;return a}(o,Dt.lFrame.contextLView))[8]}(o)}function yV(o,a){let u=null;const h=function GC(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===h?bM(o,m,!0):WC(h,m))return f}else u=f}return u}function kE(o){const a=Ee()[16][6];if(!a.projection){const h=a.projection=Wo(o?o.length:1,null),f=h.slice();let m=a.child;for(;null!==m;){const v=o?yV(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function RE(o,a=0,u){const h=Ee(),f=$t(),m=Bh(f,22+o,16,null,u||null);null===m.projection&&(m.projection=a),jc(),64!=(64&m.flags)&&function kL(o,a,u){pv(a[11],0,a,u,xh(o,u,a),uv(u.parent||a[6],u,a))}(f,h,m)}function LE(o,a,u,h,f){const m=o[u+1],v=null===a;let C=h?go(m):Ha(m),I=!1;for(;0!==C&&(!1===I||v);){const M=o[C+1];ds(o[C],a)&&(I=!0,o[C+1]=h?iE(M):tE(M)),C=h?go(M):Ha(M)}I&&(o[u+1]=h?tE(m):iE(m))}function ds(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ro(o,a)>=0}function BE(o,a,u){return bo(o,a,u,!1),BE}function UE(o,a){return bo(o,a,null,!0),UE}function bo(o,a,u,h){const f=Ee(),m=$t(),v=Js(2);m.firstUpdatePass&&function Mx(o,a,u,h){const f=o.data;if(null===f[u+1]){const m=f[Mn()],v=function jv(o,a){return a>=o.expandoStartIndex}(o,u);(function Rx(o,a){return 0!=(o.flags&(a?16:32))})(m,h)&&null===a&&!v&&(a=!1),a=function IV(o,a,u,h){const f=kd(o);let m=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(u=ac(u=HE(null,o,a,u,h),a.attrs,h),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(u=HE(f,o,a,u,h),null===m){let I=function SV(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==Ha(h))return o[go(h)]}(o,a,h);void 0!==I&&Array.isArray(I)&&(I=HE(null,o,a,I[1],h),I=ac(I,a.attrs,h),function TV(o,a,u,h){o[go(u?a.classBindings:a.styleBindings)]=h}(o,a,h,I))}else m=function AV(o,a,u){let h;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)h=ac(h,o[m].hostAttrs,u);return ac(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,h),function Ex(o,a,u,h,f,m){let v=m?a.classBindings:a.styleBindings,C=go(v),I=Ha(v);o[h]=u;let M,S=!1;if(Array.isArray(u)){const R=u;M=R[1],(null===M||ro(R,M)>0)&&(S=!0)}else M=u;if(f)if(0!==I){const z=go(o[C+1]);o[h+1]=Hm(z,C),0!==z&&(o[z+1]=nE(o[z+1],h)),o[C+1]=function LL(o,a){return 131071&o|a<<17}(o[C+1],h)}else o[h+1]=Hm(C,0),0!==C&&(o[C+1]=nE(o[C+1],h)),C=h;else o[h+1]=Hm(I,0),0===C?C=h:o[I+1]=nE(o[I+1],h),I=h;S&&(o[h+1]=tE(o[h+1])),LE(o,M,h,!0),LE(o,M,h,!1),function Dx(o,a,u,h,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&ro(m,a)>=0&&(u[h+1]=iE(u[h+1]))}(a,M,o,h,m),v=Hm(C,I),m?a.classBindings=v:a.styleBindings=v}(f,m,a,u,v,h)}}(m,o,v,h),a!==kt&&Hi(f,v,a)&&function lg(o,a,u,h,f,m,v,C){if(!(3&a.type))return;const I=o.data,S=I[C+1];cg(function FM(o){return 1==(1&o)}(S)?kx(I,a,u,f,Ha(S),v):void 0)||(cg(m)||function NM(o){return 2==(2&o)}(S)&&(m=kx(I,null,u,f,C,v)),function mv(o,a,u,h,f){if(a)f?o.addClass(u,h):o.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:fo.DashCase;null==f?o.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=fo.Important),o.setStyle(u,h,f,m))}}(h,v,Cl(Mn(),u),f,m))}(m,m.data[Mn()],f,f[11],o,f[v+1]=function MV(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ve(Fr(o)))),o}(a,u),h,v)}function HE(o,a,u,h,f){let m=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(m=a[C],h=ac(h,m.hostAttrs,f),m!==o);)C++;return null!==o&&(u.directiveStylingLast=C),h}function ac(o,a,u){const h=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ye(o,v,!!u||a[++m]))}return void 0===o?null:o}function kx(o,a,u,h,f,m){const v=null===a;let C;for(;f>0;){const I=o[f],S=Array.isArray(I),M=S?I[1]:I,R=null===M;let z=u[f+1];z===kt&&(z=R?wt:void 0);let te=R?Zd(z,h):M===h?z:void 0;if(S&&!cg(te)&&(te=Zd(I,h)),cg(te)&&(C=te,v))return C;const me=o[f+1];f=v?go(me):Ha(me)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(C=Zd(I,h))}return C}function cg(o){return void 0!==o}function Ox(o,a=""){const u=Ee(),h=$t(),f=o+22,m=h.firstCreatePass?Bh(h,f,1,a,null):h.data[f],v=u[f]=function av(o,a){return o.createText(a)}(u[11],a);kh(h,u,v,m),_r(m,!1)}function lc(o){return $v("",o,""),lc}function $v(o,a,u){const h=Ee(),f=function Kh(o,a,u,h){return Hi(o,Al(),u)?a+ae(u)+h:kt}(h,o,a,u);return f!==kt&&aa(h,Mn(),f),$v}function cc(o,a,u,h,f){const m=Ee(),v=Qh(m,o,a,u,h,f);return v!==kt&&aa(m,Mn(),v),cc}function Cr(o,a,u){const h=Ee();return Hi(h,Al(),a)&&cs($t(),xn(),h,o,a,h[11],u,!0),Cr}function QE(o,a,u){const h=Ee();if(Hi(h,Al(),a)){const m=$t(),v=xn();cs(m,v,h,o,a,mE(kd(m.data),v,h),u,!0)}return QE}const uc=void 0;var NV=["en",[["a","p"],["AM","PM"],uc],[["AM","PM"],uc,uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uc,"{1} 'at' {0}",uc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PV(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let ku={};function dc(o){const a=function Kv(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=af(a);if(u)return u;const h=a.split("-")[0];if(u=af(h),u)return u;if("en"===h)return NV;throw new be(701,!1)}function XE(o){return dc(o)[_t.PluralCase]}function af(o){return o in ku||(ku[o]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[o]),ku[o]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const Ru="en-US";let tD=Ru;function ff(o,a,u,h,f){if(o=X(o),Array.isArray(o))for(let m=0;m<o.length;m++)ff(o[m],a,u,h,f);else{const m=$t(),v=Ee();let C=Va(o)?o:X(o.provide),I=cu(o);const S=ui(),M=1048575&S.providerIndexes,R=S.directiveStart,z=S.providerIndexes>>20;if(Va(o)||!o.multi){const te=new yr(I,f,Vh),me=ab(C,a,f?M:M+z,R);-1===me?(Rl(jo(S,v),m,C),ob(m,o,a.length),a.push(C),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),u.push(te),v.push(te)):(u[me]=te,v[me]=te)}else{const te=ab(C,a,M+z,R),me=ab(C,a,M,M+z),Me=te>=0&&u[te],$e=me>=0&&u[me];if(f&&!$e||!f&&!Me){Rl(jo(S,v),m,C);const qe=function pf(o,a,u,h,f){const m=new yr(o,u,Vh);return m.multi=[],m.index=a,m.componentProviders=0,fc(m,f,h&&!u),m}(f?mk:gg,u.length,f,h,I);!f&&$e&&(u[me].providerFactory=qe),ob(m,o,a.length,0),a.push(C),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),u.push(qe),v.push(qe)}else ob(m,o,te>-1?te:me,fc(u[f?me:te],I,!f&&h));!f&&h&&$e&&u[me].componentProviders++}}}function ob(o,a,u,h){const f=Va(a),m=function NA(o){return!!o.useClass}(a);if(f||m){const I=(m?X(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const M=S.indexOf(u);-1===M?S.push(u,[h,I]):S[M+1].push(h,I)}else S.push(u,I)}}}function fc(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function ab(o,a,u,h){for(let f=u;f<h;f++)if(a[f]===o)return f;return-1}function gg(o,a,u,h){return lb(this.multi,[])}function mk(o,a,u,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=to(u,u[1],this.providerFactory.index,h);m=C.slice(0,v),lb(f,m);for(let I=v;I<C.length;I++)m.push(C[I])}else m=[],lb(f,m);return m}function lb(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function gD(o,a=[]){return u=>{u.providersResolver=(h,f)=>function mD(o,a,u){const h=$t();if(h.firstCreatePass){const f=Jr(o);ff(u,h.data,h.blueprint,f,!0),ff(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class Ou{}class _D{}function yD(o,a){return new vD(o,a??null)}class vD extends Ou{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new xv(this);const h=dt(a);this._bootstrapComponents=ia(h.bootstrap),this._r3Injector=QC(a,u,[{provide:Ou,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],ve(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class cb extends _D{constructor(a){super(),this.moduleType=a}create(a){return new vD(this.moduleType,a)}}class gk extends Ou{constructor(a,u,h){super(),this.componentFactoryResolver=new xv(this),this.instance=null;const f=new zy([...a,{provide:Ou,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],u||yh(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function ub(o,a,u=null){return new gk(o,a,u).injector}let _g=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Hy(0,u.type),f=h.length>0?ub([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Qt({token:o,providedIn:"environment",factory:()=>new o(At(na))}),o})();function bD(o){o.getStandaloneInjector=a=>a.get(_g).getOrCreateStandaloneInjector(o)}function TD(o,a,u,h){return wg(Ee(),ri(),o,a,u,h)}function wg(o,a,u,h,f,m){const v=a+u;return Hi(o,v,f)?function vo(o,a,u){return o[a]=u}(o,v+1,m?h.call(m,f):h(f)):function pc(o,a){const u=o[a];return u===kt?void 0:u}(o,v+1)}function xD(o,a){const u=$t();let h;const f=o+22;u.firstCreatePass?(h=function Ik(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=bi(h.type)),v=mn(Vh);try{const C=Zc(!1),I=m();return Zc(C),function DE(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,Ee(),f,I),I}finally{mn(v)}}function Dg(o,a,u){const h=o+22,f=Ee(),m=Ks(f,h);return function mf(o,a){return o[1].data[a].pure}(f,h)?wg(f,ri(),a,m.transform,u,m):m.transform(u)}function Qa(o){return a=>{setTimeout(o,void 0,a)}}const tr=class Ak extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){let f=a,m=u||(()=>null),v=h;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=Qa(m),f&&(f=Qa(f)),v&&(v=Qa(v)));const C=super.subscribe({next:f,error:m,complete:v});return a instanceof V.w0&&a.add(C),C}};function RD(){return this._results[tc()]()}class Ig{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=tc(),h=Ig.prototype;h[u]||(h[u]=RD)}get changes(){return this._changes||(this._changes=new tr)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const f=vn(a);(this._changesDetected=!function ft(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],m=a[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gf=(()=>{class o{}return o.__NG_ELEMENT_ID__=mc,o})();const OD=gf,Mk=class extends OD{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a,u){const h=this._declarationTContainer.tViews,f=wv(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),Cv(h,f,a),new Eu(f)}};function mc(){return _f(ui(),Ee())}function _f(o,a){return 4&o.type?new Mk(a,o,ql(o,a)):null}let yf=(()=>{class o{}return o.__NG_ELEMENT_ID__=xk,o})();function xk(){return bf(ui(),Ee())}const kk=yf,Xa=class extends kk{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new Nl(this._hostTNode,this._hostLView)}get parentInjector(){const a=kl(this._hostTNode,this._hostLView);if(Iy(a)){const u=eo(a,this._hostLView),h=Ho(a);return new Nl(u[1].data[h+8],u)}return new Nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Sg(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=a.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(a,u,h,f,m){const v=a&&!function ns(o){return"function"==typeof o}(a);let C;if(v)C=u;else{const R=u||{};C=R.index,h=R.injector,f=R.projectableNodes,m=R.environmentInjector||R.ngModuleRef}const I=v?a:new Iu(L(a)),S=h||this.parentInjector;if(!m&&null==I.ngModule){const z=(v?S:this.parentInjector).get(na,null);z&&(m=z)}const M=I.create(S,f,void 0,m);return this.insert(M.hostView,C),M}insert(a,u){const h=a._lView,f=h[1];if(function hy(o){return Ji(o[3])}(h)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const R=h[3],z=new Xa(R,R[6],R[3]);z.detach(z.indexOf(a))}}const m=this._adjustIndex(u),v=this._lContainer;!function cM(o,a,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=a),h<m-10?(a[4]=u[f],Go(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function uM(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(f,h,v,m);const C=fv(m,v),I=h[11],S=hi(I,v[7]);return null!==S&&function xL(o,a,u,h,f,m){h[0]=f,h[6]=a,Ba(o,h,u,1,f,m)}(f,v[6],I,h,S,C),a.attachToViewContainerRef(),Go(vf(v),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Sg(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=xm(this._lContainer,u);h&&(kn(vf(this._lContainer),u),km(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=xm(this._lContainer,u);return h&&null!=kn(vf(this._lContainer),u)?new Eu(h):null}_adjustIndex(a,u=0){return a??this.length+u}};function Sg(o){return o[8]}function vf(o){return o[8]||(o[8]=[])}function bf(o,a){let u;const h=a[o.index];if(Ji(h))u=h;else{let f;if(8&o.type)f=Fn(h);else{const m=a[11];f=m.createComment("");const v=Bi(o,a);Kl(m,hi(m,v),f,function mM(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=u=Hh(h,a,f,o),$h(a,u)}return new Xa(u,o,a)}class gc{constructor(a){this.queryList=a,this.matches=null}clone(){return new gc(this.queryList)}setDirty(){this.queryList.setDirty()}}class wf{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new wf(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Og(a,u).matches&&this.queries[u].setDirty()}}class Tg{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class Cf{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Cf(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class _b{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new _b(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(a,u,Rk(u,m)),this.matchTNodeWithReadOption(a,u,Pl(u,a,m,!1,!1))}else h===gf?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Pl(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===ym||f===yf||f===gf&&4&u.type)this.addMatch(u.index,-2);else{const m=Pl(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Rk(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function yb(o,a,u,h){return-1===u?function Ok(o,a){return 11&o.type?ql(o,a):4&o.type?_f(o,a):null}(a,o):-2===u?function Pk(o,a,u){return u===ym?ql(a,o):u===gf?_f(a,o):u===yf?bf(a,o):void 0}(o,a,h):to(o,o[1],u,a)}function Ag(o,a,u,h){const f=a[19].queries[h];if(null===f.matches){const m=o.data,v=u.matches,C=[];for(let I=0;I<v.length;I+=2){const S=v[I];C.push(S<0?null:yb(a,m[S],v[I+1],u.metadata.read))}f.matches=C}return f.matches}function Mg(o,a,u,h){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=Ag(o,a,f,u);for(let C=0;C<m.length;C+=2){const I=m[C];if(I>0)h.push(v[C/2]);else{const S=m[C+1],M=a[-I];for(let R=10;R<M.length;R++){const z=M[R];z[17]===z[3]&&Mg(z[1],z,S,h)}if(null!==M[9]){const R=M[9];for(let z=0;z<R.length;z++){const te=R[z];Mg(te[1],te,S,h)}}}}}return h}function vb(o){const a=Ee(),u=$t(),h=Rd();Od(h+1);const f=Og(u,h);if(o.dirty&&Hp(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Mg(u,a,h,[]):Ag(u,a,f,h);o.reset(m,wL),o.notifyOnChanges()}return!0}return!1}function ND(o,a,u){const h=$t();h.firstCreatePass&&(Rg(h,new Tg(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),kg(h,Ee(),a)}function FD(o,a,u,h){const f=$t();if(f.firstCreatePass){const m=ui();Rg(f,new Tg(a,u,h),m.index),function Fk(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}kg(f,Ee(),u)}function xg(){return function Nk(o,a){return o[19].queries[a].queryList}(Ee(),Rd())}function kg(o,a,u){const h=new Ig(4==(4&u));YM(o,a,h,h.destroy),null===a[19]&&(a[19]=new wf),a[19].queries.push(new gc(h))}function Rg(o,a,u){null===o.queries&&(o.queries=new Cf),o.queries.track(new _b(a,u))}function Og(o,a){return o.queries.getByIndex(a)}function Hg(...o){}const el=new yn("Application Initializer");let jg=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Hg,this.reject=Hg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(oc(m))u.push(m);else if(AE(m)){const v=new Promise((C,I)=>{m.subscribe({complete:C,error:I})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(At(el,8))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const YD=new yn("AppId",{providedIn:"root",factory:function ZD(){return`${Tb()}${Tb()}${Tb()}`}});function Tb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KD=new yn("Platform Initializer"),pB=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$g=new yn("appBootstrapListener"),Ab=new yn("AnimationModuleType");let eR=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Df=new yn("LocaleId",{providedIn:"root",factory:()=>Jt(Df,Xe.Optional|Xe.SkipSelf)||function tR(){return typeof $localize<"u"&&$localize.locale||Ru}()}),nR=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rR{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let yB=(()=>{class o{compileModuleSync(u){return new cb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=ia(dt(u).declarations).reduce((v,C)=>{const I=L(C);return I&&v.push(new Iu(I)),v},[]);return new rR(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Mb=(()=>Promise.resolve(0))();function xb(o){typeof Zone>"u"?Mb.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class fs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tr(!1),this.onMicrotaskEmpty=new tr(!1),this.onStable=new tr(!1),this.onError=new tr(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function aR(){let o=xt.requestAnimationFrame,a=xt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function XD(o){const a=()=>{!function kb(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(xt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Sf(o),o.isCheckStableRunning=!0,If(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Sf(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,v,C)=>{try{return Gg(o),u.invokeTask(f,m,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Wg(o)}},onInvoke:(u,h,f,m,v,C,I)=>{try{return Gg(o),u.invoke(f,m,v,C,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),Wg(o)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Sf(o),If(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fs.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(fs.isInAngularZone())throw new be(909,!1)}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,yc,Hg,Hg);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const yc={};function If(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Sf(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Gg(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Wg(o){o._nesting--,If(o)}class lR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tr,this.onMicrotaskEmpty=new tr,this.onStable=new tr,this.onError=new tr}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,f){return a.apply(u,h)}}const qg=new yn(""),Yg=new yn("");let Tf,cR=(()=>{class o{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tf||(function uR(o){Tf=o}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fs.assertNotInAngularZone(),xb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(At(fs),At(Di),At(Yg))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac}),o})(),Di=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Tf?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),nl=null;const Zg=new yn("AllowMultipleToken"),Kg=new yn("PlatformDestroyListeners");class eI{constructor(a,u){this.name=a,this.token=u}}function Xg(o,a,u=[]){const h=`Platform: ${a}`,f=new yn(h);return(m=[])=>{let v=Af();if(!v||v.injector.get(Zg,!1)){const C=[...u,...m,{provide:f,useValue:!0}];o?o(C):function dR(o){if(nl&&!nl.get(Zg,!1))throw new be(400,!1);nl=o;const a=o.get(tI);(function Qg(o){const a=o.get(KD,null);a&&a.forEach(u=>u())})(o)}(function Jg(o=[],a){return ls.create({name:a,providers:[{provide:ho,useValue:"platform"},{provide:Kg,useValue:new Set([()=>nl=null])},...o]})}(C,h))}return function pR(o){const a=Af();if(!a)throw new be(401,!1);return a}()}}function Af(){return nl?.get(tI)??null}let tI=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function nI(o,a){let u;return u="noop"===o?new lR:("zone.js"===o?void 0:o)||new fs(a),u}(h?.ngZone,function e_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:fs,useValue:f}];return f.run(()=>{const v=ls.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(v),I=C.injector.get(wm,null);if(!I)throw new be(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:M=>{I.handleError(M)}});C.onDestroy(()=>{n_(this._modules,C),S.unsubscribe()})}),function Pb(o,a,u){try{const h=u();return oc(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(I,f,()=>{const S=C.injector.get(jg);return S.runInitializers(),S.donePromise.then(()=>(function Qv(o){zt(o,"Expected localeId to be defined"),"string"==typeof o&&(tD=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Df,Ru)||Ru),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const f=iI({},h);return function Rb(o,a,u){const h=new cb(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(t_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new be(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Kg,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(At(ls))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function iI(o,a){return Array.isArray(a)?a.reduce(iI,o):{...o,...a}}let t_=(()=>{class o{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{fs.assertNotInAngularZone(),xb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ce.T)(m,v.pipe((0,De.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof bC;if(!this._injector.get(jg).done)throw!f&&He(u),new be(405,false);let v;v=f?u:this._injector.get(Ch).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function Ob(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ou),S=v.create(ls.NULL,[],h||v.selector,C),M=S.location.nativeElement,R=S.injector.get(qg,null);return R?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),n_(this.components,S),R?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;n_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get($g,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>n_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new be(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(At(fs),At(na),At(wm))},o.\u0275prov=Qt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function n_(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let oI=!0,i_=!1;function gR(){return i_=!0,oI}function aI(){if(i_)throw new Error("Cannot enable prod mode after platform setup.");oI=!1}let _R=(()=>{class o{}return o.__NG_ELEMENT_ID__=Nb,o})();function Nb(o){return function cI(o,a,u){if(wa(o)&&!u){const h=sn(o.index,a);return new Eu(h,h)}return 47&o.type?new Eu(a[16],a):null}(ui(),Ee(),16==(16&o))}class gI{constructor(){}supports(a){return qh(a)}create(a){return new bR(a)}}const vR=(o,a)=>a;class bR{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||vR}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<$b(h,f,m)?u:h,C=$b(v,f,m),I=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const S=C-f,M=I-f;if(S!=M){for(let z=0;z<S;z++){const te=z<m.length?m[z]:m[z]=0,me=te+z;M<=me&&me<S&&(m[z]=te+1)}m[v.previousIndex]=M-S}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!qh(a))throw new be(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],v=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,C),h=!0),u=u._next}else f=0,function px(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[tc()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new wR(u,h),m,f),a}_verifyReinsertion(a,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ii),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ii),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class wR{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _I{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Ii{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new _I,this.map.set(u,h)),h.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $b(o,a,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+a+f}class yI{constructor(){}supports(a){return a instanceof Map||Xm(a)}create(){return new CR}}class CR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Xm(a)))throw new be(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new ER(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class ER{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s_(){return new zb([new gI])}let zb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||s_()),deps:[[o,new Ko,new pn]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new be(901,!1)}}return o.\u0275prov=Qt({token:o,providedIn:"root",factory:s_}),o})();function bI(){return new Gb([new yI])}let Gb=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||bI()),deps:[[o,new Ko,new pn]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new be(901,!1)}}return o.\u0275prov=Qt({token:o,providedIn:"root",factory:bI}),o})();const SR=Xg(null,"core",[]);let TR=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(At(t_))},o.\u0275mod=gt({type:o}),o.\u0275inj=Ot({}),o})();function wI(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(mt,Te,N)=>{N.d(Te,{Z:()=>be});var c=N(2090),V=N(4859),P=N(9681),ce=N(1877);class De{constructor(ae,fe){this._delegate=ae,this.firebase=fe,(0,P._addComponent)(ae,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ae,fe=P._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(ae);return!nt.isInitialized()&&"EXPLICIT"===(null===(et=nt.getComponent())||void 0===et?void 0:et.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:fe})}_removeServiceInstance(ae,fe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(fe)}_addComponent(ae){(0,P._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,P._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function Pe(){const Qe=function ve(Qe){const ae={},fe={__esModule:!0,initializeApp:function xe(ie,re={}){const pe=P.initializeApp(ie,re);if((0,c.r3)(ae,pe.name))return ae[pe.name];const Z=new Qe(pe,fe);return ae[pe.name]=Z,Z},app:nt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ge(ie){const re=ie.name,pe=re.replace("-compat","");if(P._registerComponent(ie)&&"PUBLIC"===ie.type){const Z=(Q=nt())=>{if("function"!=typeof Q[pe])throw de.create("invalid-app-argument",{appName:re});return Q[pe]()};void 0!==ie.serviceProps&&(0,c.ZB)(Z,ie.serviceProps),fe[pe]=Z,Qe.prototype[pe]=function(...Q){return this._getService.bind(this,re).apply(this,ie.multipleInstances?Q:[])}}return"PUBLIC"===ie.type?fe[pe]:null},removeApp:function et(ie){delete ae[ie]},useAsService:function Be(ie,re){return"serverAuth"===re?null:re},modularAPIs:P}};function nt(ie){if(!(0,c.r3)(ae,ie=ie||P._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ie});return ae[ie]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Ce(){return Object.keys(ae).map(ie=>ae[ie])}}),nt.App=Qe,fe}(De);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function ae(fe){(0,c.ZB)(Qe,fe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Qe}(),W=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=G;!function Ne(Qe){(0,P.registerVersion)("@firebase/app-compat","0.1.33",Qe)}()},9681:(mt,Te,N)=>{N.r(Te),N.d(Te,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Qr,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>fn,_addOrOverwriteComponent:()=>Qt,_apps:()=>hn,_clearComponents:()=>Ao,_components:()=>vi,_getProvider:()=>Ot,_registerComponent:()=>Bt,_removeServiceInstance:()=>Mi,deleteApp:()=>Ys,getApp:()=>xi,getApps:()=>ws,initializeApp:()=>Xi,onLog:()=>ti,registerVersion:()=>ki,setLogLevel:()=>mn});var c=N(5861),V=N(4859),P=N(1877),ce=N(2090),De=N(8766);class we{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map($=>{if(function de(F){return"VERSION"===F.getComponent()?.type}($)){const ye=$.getImmediate();return`${ye.library}/${ye.version}`}return null}).filter($=>$).join(" ")}}const ve="@firebase/app",G=new P.Yd("@firebase/app"),zt="[DEFAULT]",Ue={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,vi=new Map;function fn(F,H){try{F.container.addComponent(H)}catch($){G.debug(`Component ${H.name} failed to register with FirebaseApp ${F.name}`,$)}}function Qt(F,H){F.container.addOrOverwriteComponent(H)}function Bt(F){const H=F.name;if(vi.has(H))return G.debug(`There were multiple attempts to register component ${H}.`),!1;vi.set(H,F);for(const $ of hn.values())fn($,F);return!0}function Ot(F,H){const $=F.container.getProvider("heartbeat").getImmediate({optional:!0});return $&&$.triggerHeartbeat(),F.container.getProvider(H)}function Mi(F,H,$=zt){Ot(F,H).clearInstance($)}function Ao(){vi.clear()}const Pn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qs{constructor(H,$,ye){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=ye,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}const Qr="9.9.4";function Xi(F,H={}){"object"!=typeof H&&(H={name:H});const $=Object.assign({name:zt,automaticDataCollectionEnabled:!1},H),ye=$.name;if("string"!=typeof ye||!ye)throw Pn.create("bad-app-name",{appName:String(ye)});const Ve=hn.get(ye);if(Ve){if((0,ce.vZ)(F,Ve.options)&&(0,ce.vZ)($,Ve.config))return Ve;throw Pn.create("duplicate-app",{appName:ye})}const gt=new V.H0(ye);for(const en of vi.values())gt.addComponent(en);const rn=new qs(F,$,gt);return hn.set(ye,rn),rn}function xi(F=zt){const H=hn.get(F);if(!H)throw Pn.create("no-app",{appName:F});return H}function ws(){return Array.from(hn.values())}function Ys(F){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(F){const H=F.name;hn.has(H)&&(hn.delete(H),yield Promise.all(F.container.getProviders().map($=>$.delete())),F.isDeleted=!0)})).apply(this,arguments)}function ki(F,H,$){var ye;let Ve=null!==(ye=Ue[F])&&void 0!==ye?ye:F;$&&(Ve+=`-${$}`);const gt=Ve.match(/\s|\//),rn=H.match(/\s|\//);if(gt||rn){const en=[`Unable to register library "${Ve}" with version "${H}":`];return gt&&en.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),gt&&rn&&en.push("and"),rn&&en.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void G.warn(en.join(" "))}Bt(new V.wA(`${Ve}-version`,()=>({library:Ve,version:H}),"VERSION"))}function ti(F,H){if(null!==F&&"function"!=typeof F)throw Pn.create("invalid-log-argument");(0,P.Am)(F,H)}function mn(F){(0,P.Ub)(F)}const An="firebase-heartbeat-store";let Nn=null;function gn(){return Nn||(Nn=(0,De.X3)("firebase-heartbeat-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(An)}}).catch(F=>{throw Pn.create("idb-open",{originalErrorMessage:F.message})})),Nn}function lt(){return(lt=(0,c.Z)(function*(F){var H;try{return(yield gn()).transaction(An).objectStore(An).get(Ri(F))}catch($){if($ instanceof ce.ZR)G.warn($.message);else{const ye=Pn.create("idb-get",{originalErrorMessage:null===(H=$)||void 0===H?void 0:H.message});G.warn(ye.message)}}})).apply(this,arguments)}function xt(F,H){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(F,H){var $;try{const Ve=(yield gn()).transaction(An,"readwrite");return yield Ve.objectStore(An).put(H,Ri(F)),Ve.done}catch(ye){if(ye instanceof ce.ZR)G.warn(ye.message);else{const Ve=Pn.create("idb-set",{originalErrorMessage:null===($=ye)||void 0===$?void 0:$.message});G.warn(Ve.message)}}})).apply(this,arguments)}function Ri(F){return`${F.name}!${F.options.appId}`}class Pi{constructor(H){this.container=H,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new jt($),this._heartbeatsCachePromise=this._storage.read().then(ye=>(this._heartbeatsCache=ye,ye))}triggerHeartbeat(){var H=this;return(0,c.Z)(function*(){const ye=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=Tt();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!H._heartbeatsCache.heartbeats.some(gt=>gt.date===Ve))return H._heartbeatsCache.heartbeats.push({date:Ve,agent:ye}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(gt=>{const rn=new Date(gt.date).valueOf();return Date.now()-rn<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,c.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const $=Tt(),{heartbeatsToSend:ye,unsentEntries:Ve}=function xr(F,H=1024){const $=[];let ye=F.slice();for(const Ve of F){const gt=$.find(rn=>rn.agent===Ve.agent);if(gt){if(gt.dates.push(Ve.date),Y($)>H){gt.dates.pop();break}}else if($.push({agent:Ve.agent,dates:[Ve.date]}),Y($)>H){$.pop();break}ye=ye.slice(1)}return{heartbeatsToSend:$,unsentEntries:ye}}(H._heartbeatsCache.heartbeats),gt=(0,ce.L)(JSON.stringify({version:2,heartbeats:ye}));return H._heartbeatsCache.lastSentHeartbeatDate=$,Ve.length>0?(H._heartbeatsCache.heartbeats=Ve,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),gt})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class jt{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,c.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function ot(F){return lt.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var $=this;return(0,c.Z)(function*(){var ye;if(yield $._canUseIndexedDBPromise){const gt=yield $.read();return xt($.app,{lastSentHeartbeatDate:null!==(ye=H.lastSentHeartbeatDate)&&void 0!==ye?ye:gt.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var $=this;return(0,c.Z)(function*(){var ye;if(yield $._canUseIndexedDBPromise){const gt=yield $.read();return xt($.app,{lastSentHeartbeatDate:null!==(ye=H.lastSentHeartbeatDate)&&void 0!==ye?ye:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...H.heartbeats]})}})()}}function Y(F){return(0,ce.L)(JSON.stringify({version:2,heartbeats:F})).length}!function B(F){Bt(new V.wA("platform-logger",H=>new we(H),"PRIVATE")),Bt(new V.wA("heartbeat",H=>new Pi(H),"PRIVATE")),ki(ve,"0.7.32",F),ki(ve,"0.7.32","esm2017"),ki("fire-js","")}("")},4859:(mt,Te,N)=>{N.d(Te,{H0:()=>ve,wA:()=>P});var c=N(5861),V=N(2090);class P{constructor(G,W,X){this.name=G,this.instanceFactory=W,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class De{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const X=new V.BH;if(this.instancesDeferred.set(W,X),this.isInitialized(W)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:W});Le&&X.resolve(Le)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const X=this.normalizeInstanceIdentifier(G?.identifier),Le=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Ne){if(Le)return null;throw Ne}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function de(Pe){return"EAGER"===Pe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[W,X]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(W);try{const Ne=this.getOrInitializeService({instanceIdentifier:Le});X.resolve(Ne)}catch{}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...W.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:X,options:W});for(const[Ne,be]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Ne)&&be.resolve(Le);return Le}onInit(G,W){var X;const Le=this.normalizeInstanceIdentifier(W),Ne=null!==(X=this.onInitCallbacks.get(Le))&&void 0!==X?X:new Set;Ne.add(G),this.onInitCallbacks.set(Le,Ne);const be=this.instances.get(Le);return be&&G(be,Le),()=>{Ne.delete(G)}}invokeOnInitCallbacks(G,W){const X=this.onInitCallbacks.get(W);if(X)for(const Le of X)try{Le(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=G,Pe===ce?void 0:Pe),options:W}),this.instances.set(G,X),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var Pe;return X||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new De(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Te,N)=>{N.d(Te,{Am:()=>Pe,Ub:()=>ve,Yd:()=>de,in:()=>V});const c=[];var V=(()=>{return(G=V||(V={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",V;var G})();const P={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ce=V.INFO,De={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},we=(G,W,...X)=>{if(W<G.logLevel)return;const Le=(new Date).toISOString(),Ne=De[W];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ne](`[${Le}]  ${G.name}:`,...X)};class de{constructor(W){this.name=W,this._logLevel=ce,this._logHandler=we,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in V))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...W),this._logHandler(this,V.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...W),this._logHandler(this,V.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,V.INFO,...W),this._logHandler(this,V.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,V.WARN,...W),this._logHandler(this,V.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...W),this._logHandler(this,V.ERROR,...W)}}function ve(G){c.forEach(W=>{W.setLogLevel(G)})}function Pe(G,W){for(const X of c){let Le=null;W&&W.level&&(Le=P[W.level]),X.userLogHandler=null===G?null:(Ne,be,...Qe)=>{const ae=Qe.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");be>=(Le??Ne.logLevel)&&G({level:V[be].toLowerCase(),message:ae,args:Qe,type:Ne.name})}}}},8766:(mt,Te,N)=>{N.d(Te,{Lj:()=>xe,X3:()=>nt});var c=N(5861);let P,ce;const de=new WeakMap,ve=new WeakMap,Pe=new WeakMap,G=new WeakMap,W=new WeakMap;let Ne={get(re,pe,Z){if(re instanceof IDBTransaction){if("done"===pe)return ve.get(re);if("objectStoreNames"===pe)return re.objectStoreNames||Pe.get(re);if("store"===pe)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return fe(re[pe])},set:(re,pe,Z)=>(re[pe]=Z,!0),has:(re,pe)=>re instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in re};function ae(re){return"function"==typeof re?function Qe(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...pe){return re.apply(et(this),pe),fe(de.get(this))}:function(...pe){return fe(re.apply(et(this),pe))}:function(pe,...Z){const Q=re.call(et(this),pe,...Z);return Pe.set(Q,pe.sort?pe.sort():[pe]),fe(Q)}}(re):(re instanceof IDBTransaction&&function Le(re){if(ve.has(re))return;const pe=new Promise((Z,Q)=>{const le=()=>{re.removeEventListener("complete",ne),re.removeEventListener("error",ke),re.removeEventListener("abort",ke)},ne=()=>{Z(),le()},ke=()=>{Q(re.error||new DOMException("AbortError","AbortError")),le()};re.addEventListener("complete",ne),re.addEventListener("error",ke),re.addEventListener("abort",ke)});ve.set(re,pe)}(re),((re,pe)=>pe.some(Z=>re instanceof Z))(re,function De(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,Ne):re)}function fe(re){if(re instanceof IDBRequest)return function X(re){const pe=new Promise((Z,Q)=>{const le=()=>{re.removeEventListener("success",ne),re.removeEventListener("error",ke)},ne=()=>{Z(fe(re.result)),le()},ke=()=>{Q(re.error),le()};re.addEventListener("success",ne),re.addEventListener("error",ke)});return pe.then(Z=>{Z instanceof IDBCursor&&de.set(Z,re)}).catch(()=>{}),W.set(pe,re),pe}(re);if(G.has(re))return G.get(re);const pe=ae(re);return pe!==re&&(G.set(re,pe),W.set(pe,re)),pe}const et=re=>W.get(re);function nt(re,pe,{blocked:Z,upgrade:Q,blocking:le,terminated:ne}={}){const ke=indexedDB.open(re,pe),Re=fe(ke);return Q&&ke.addEventListener("upgradeneeded",ut=>{Q(fe(ke.result),ut.oldVersion,ut.newVersion,fe(ke.transaction))}),Z&&ke.addEventListener("blocked",()=>Z()),Re.then(ut=>{ne&&ut.addEventListener("close",()=>ne()),le&&ut.addEventListener("versionchange",()=>le())}).catch(()=>{}),Re}function xe(re,{blocked:pe}={}){const Z=indexedDB.deleteDatabase(re);return pe&&Z.addEventListener("blocked",()=>pe()),fe(Z).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Be=new Map;function ie(re,pe){if(!(re instanceof IDBDatabase)||pe in re||"string"!=typeof pe)return;if(Be.get(pe))return Be.get(pe);const Z=pe.replace(/FromIndex$/,""),Q=pe!==Z,le=ge.includes(Z);if(!(Z in(Q?IDBIndex:IDBObjectStore).prototype)||!le&&!Ce.includes(Z))return;const ne=function(){var ke=(0,c.Z)(function*(Re,...ut){const Zt=this.transaction(Re,le?"readwrite":"readonly");let zt=Zt.store;return Q&&(zt=zt.index(ut.shift())),(yield Promise.all([zt[Z](...ut),le&&Zt.done]))[0]});return function(ut){return ke.apply(this,arguments)}}();return Be.set(pe,ne),ne}!function be(re){Ne=re(Ne)}(re=>({...re,get:(pe,Z,Q)=>ie(pe,Z)||re.get(pe,Z,Q),has:(pe,Z)=>!!ie(pe,Z)||re.has(pe,Z)}))},5861:(mt,Te,N)=>{function c(P,ce,De,we,de,ve,Pe){try{var G=P[ve](Pe),W=G.value}catch(X){return void De(X)}G.done?ce(W):Promise.resolve(W).then(we,de)}function V(P){return function(){var ce=this,De=arguments;return new Promise(function(we,de){var ve=P.apply(ce,De);function Pe(W){c(ve,we,de,Pe,G,"next",W)}function G(W){c(ve,we,de,Pe,G,"throw",W)}Pe(void 0)})}}N.d(Te,{Z:()=>V})}},mt=>{mt(mt.s=2112)}]);