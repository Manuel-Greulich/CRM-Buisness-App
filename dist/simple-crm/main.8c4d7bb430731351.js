"use strict";(self.webpackChunksimple_crm=self.webpackChunksimple_crm||[]).push([[179],{2011:(ht,Me,N)=>{N.d(Me,{Dh:()=>he,GT:()=>Ae,cc:()=>Ue,on:()=>Fe,pX:()=>ue,xv:()=>be});var c=N(4650),V=N(127);ht=N.hmd(ht);const P=["ngOnDestroy"],ue=(ae,pe,nt,it={})=>new Proxy(ae,{get:(ke,Ie)=>nt.runOutsideAngular(()=>{var ye;if(ae[Ie])return!(null===(ye=it?.spy)||void 0===ye)&&ye.get&&it.spy.get(Ie,ae[Ie]),ae[Ie];if(P.indexOf(Ie)>-1)return()=>{};const He=pe.toPromise().then(ie=>{const re=ie&&ie[Ie];return"function"==typeof re?re.bind(ie):re&&re.then?re.then(me=>nt.run(()=>me)):nt.run(()=>re)});return new Proxy(()=>{},{get:(ie,re)=>He[re],apply:(ie,re,me)=>He.then(Z=>{var Q;const ce=Z&&Z(...me);return!(null===(Q=it?.spy)||void 0===Q)&&Q.apply&&it.spy.apply(Ie,me,ce),ce})})})}),Ae=(ae,pe)=>{pe.forEach(nt=>{Object.getOwnPropertyNames(nt.prototype||nt).forEach(it=>{Object.defineProperty(ae.prototype,it,Object.getOwnPropertyDescriptor(nt.prototype||nt,it))})})};class De{constructor(pe){return pe}}const he=new c.OlP("angularfire2.app.options"),be=new c.OlP("angularfire2.app.name");function Fe(ae,pe,nt){const ke="object"==typeof nt&&nt||{};ke.name=ke.name||"string"==typeof nt&&nt||"[DEFAULT]";const ye=V.Z.apps.filter(He=>He&&He.name===ke.name)[0]||pe.runOutsideAngular(()=>V.Z.initializeApp(ae,ke));try{JSON.stringify(ae)!==JSON.stringify(ye.options)&&z("error",`${ye.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new De(ye)}const z=(ae,...pe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ae](...pe)};function Ue(ae,pe,nt,it,ke){const[,Ie,ye]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ae)||[];if(Ie)return function Le(ae,pe){try{return ae.toString()===pe.toString()}catch{return ae===pe}}(ke,ye)||(Je("error",`${pe} was already initialized on the ${nt} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:ke,was:ye})),Ie;{const He=it();return globalThis.\u0275AngularfireInstanceCache.push([ae,He,ke]),He}}const Ce=!!ht.hot,Je=(ae,...pe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ae](...pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6457:(ht,Me,N)=>{N.d(Me,{$:()=>bp,A:()=>G,B:()=>Le,G:()=>Td,H:()=>ui,J:()=>Ts,L:()=>Qt,M:()=>As,N:()=>D_,P:()=>tC,Q:()=>xd,R:()=>dn,T:()=>Fc,U:()=>Ta,V:()=>Ml,W:()=>Dr,X:()=>bS,Y:()=>Wo,Z:()=>Fd,_:()=>vp,a:()=>Vl,a0:()=>Ld,a1:()=>wp,a2:()=>rs,a3:()=>Ko,a4:()=>Y0,a5:()=>Ma,a6:()=>ss,a7:()=>Bd,a8:()=>Ms,a9:()=>T_,aA:()=>rh,aB:()=>ca,aC:()=>Ar,aD:()=>Vp,aE:()=>Zn,aI:()=>Xt,aL:()=>Sl,aa:()=>Hc,ab:()=>Cp,ac:()=>Hd,af:()=>Dp,ag:()=>$d,ah:()=>zd,ak:()=>lr,al:()=>S_,an:()=>Wc,ao:()=>qd,ap:()=>pn,aq:()=>me,ar:()=>_t,as:()=>pt,at:()=>it,au:()=>Sr,av:()=>vo,aw:()=>ke,ax:()=>ie,ay:()=>Q,az:()=>qt,b:()=>P_,c:()=>Xd,d:()=>Lp,e:()=>U_,f:()=>Hn,g:()=>H_,h:()=>la,i:()=>Oa,j:()=>Ua,k:()=>zp,l:()=>Mi,m:()=>Wa,n:()=>qp,o:()=>be,r:()=>Fp,s:()=>eC,u:()=>V_});var c=N(5861),V=N(2090),P=N(9681),ue=N(655),Ae=N(1877),De=N(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function X(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new Ae.Yd("@firebase/auth");function nt(w,...g){pe.logLevel<=Ae.in.ERROR&&pe.error(`Auth (${P.SDK_VERSION}): ${w}`,...g)}function it(w,...g){throw He(w,...g)}function ke(w,...g){return He(w,...g)}function Ie(w,g,y){const E=Object.assign(Object.assign({},Ce()),{[g]:y});return new V.LL("auth","Firebase",E).create(g,{appName:w.name})}function ye(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&it(w,"argument-error"),Ie(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(w,...g){if("string"!=typeof w){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Je.create(w,...g)}function ie(w,g,...y){if(!w)throw He(g,...y)}function re(w){const g="INTERNAL ASSERTION FAILED: "+w;throw nt(g),new Error(g)}function me(w,g){w||re(g)}const Z=new Map;function Q(w){me(w instanceof Function,"Expected a class definition");let g=Z.get(w);return g?(me(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Z.set(w,g),g)}function Re(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Oe(){return"http:"===ct()||"https:"===ct()}function ct(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class $e{constructor(g,y){this.shortDelay=g,this.longDelay=y,me(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Oe()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(w,g){me(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class _i{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wt=new $e(3e4,6e4);function Lt(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function kt(w,g,y,E){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,c.Z)(function*(w,g,y,E,S={}){return eo(w,S,(0,c.Z)(function*(){let k={},ee={};E&&("GET"===g?ee=E:k={body:JSON.stringify(E)});const ge=(0,V.xO)(Object.assign({key:w.config.apiKey},ee)).slice(1),Ye=yield w._getAdditionalHeaders();return Ye["Content-Type"]="application/json",w.languageCode&&(Ye["X-Firebase-Locale"]=w.languageCode),_i.fetch()(wr(w,w.config.apiHost,y,ge),Object.assign({method:g,headers:Ye,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function eo(w,g,y){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(w,g,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},an),g);try{const S=new Cr(w),k=yield Promise.race([y(),S.promise]);S.clearNetworkTimeout();const ee=yield k.json();if("needConfirmation"in ee)throw Fi(w,"account-exists-with-different-credential",ee);if(k.ok&&!("errorMessage"in ee))return ee;{const ge=k.ok?ee.errorMessage:ee.error.message,[Ye,Ke]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw Fi(w,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Ye)throw Fi(w,"email-already-in-use",ee);if("USER_DISABLED"===Ye)throw Fi(w,"user-disabled",ee);const Ct=E[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Ie(w,Ct,Ke);it(w,Ct)}}catch(S){if(S instanceof V.ZR)throw S;it(w,"network-request-failed")}})).apply(this,arguments)}function Mn(w,g,y,E){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(w,g,y,E,S={}){const k=yield kt(w,g,y,E,S);return"mfaPendingCredential"in k&&it(w,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function wr(w,g,y,E){const S=`${g}${y}?${E}`;return w.config.emulator?on(w.config,S):`${w.config.apiScheme}://${S}`}class Cr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(ke(this.auth,"network-request-failed")),Wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fi(w,g,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const S=ke(w,g,E);return S.customData._tokenResponse=y,S}function ft(){return(ft=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function vn(w,g){return or.apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Kt(w,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Xr(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Fr(){return(Fr=(0,c.Z)(function*(w,g=!1){const y=(0,V.m9)(w),E=yield y.getIdToken(g),S=et(E);ie(S&&S.exp&&S.auth_time&&S.iat,y.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,ee=k?.sign_in_provider;return{claims:S,token:E,authTime:Xr(un(S.auth_time)),issuedAtTime:Xr(un(S.iat)),expirationTime:Xr(un(S.exp)),signInProvider:ee||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function un(w){return 1e3*Number(w)}function et(w){var g;const[y,E,S]=w.split(".");if(void 0===y||void 0===E||void 0===S)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,V.tV)(E);return k?JSON.parse(k):(nt("Failed to decode base64 JWT payload"),null)}catch(k){return nt("Caught error parsing JWT payload as JSON",null===(g=k)||void 0===g?void 0:g.toString()),null}}function Nn(w,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof V.ZR&&Fn(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Fn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Ot{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,c.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,c.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Ln{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(w){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(w){var g;const y=w.auth,E=yield w.getIdToken(),S=yield Nn(w,Kt(y,{idToken:E}));ie(S?.users.length,y,"internal-error");const k=S.users[0];w._notifyReloadListener(k);const ee=null!==(g=k.providerUserInfo)&&void 0!==g&&g.length?U(k.providerUserInfo):[],ge=Y(w.providerData,ee),Ct=!!w.isAnonymous&&!(w.email&&k.passwordHash||ge?.length),_n={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ge,metadata:new Ln(k.createdAt,k.lastLoginAt),isAnonymous:Ct};Object.assign(w,_n)})).apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(w){const g=(0,V.m9)(w);yield Vi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Y(w,g){return[...w.filter(E=>!g.some(S=>S.providerId===E.providerId)),...g]}function U(w){return w.map(g=>{var{providerId:y}=g,E=(0,ue._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function j(){return(j=(0,c.Z)(function*(w,g){const y=yield eo(w,{},(0,c.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:k}=w.config,ee=wr(w,S,"/v1/token",`key=${k}`),ge=yield w._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",_i.fetch()(ee,{method:"POST",headers:ge,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ie(g.idToken,"internal-error"),ie(typeof g.idToken<"u","internal-error"),ie(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Xe(w){const g=et(w);return ie(g,"internal-error"),ie(typeof g.exp<"u","internal-error"),ie(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,c.Z)(function*(){return ie(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:ee}=yield function F(w,g){return j.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(S,k,Number(ee))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:S,expirationTime:k}=y,ee=new $;return E&&(ie("string"==typeof E,"internal-error",{appName:g}),ee.refreshToken=E),S&&(ie("string"==typeof S,"internal-error",{appName:g}),ee.accessToken=S),k&&(ie("number"==typeof k,"internal-error",{appName:g}),ee.expirationTime=k),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return re("not implemented")}}function ve(w,g){ie("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class je{constructor(g){var{uid:y,auth:E,stsTokenManager:S}=g,k=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ot(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ln(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,c.Z)(function*(){const E=yield Nn(y,y.stsTokenManager.getToken(y.auth,g));return ie(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function cn(w){return Fr.apply(this,arguments)}(this,g)}reload(){return function Jr(w){return It.apply(this,arguments)}(this)}_assign(g){this!==g&&(ie(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new je(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,c.Z)(function*(){let S=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),S=!0),y&&(yield Vi(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,c.Z)(function*(){const y=yield g.getIdToken();return yield Nn(g,function to(w,g){return ft.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,S,k,ee,ge,Ye,Ke,Ct;const _n=null!==(E=y.displayName)&&void 0!==E?E:void 0,Gi=null!==(S=y.email)&&void 0!==S?S:void 0,us=null!==(k=y.phoneNumber)&&void 0!==k?k:void 0,Yl=null!==(ee=y.photoURL)&&void 0!==ee?ee:void 0,Yp=null!==(ge=y.tenantId)&&void 0!==ge?ge:void 0,tu=null!==(Ye=y._redirectEventId)&&void 0!==Ye?Ye:void 0,qa=null!==(Ke=y.createdAt)&&void 0!==Ke?Ke:void 0,nu=null!==(Ct=y.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:Ls,emailVerified:J_,isAnonymous:ey,providerData:Ya,stsTokenManager:hh}=y;ie(Ls&&hh,g,"internal-error");const Zp=$.fromJSON(this.name,hh);ie("string"==typeof Ls,g,"internal-error"),ve(_n,g.name),ve(Gi,g.name),ie("boolean"==typeof J_,g,"internal-error"),ie("boolean"==typeof ey,g,"internal-error"),ve(us,g.name),ve(Yl,g.name),ve(Yp,g.name),ve(tu,g.name),ve(qa,g.name),ve(nu,g.name);const iu=new je({uid:Ls,auth:g,email:Gi,emailVerified:J_,displayName:_n,isAnonymous:ey,photoURL:Yl,phoneNumber:us,tenantId:Yp,stsTokenManager:Zp,createdAt:qa,lastLoginAt:nu});return Ya&&Array.isArray(Ya)&&(iu.providerData=Ya.map(Kp=>Object.assign({},Kp))),tu&&(iu._redirectEventId=tu),iu}static _fromIdTokenResponse(g,y,E=!1){return(0,c.Z)(function*(){const S=new $;S.updateFromServerResponse(y);const k=new je({uid:y.localId,auth:g,stsTokenManager:S,isAnonymous:E});return yield Vi(k),k})()}}const Qt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(y,E){var S=this;return(0,c.Z)(function*(){S.storage[y]=E})()}_get(y){var E=this;return(0,c.Z)(function*(){const S=E.storage[y];return void 0===S?null:S})()}_remove(y){var E=this;return(0,c.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function qt(w,g,y){return`firebase:${w}:${g}:${y}`}class Yn{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:S,name:k}=this.auth;this.fullUserKey=qt(this.userKey,S.apiKey,k),this.fullPersistenceKey=qt("persistence",S.apiKey,k),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,c.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?je._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,c.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,c.Z)(function*(){if(!y.length)return new Yn(Q(Qt),g,E);const S=(yield Promise.all(y.map(function(){var Ke=(0,c.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let k=S[0]||Q(Qt);const ee=qt(E,g.config.apiKey,g.name);let ge=null;for(const Ke of y)try{const Ct=yield Ke._get(ee);if(Ct){const _n=je._fromJSON(g,Ct);Ke!==k&&(ge=_n),k=Ke;break}}catch{}const Ye=S.filter(Ke=>Ke._shouldAllowMigration);return k._shouldAllowMigration&&Ye.length?(k=Ye[0],ge&&(yield k._set(ee,ge.toJSON())),yield Promise.all(y.map(function(){var Ke=(0,c.Z)(function*(Ct){if(Ct!==k)try{yield Ct._remove(ee)}catch{}});return function(Ct){return Ke.apply(this,arguments)}}())),new Yn(k,g,E)):new Yn(k,g,E)})()}}function J(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Be(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(L(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(we(g))return"Blackberry";if(We(g))return"Webos";if(B(g))return"Safari";if((g.includes("chrome/")||fe(g))&&!g.includes("edge/"))return"Chrome";if(pt(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function L(w=(0,V.z$)()){return/firefox\//i.test(w)}function B(w=(0,V.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function fe(w=(0,V.z$)()){return/crios\//i.test(w)}function Be(w=(0,V.z$)()){return/iemobile/i.test(w)}function pt(w=(0,V.z$)()){return/android/i.test(w)}function we(w=(0,V.z$)()){return/blackberry/i.test(w)}function We(w=(0,V.z$)()){return/webos/i.test(w)}function _t(w=(0,V.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function pn(w=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function ri(w=(0,V.z$)()){return _t(w)||pt(w)||We(w)||we(w)||/windows phone/i.test(w)||Be(w)}function no(w,g=[]){let y;switch(w){case"Browser":y=J((0,V.z$)());break;case"Worker":y=`${J((0,V.z$)())}-${w}`;break;default:y=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class Da{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=k=>new Promise((ee,ge)=>{try{ee(g(k))}catch(Ye){ge(Ye)}});E.onAbort=y,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,c.Z)(function*(){var E;if(y.auth.currentUser===g)return;const S=[];try{for(const k of y.queue)yield k(g),k.onAbort&&S.push(k.onAbort)}catch(k){S.reverse();for(const ee of S)try{ee()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=k)||void 0===E?void 0:E.message})}})()}}class Pt{constructor(g,y,E){this.app=g,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new Da(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=Q(y)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!E._deleted&&(E.persistenceManager=yield Yn.create(E,g),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,c.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,c.Z)(function*(){var E;const S=yield y.assertedPersistence.getCurrentUser();let k=S,ee=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ge=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,Ye=k?._redirectEventId,Ke=yield y.tryRedirectSignIn(g);(!ge||ge===Ye)&&Ke?.user&&(k=Ke.user,ee=!0)}if(!k)return y.directlySetCurrentUser(null);if(!k._redirectEventId){if(ee)try{yield y.beforeStateQueue.runMiddleware(k)}catch(ge){k=S,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ge))}return k?y.reloadAndSetCurrentUserOrClear(k):y.directlySetCurrentUser(null)}return ie(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===k._redirectEventId?y.directlySetCurrentUser(k):y.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var y=this;return(0,c.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,c.Z)(function*(){var E;try{yield Vi(g)}catch(S){if("auth/network-request-failed"!==(null===(E=S)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Ht(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,c.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,c.Z)(function*(){const E=g?(0,V.m9)(g):null;return E&&ie(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return g&&ie(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,c.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,c.Z)(function*(){yield y.assertedPersistence.setPersistence(Q(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new V.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,c.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(y);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,c.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&Q(g)||y._popupRedirectResolver;ie(E,y,"argument-error"),y.redirectPersistenceManager=yield Yn.create(y,[Q(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,c.Z)(function*(){var E,S;return y._isInitialized&&(yield y.queue((0,c.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,c.Z)(function*(){if(g===y.currentUser)return y.queue((0,c.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,S){if(this._deleted)return()=>{};const k="function"==typeof y?y:y.next.bind(y),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ee,this,"internal-error"),ee.then(()=>k(this.currentUser)),"function"==typeof y?g.addObserver(y,E,S):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,c.Z)(function*(){y.currentUser&&y.currentUser!==g&&(y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh()),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=no(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,c.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return S&&(E["X-Firebase-Client"]=S),E})()}}function Zn(w){return(0,V.m9)(w)}class Is{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Td(w,g,y){const E=Zn(w);ie(E._canInitEmulator,E,"emulator-config-failed"),ie(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const S=!!y?.disableWarnings,k=io(g),{host:ee,port:ge}=function bi(w){const g=io(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const k=S[1];return{host:k,port:ro(E.substr(k.length+1))}}{const[k,ee]=E.split(":");return{host:k,port:ro(ee)}}}(g);E.config.emulator={url:`${k}//${ee}${null===ge?"":`:${ge}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ee,port:ge,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function so(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function io(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function ro(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class ui{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return re("not implemented")}_getIdTokenResponse(g){return re("not implemented")}_linkToIdToken(g,y){return re("not implemented")}_getReauthenticationResolver(g){return re("not implemented")}}function Ho(w,g){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:resetPassword",Lt(w,g))})).apply(this,arguments)}function ln(w,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function w_(w,g){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:update",Lt(w,g))})).apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithPassword",Lt(w,g))})).apply(this,arguments)}function es(w,g){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:sendOobCode",Lt(w,g))})).apply(this,arguments)}function wi(w,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(w,g){return es(w,g)})).apply(this,arguments)}function Bi(w,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(w,g){return es(w,g)})).apply(this,arguments)}function Al(w,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(w,g){return es(w,g)})).apply(this,arguments)}function Ia(w,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(w,g){return es(w,g)})).apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithEmailLink",Lt(w,g))})).apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithEmailLink",Lt(w,g))})).apply(this,arguments)}class Pc extends ui{constructor(g,y,E,S=null){super("password",E),this._email=g,this._password=y,this._tenantId=S}static _fromEmailAndPassword(g,y){return new Pc(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new Pc(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,c.Z)(function*(){switch(y.signInMethod){case"password":return function Rc(w,g){return zo.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function H0(w,g){return Sd.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:it(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return ln(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function C_(w,g){return Oc.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:it(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Go(w,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithIdp",Lt(w,g))})).apply(this,arguments)}class Ts extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ts(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):it("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:S}=y,k=(0,ue._T)(y,["providerId","signInMethod"]);if(!E||!S)return null;const ee=new Ts(E,S);return ee.idToken=k.idToken||void 0,ee.accessToken=k.accessToken||void 0,ee.secret=k.secret,ee.nonce=k.nonce,ee.pendingToken=k.pendingToken||null,ee}_getIdTokenResponse(g){return Go(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,Go(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Go(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,V.xO)(y)}return g}}function $0(w,g){return fp.apply(this,arguments)}function fp(){return(fp=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:sendVerificationCode",Lt(w,g))})).apply(this,arguments)}function pp(){return(pp=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithPhoneNumber",Lt(w,g))})).apply(this,arguments)}function mp(){return(mp=(0,c.Z)(function*(w,g){const y=yield Mn(w,"POST","/v1/accounts:signInWithPhoneNumber",Lt(w,g));if(y.temporaryProof)throw Fi(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const G0={USER_NOT_FOUND:"user-not-found"};function gp(){return(gp=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithPhoneNumber",Lt(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),G0)})).apply(this,arguments)}class oo extends ui{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new oo({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new oo({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function E_(w,g){return pp.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function z0(w,g){return mp.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function W0(w,g){return gp.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:S}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:S,temporaryProof:k}=g;return E||y||S||k?new oo({verificationId:y,verificationCode:E,phoneNumber:S,temporaryProof:k}):null}}class Nc{constructor(g){var y,E,S,k,ee,ge;const Ye=(0,V.zd)((0,V.pd)(g)),Ke=null!==(y=Ye.apiKey)&&void 0!==y?y:null,Ct=null!==(E=Ye.oobCode)&&void 0!==E?E:null,_n=function Md(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ye.mode)&&void 0!==S?S:null);ie(Ke&&Ct&&_n,"argument-error"),this.apiKey=Ke,this.operation=_n,this.code=Ct,this.continueUrl=null!==(k=Ye.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ee=Ye.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(ge=Ye.tenantId)&&void 0!==ge?ge:null}static parseLink(g){const y=function q0(w){const g=(0,V.zd)((0,V.pd)(w)).link,y=g?(0,V.zd)((0,V.pd)(g)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(w)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||y||g||w}(g);try{return new Nc(y)}catch{return null}}}let As=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return Pc._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const S=Nc.parseLink(E);return ie(S,"argument-error"),Pc._fromEmailAndCode(y,S.code,S.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class is{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ao extends is{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ta extends ao{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ie("providerId"in y&&"signInMethod"in y,"argument-error"),Ts._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ie(g.idToken||g.accessToken,"argument-error"),Ts._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ta.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ta.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:k,nonce:ee,providerId:ge}=g;if(!E&&!S&&!y&&!k||!ge)return null;try{return new Ta(ge)._credential({idToken:y,accessToken:E,nonce:ee,pendingToken:k})}catch{return null}}}let D_=(()=>{class w extends ao{constructor(){super("facebook.com")}static credential(y){return Ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),xd=(()=>{class w extends ao{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:S}=y;if(!E&&!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Fc=(()=>{class w extends ao{constructor(){super("github.com")}static credential(y){return Ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Sl extends ui{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Go(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,Go(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Go(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:S,pendingToken:k}=y;return E&&S&&k&&E===S?new Sl(E,k):null}static _create(g,y){return new Sl(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ml extends is{constructor(g){ie(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ml.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ml.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Sl.fromJSON(g);return ie(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return Sl._create(E,y)}catch{return null}}}let Dr=(()=>{class w extends ao{constructor(){super("twitter.com")}static credential(y,E){return Ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=y;if(!E||!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Lc(w,g){return kd.apply(this,arguments)}function kd(){return(kd=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signUp",Lt(w,g))})).apply(this,arguments)}class Hi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,S=!1){return(0,c.Z)(function*(){const k=yield je._fromIdTokenResponse(g,E,S),ee=Rd(E);return new Hi({user:k,providerId:ee,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,c.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const S=Rd(E);return new Hi({user:g,providerId:S,_tokenResponse:E,operationType:y})})()}}function Rd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function bS(w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(w){var g;const y=Zn(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Hi({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield Lc(y,{returnSecureToken:!0}),S=yield Hi._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}class Od extends V.ZR{constructor(g,y,E,S){var k;super(y.code,y.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,S){return new Od(g,y,E,S)}}function I_(w,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Od._fromErrorAndOperation(w,k,g,E):k})}function xl(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function lr(w,g){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w);yield Ci(!0,y,g);const{providerUserInfo:E}=yield vn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),S=xl(E||[]);return y.providerData=y.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Vc(w,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(w,g,y=!1){const E=yield Nn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return Hi._forOperation(w,"link",E)})).apply(this,arguments)}function Ci(w,g,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(w,g,y){yield Vi(g);const S=!1===w?"provider-already-linked":"no-such-provider";ie(xl(g.providerData).has(y)===w,g.auth,S)})).apply(this,arguments)}function co(w,g){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,c.Z)(function*(w,g,y=!1){var E;const{auth:S}=w,k="reauthenticate";try{const ee=yield Nn(w,I_(S,k,g,w),y);ie(ee.idToken,S,"internal-error");const ge=et(ee.idToken);ie(ge,S,"internal-error");const{sub:Ye}=ge;return ie(w.uid===Ye,S,"user-mismatch"),Hi._forOperation(w,k,ee)}catch(ee){throw"auth/user-not-found"===(null===(E=ee)||void 0===E?void 0:E.code)&&it(S,"user-mismatch"),ee}})).apply(this,arguments)}function Ir(w,g){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(w,g,y=!1){const E="signIn",S=yield I_(w,E,g),k=yield Hi._fromIdTokenResponse(w,E,S);return y||(yield w._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Wo(w,g){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(w,g){return Ir(Zn(w),g)})).apply(this,arguments)}function Fd(w,g){return yp.apply(this,arguments)}function yp(){return(yp=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w);return yield Ci(!1,y,g.providerId),Vc(y,g)})).apply(this,arguments)}function vp(w,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(w,g){return co((0,V.m9)(w),g)})).apply(this,arguments)}function Uc(w,g){return kl.apply(this,arguments)}function kl(){return(kl=(0,c.Z)(function*(w,g){return Mn(w,"POST","/v1/accounts:signInWithCustomToken",Lt(w,g))})).apply(this,arguments)}function bp(w,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(w,g){const y=Zn(w),E=yield Uc(y,{token:g,returnSecureToken:!0}),S=yield Hi._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ee{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Vt._fromServerResponse(g,y):it(g,"internal-error")}}class Vt extends Ee{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Vt(y)}}function Yo(w,g,y){var E;ie((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),ie(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ie(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ie(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Ld(w,g,y){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),S={requestType:"PASSWORD_RESET",email:g};y&&Yo(E,S,y),yield Bi(E,S)})).apply(this,arguments)}function wp(w,g,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(w,g,y){yield Ho((0,V.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function rs(w,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,c.Z)(function*(w,g){yield w_((0,V.m9)(w),{oobCode:g})})).apply(this,arguments)}function Ko(w,g){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w),E=yield Ho(y,{oobCode:g}),S=E.requestType;switch(ie(S,y,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(E.mfaInfo,y,"internal-error");default:ie(E.email,y,"internal-error")}let k=null;return E.mfaInfo&&(k=Ee._fromServerResponse(Zn(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Y0(w,g){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(w,g){const{data:y}=yield Ko((0,V.m9)(w),g);return y.email})).apply(this,arguments)}function Ma(w,g,y){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(w,g,y){const E=Zn(w),S=yield Lc(E,{returnSecureToken:!0,email:g,password:y}),k=yield Hi._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function ss(w,g,y){return Wo((0,V.m9)(w),As.credential(g,y))}function Bd(w,g,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),S={requestType:"EMAIL_SIGNIN",email:g};ie(y.handleCodeInApp,E,"argument-error"),y&&Yo(E,S,y),yield Al(E,S)})).apply(this,arguments)}function Ms(w,g){return"EMAIL_SIGNIN"===Nc.parseLink(g)?.operation}function T_(w,g,y){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),S=As.credentialWithLink(g,y||Re());return ie(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Wo(E,S)})).apply(this,arguments)}function A_(w,g){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:createAuthUri",Lt(w,g))})).apply(this,arguments)}function Hc(w,g){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(w,g){const E={identifier:g,continueUri:Oe()?Re():"http://localhost"},{signinMethods:S}=yield A_((0,V.m9)(w),E);return S||[]})).apply(this,arguments)}function Cp(w,g){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(w,g){const y=(0,V.m9)(w),S={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Yo(y.auth,S,g);const{email:k}=yield wi(y.auth,S);k!==w.email&&(yield w.reload())})).apply(this,arguments)}function Hd(w,g,y){return jd.apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Yo(E.auth,k,y);const{email:ee}=yield Ia(E.auth,k);ee!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ep(w,g){return jc.apply(this,arguments)}function jc(){return(jc=(0,c.Z)(function*(w,g){return kt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Dp(w,g){return $c.apply(this,arguments)}function $c(){return($c=(0,c.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,V.m9)(w),k={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ee=yield Nn(E,Ep(E.auth,k));E.displayName=ee.displayName||null,E.photoURL=ee.photoUrl||null;const ge=E.providerData.find(({providerId:Ye})=>"password"===Ye);ge&&(ge.displayName=E.displayName,ge.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ee)})).apply(this,arguments)}function $d(w,g){return Gd((0,V.m9)(w),g,null)}function zd(w,g){return Gd((0,V.m9)(w),null,g)}function Gd(w,g,y){return zc.apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(w,g,y){const{auth:E}=w,k={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(k.email=g),y&&(k.password=y);const ee=yield Nn(w,ln(E,k));yield w._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class ji{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class kn extends ji{constructor(g,y,E,S){super(g,y,E),this.username=S}}class Ip extends ji{constructor(g,y){super(g,"facebook.com",y)}}class Z0 extends kn{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Tp extends ji{constructor(g,y){super(g,"google.com",y)}}class Ap extends kn{constructor(g,y,E){super(g,"twitter.com",y,E)}}function S_(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ei(w){var g,y;if(!w)return null;const{providerId:E}=w,S=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},k=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const ee=null===(y=null===(g=et(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ee)return new ji(k,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!E)return null;switch(E){case"facebook.com":return new Ip(k,S);case"github.com":return new Z0(k,S);case"google.com":return new Tp(k,S);case"twitter.com":return new Ap(k,S,w.screenName||null);case"custom":case"anonymous":return new ji(k,null);default:return new ji(k,E,S)}}(y)}class xa{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new xa("enroll",g)}static _fromMfaPendingCredential(g){return new xa("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return xa._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return xa._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xp{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=Zn(g),S=y.customData._serverResponse,k=(S.mfaInfo||[]).map(ge=>Ee._fromServerResponse(E,ge));ie(S.mfaPendingCredential,E,"internal-error");const ee=xa._fromMfaPendingCredential(S.mfaPendingCredential);return new xp(ee,k,function(){var ge=(0,c.Z)(function*(Ye){const Ke=yield Ye._process(E,ee);delete S.mfaInfo,delete S.mfaPendingCredential;const Ct=Object.assign(Object.assign({},S),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(y.operationType){case"signIn":const _n=yield Hi._fromIdTokenResponse(E,y.operationType,Ct);return yield E._updateCurrentUser(_n.user),_n;case"reauthenticate":return ie(y.user,E,"internal-error"),Hi._forOperation(y.user,y.operationType,Ct);default:it(E,"internal-error")}});return function(Ye){return ge.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,c.Z)(function*(){return y.signInResolver(g)})()}}function Wc(w,g){var y;const E=(0,V.m9)(w),S=g;return ie(g.customData.operationType,E,"argument-error"),ie(null===(y=S.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),xp._fromError(E,S)}function Wd(w,g){return kt(w,"POST","/v2/accounts/mfaEnrollment:start",Lt(w,g))}class x_{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Ee._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new x_(g)}getSession(){var g=this;return(0,c.Z)(function*(){return xa._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var E=this;return(0,c.Z)(function*(){const S=g,k=yield E.getSession(),ee=yield Nn(E.user,S._process(E.user.auth,k,y));return yield E.user._updateTokensIfNecessary(ee),E.user.reload()})()}unenroll(g){var y=this;return(0,c.Z)(function*(){var E;const S="string"==typeof g?g:g.uid,k=yield y.user.getIdToken(),ee=yield Nn(y.user,function J0(w,g){return kt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(w,g))}(y.user.auth,{idToken:k,mfaEnrollmentId:S}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ge})=>ge!==S),yield y.user._updateTokensIfNecessary(ee);try{yield y.user.reload()}catch(ge){if("auth/user-token-expired"!==(null===(E=ge)||void 0===E?void 0:E.code))throw ge}})()}}const k_=new WeakMap;function qd(w){const g=(0,V.m9)(w);return k_.has(g)||k_.set(g,x_._fromUser(g)),k_.get(g)}const Ll="__sak";class kp{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const P_=(()=>{class w extends kp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yd(){const w=(0,V.z$)();return B(w)||_t(w)}()&&function mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ri(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),k=this.localCache[E];S!==k&&y(E,k,S)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((ge,Ye,Ke)=>{this.notifyListeners(ge,Ke)});const S=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(S);if(y.newValue!==ge)null!==y.newValue?this.storage.setItem(S,y.newValue):this.storage.removeItem(S);else if(this.localCache[S]===y.newValue&&!E)return}const k=()=>{const ge=this.storage.getItem(S);!E&&this.localCache[S]===ge||this.notifyListeners(S,ge)},ee=this.storage.getItem(S);!function gt(){return(0,V.w1)()&&10===document.documentMode}()||ee===y.newValue||y.newValue===y.oldValue?k():setTimeout(k,10)}notifyListeners(y,E){this.localCache[y]=E;const S=this.listeners[y];if(S)for(const k of Array.from(S))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,y,E),k.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield E().call(S,y);return S.localCache[y]=JSON.stringify(k),k})()}_remove(y){var E=()=>super._remove,S=this;return(0,c.Z)(function*(){yield E().call(S,y),delete S.localCache[y]})()}}return w.type="LOCAL",w})(),Vl=(()=>{class w extends kp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let wS=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(k=>k.isListeningto(y));if(E)return E;const S=new w(y);return this.receivers.push(S),S}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,c.Z)(function*(){const S=y,{eventId:k,eventType:ee,data:ge}=S.data,Ye=E.handlersMap[ee];if(!Ye?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:ee});const Ke=Array.from(Ye).map(function(){var _n=(0,c.Z)(function*(Gi){return Gi(S.origin,ge)});return function(Gi){return _n.apply(this,arguments)}}()),Ct=yield function Bl(w){return Promise.all(w.map(function(){var g=(0,c.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(Ke);S.ports[0].postMessage({status:"done",eventId:k,eventType:ee,response:Ct})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Xt(w="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return w+y}class Xo{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var S=this;return(0,c.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ee,ge;return new Promise((Ye,Ke)=>{const Ct=Xt("",20);k.port1.start();const _n=setTimeout(()=>{Ke(new Error("unsupported_event"))},E);ge={messageChannel:k,onMessage(Gi){const us=Gi;if(us.data.eventId===Ct)switch(us.data.status){case"ack":clearTimeout(_n),ee=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Ye(us.data.response);break;default:clearTimeout(_n),clearTimeout(ee),Ke(new Error("invalid_response"))}}},S.handlers.add(ge),k.port1.addEventListener("message",ge.onMessage),S.target.postMessage({eventType:g,eventId:Ct,data:y},[k.port2])}).finally(()=>{ge&&S.removeMessageHandler(ge)})})()}}function Ve(){return window}function $i(){return typeof Ve().WorkerGlobalScope<"u"&&"function"==typeof Ve().importScripts}function Ul(){return(Ul=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hl="firebaseLocalStorageDb",jl="firebaseLocalStorage",fo="fbase_key";class st{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function $l(w,g){return w.transaction([jl],g?"readwrite":"readonly").objectStore(jl)}function po(){const w=indexedDB.open(Hl,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(jl,{keyPath:fo})}catch(S){y(S)}}),w.addEventListener("success",(0,c.Z)(function*(){const E=w.result;E.objectStoreNames.contains(jl)?g(E):(E.close(),yield function N_(){const w=indexedDB.deleteDatabase(Hl);return new st(w).toPromise()}(),g(yield po()))}))})}function Jo(w,g,y){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(w,g,y){const E=$l(w,!0).put({[fo]:g,value:y});return new st(E).toPromise()})).apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(w,g){const y=$l(w,!1).get(g),E=yield new st(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function ea(w,g){const y=$l(w,!0).delete(g);return new st(y).toPromise()}const Oa=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,c.Z)(function*(){return y.db||(y.db=yield po()),y.db})()}_withRetries(y){var E=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield E._openDb();return yield y(k)}catch(k){if(S++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,c.Z)(function*(){return $i()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,c.Z)(function*(){y.receiver=wS._getInstance(function Yc(){return $i()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(S,k){return{keyProcessed:(yield y._poll()).includes(k.key)}});return function(S,k){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,c.Z)(function*(){var E,S;if(y.activeServiceWorker=yield function Bn(){return Ul.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Xo(y.activeServiceWorker);const k=yield y.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Zd(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const y=yield po();return yield Jo(y,Ll,"1"),yield ea(y,Ll),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>Jo(k,y,E)),S.localCache[y]=E,S.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,c.Z)(function*(){const S=yield E._withRetries(k=>function Op(w,g){return ka.apply(this,arguments)}(k,y));return E.localCache[y]=S,S})()}_remove(y){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(S=>ea(S,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,c.Z)(function*(){const E=yield y._withRetries(ee=>{const ge=$l(ee,!1).getAll();return new st(ge).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:ee,value:ge}of E)k.add(ee),JSON.stringify(y.localCache[ee])!==JSON.stringify(ge)&&(y.notifyListeners(ee,ge),S.push(ee));for(const ee of Object.keys(y.localCache))y.localCache[ee]&&!k.has(ee)&&(y.notifyListeners(ee,null),S.push(ee));return S})()}notifyListeners(y,E){this.localCache[y]=E;const S=this.listeners[y];if(S)for(const k of Array.from(S))k(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function mo(w,g){return kt(w,"POST","/v2/accounts/mfaSignIn:start",Lt(w,g))}function si(){return(si=(0,c.Z)(function*(w){return(yield kt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kd(w){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=S=>{const k=ke("internal-error");k.customData=S,y(k)},E.type="text/javascript",E.charset="UTF-8",function Vr(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Rs(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Cn=1e12;class nn{constructor(g){this.auth=g,this.counter=Cn,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new F_(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||Cn;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Cn))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,c.Z)(function*(){var E;return null===(E=y._widgets.get(g||Cn))||void 0===E||E.execute(),""})()}}class F_{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;ie(S,"argument-error",{appName:y}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kn(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gn=Rs("rcb"),hi=new $e(3e4,6e4);class Di{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ve().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return ie(function Qd(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Ve().grecaptcha):new Promise((E,S)=>{const k=Ve().setTimeout(()=>{S(ke(g,"network-request-failed"))},hi.get());Ve()[gn]=()=>{Ve().clearTimeout(k),delete Ve()[gn];const ge=Ve().grecaptcha;if(!ge)return void S(ke(g,"internal-error"));const Ye=ge.render;ge.render=(Ke,Ct)=>{const _n=Ye(Ke,Ct);return this.counter++,_n},this.hostLanguage=y,E(ge)},Kd(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:gn,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(k),S(ke(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Ve().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fa{load(g){return(0,c.Z)(function*(){return new nn(g)})()}clearedOneInstance(){}}const L_="recaptcha",go={theme:"light",type:"image"};class dn{constructor(g,y=Object.assign({},go),E){this.parameters=y,this.type=L_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(E),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fa:new Di,this.validateStartingState()}verify(){var g=this;return(0,c.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(k=>{const ee=ge=>{!ge||(g.tokenChangeListeners.delete(ee),k(ge))};g.tokenChangeListeners.add(ee),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=Ve()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,c.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,c.Z)(function*(){ie(Oe()&&!$i(),g.auth,"internal-error"),yield function En(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Na(w){return si.apply(this,arguments)}(g.auth);ie(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Si{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=oo._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function eC(w,g,y){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(w,g,y){const E=Zn(w),S=yield Br(E,g,(0,V.m9)(y));return new Si(S,k=>Wo(E,k))})).apply(this,arguments)}function Mi(w,g,y){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);yield Ci(!1,E,"phone");const S=yield Br(E.auth,g,(0,V.m9)(y));return new Si(S,k=>Fd(E,k))})).apply(this,arguments)}function Fp(w,g,y){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w),S=yield Br(E.auth,g,(0,V.m9)(y));return new Si(S,k=>vp(E,k))})).apply(this,arguments)}function Br(w,g,y){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(w,g,y){var E;const S=yield y.verify();try{let k;if(ie("string"==typeof S,w,"argument-error"),ie(y.type===L_,w,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const ee=k.session;if("phoneNumber"in k)return ie("enroll"===ee.type,w,"internal-error"),(yield Wd(w,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ie("signin"===ee.type,w,"internal-error");const ge=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return ie(ge,w,"missing-multi-factor-info"),(yield mo(w,{mfaPendingCredential:ee.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield $0(w,{phoneNumber:k.phoneNumber,recaptchaToken:S});return ee}}finally{y._reset()}})).apply(this,arguments)}function V_(w,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(w,g){yield Vc((0,V.m9)(w),g)})).apply(this,arguments)}let tC=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Zn(y)}verifyPhoneNumber(y,E){return Br(this.auth,y,(0,V.m9)(E))}static credential(y,E){return oo._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:S}=y;return E&&S?oo._fromTokenResponse(E,S):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function La(w,g){return g?Q(g):(ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ur extends ui{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Go(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Go(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Go(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function zi(w){return Ir(w.auth,new ur(w),w.bypassAuthState)}function Zc(w){const{auth:g,user:y}=w;return ie(y,g,"internal-error"),co(y,new ur(w),w.bypassAuthState)}function na(w){return B_.apply(this,arguments)}function B_(){return(B_=(0,c.Z)(function*(w){const{auth:g,user:y}=w;return ie(y,g,"internal-error"),Vc(y,new ur(w),w.bypassAuthState)})).apply(this,arguments)}class Qn{constructor(g,y,E,S,k=!1){this.auth=g,this.resolver=E,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,c.Z)(function*(E,S){g.pendingPromise={resolve:E,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(E,S){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:k,tenantId:ee,error:ge,type:Ye}=g;if(ge)return void y.reject(ge);const Ke={auth:y.auth,requestUri:E,sessionId:S,tenantId:ee||void 0,postBody:k||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Ye)(Ke))}catch(Ct){y.reject(Ct)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return zi;case"linkViaPopup":case"linkViaRedirect":return na;case"reauthViaPopup":case"reauthViaRedirect":return Zc;default:it(this.auth,"internal-error")}}resolve(g){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ps=new $e(2e3,1e4);function Xd(w,g,y){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,c.Z)(function*(w,g,y){const E=Zn(w);ye(w,g,is);const S=La(E,y);return new ia(E,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function U_(w,g,y){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ye(E.auth,g,is);const S=La(E.auth,y);return new ia(E.auth,"reauthViaPopup",g,S,E).executeNotNull()})).apply(this,arguments)}function Lp(w,g,y){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ye(E.auth,g,is);const S=La(E.auth,y);return new ia(E.auth,"linkViaPopup",g,S,E).executeNotNull()})).apply(this,arguments)}let ia=(()=>{class w extends Qn{constructor(y,E,S,k,ee){super(y,E,k,ee),this.provider=S,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,c.Z)(function*(){const E=yield y.execute();return ie(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,c.Z)(function*(){me(1===y.filter.length,"Popup operations only handle one event");const E=Xt();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(S=>{y.reject(S)}),y.resolver._isIframeWebStorageSupported(y.auth,S=>{S||y.reject(ke(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Ps.get())};y()}}return w.currentPopupAction=null,w})();const os=new Map;class Qc extends Qn{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,c.Z)(function*(){let E=os.get(y.auth._key());if(!E){try{const k=(yield function ra(w,g){return Ns.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(k)}catch(S){E=()=>Promise.reject(S)}os.set(y.auth._key(),E)}return y.bypassAuthState||os.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const S=yield E.auth._redirectUserForId(g.eventId);if(S)return E.user=S,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ns(){return(Ns=(0,c.Z)(function*(w,g){const y=eh(g),E=oa(w);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(y));return yield E._remove(y),S})).apply(this,arguments)}function Nt(w,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(w,g){return oa(w)._set(eh(g),"true")})).apply(this,arguments)}function Vp(){os.clear()}function Ar(w,g){os.set(w._key(),g)}function oa(w){return Q(w._redirectPersistence)}function eh(w){return qt("pendingRedirect",w.config.apiKey,w.name)}function Hn(w,g,y){return function Bp(w,g,y){return aa.apply(this,arguments)}(w,g,y)}function aa(){return(aa=(0,c.Z)(function*(w,g,y){const E=Zn(w);ye(w,g,is);const S=La(E,y);return yield Nt(S,E),S._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function la(w,g,y){return function Va(w,g,y){return Ba.apply(this,arguments)}(w,g,y)}function Ba(){return(Ba=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ye(E.auth,g,is);const S=La(E.auth,y);yield Nt(S,E.auth);const k=yield ih(E);return S._openRedirect(E.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function H_(w,g,y){return function th(w,g,y){return yo.apply(this,arguments)}(w,g,y)}function yo(){return(yo=(0,c.Z)(function*(w,g,y){const E=(0,V.m9)(w);ye(E.auth,g,is);const S=La(E.auth,y);yield Ci(!1,E,g.providerId),yield Nt(S,E.auth);const k=yield ih(E);return S._openRedirect(E.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function Ua(w,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(w,g){return yield Zn(w)._initializationPromise,ca(w,g,!1)})).apply(this,arguments)}function ca(w,g){return nh.apply(this,arguments)}function nh(){return(nh=(0,c.Z)(function*(w,g,y=!1){const E=Zn(w),S=La(E,g),ee=yield new Qc(E,S,y).execute();return ee&&!y&&(delete ee.user._redirectEventId,yield E._persistUserIfCurrent(ee.user),yield E._setRedirectUser(null,g)),ee})).apply(this,arguments)}function ih(w){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(w){const g=Xt(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class rh{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ha(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hp(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Hp(g)){const S=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(ke(this.auth,S))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Up(g))}saveEventToCache(g){this.cachedEventUids.add(Up(g)),this.lastProcessedEventTime=Date.now()}}function Up(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function Hp({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function vo(w){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(w,g={}){return kt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const iC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bo=/^https?/;function j_(){return(j_=(0,c.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield vo(w);for(const y of g)try{if($_(y))return}catch{}it(w,"unauthorized-domain")})).apply(this,arguments)}function $_(w){const g=Re(),{protocol:y,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const ee=new URL(w);return""===ee.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ee.hostname===E}if(!bo.test(y))return!1;if(iC.test(w))return E===w;const S=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const z_=new $e(3e4,6e4);function jp(){const w=Ve().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Fs=null;function $a(w){return Fs=Fs||function wo(w){return new Promise((g,y)=>{var E,S,k;function ee(){jp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{jp(),y(ke(w,"network-request-failed"))},timeout:z_.get()})}if(null!==(S=null===(E=Ve().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(k=Ve().gapi)||void 0===k||!k.load){const ge=Rs("iframefcb");return Ve()[ge]=()=>{gapi.load?ee():y(ke(w,"network-request-failed"))},Kd(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ye=>y(Ye))}ee()}}).catch(g=>{throw Fs=null,g})}(w),Fs}const oh=new $e(5e3,15e3),Wl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W_(w){const g=w.config;ie(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?on(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:w.name,v:P.SDK_VERSION},S=lh.get(w.config.apiHost);S&&(E.eid=S);const k=w._getFrameworks();return k.length&&(E.fw=k.join(",")),`${y}?${(0,V.xO)(E).slice(1)}`}function za(){return za=(0,c.Z)(function*(w){const g=yield $a(w),y=Ve().gapi;return ie(y,w,"internal-error"),g.open({where:document.body,url:W_(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wl,dontclear:!0},E=>new Promise(function(){var S=(0,c.Z)(function*(k,ee){yield E.restyle({setHideOnLeave:!1});const ge=ke(w,"network-request-failed"),Ye=Ve().setTimeout(()=>{ee(ge)},oh.get());function Ke(){Ve().clearTimeout(Ye),k(E)}E.ping(Ke).then(Ke,()=>{ee(ge)})});return function(k,ee){return S.apply(this,arguments)}}()))}),za.apply(this,arguments)}const ql={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sr(w,g,y,E,S,k){ie(w.config.authDomain,w,"auth-domain-config-required"),ie(w.config.apiKey,w,"invalid-api-key");const ee={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:S};if(g instanceof is){g.setDefaultLanguage(w.languageCode),ee.providerId=g.providerId||"",(0,V.xb)(g.getCustomParameters())||(ee.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ye,Ke]of Object.entries(k||{}))ee[Ye]=Ke}if(g instanceof ao){const Ye=g.getScopes().filter(Ke=>""!==Ke);Ye.length>0&&(ee.scopes=Ye.join(","))}w.tenantId&&(ee.tid=w.tenantId);const ge=ee;for(const Ye of Object.keys(ge))void 0===ge[Ye]&&delete ge[Ye];return`${function $p({config:w}){return w.emulator?on(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,V.xO)(ge).slice(1)}`}const dh="webStorageSupport",zp=class Y_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vl,this._completeRedirectFn=ca,this._overrideRedirectResult=Ar}_openPopup(g,y,E,S){var k=this;return(0,c.Z)(function*(){var ee;me(null===(ee=k.eventManagers[g._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const ge=Sr(g,y,E,Re(),S);return function Jc(w,g,y,E=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),ee=Math.max((window.screen.availWidth-E)/2,0).toString();let ge="";const Ye=Object.assign(Object.assign({},ql),{width:E.toString(),height:S.toString(),top:k,left:ee}),Ke=(0,V.z$)().toLowerCase();y&&(ge=fe(Ke)?"_blank":y),L(Ke)&&(g=g||"http://localhost",Ye.scrollbars="yes");const Ct=Object.entries(Ye).reduce((Gi,[us,Yl])=>`${Gi}${us}=${Yl},`,"");if(function ii(w=(0,V.z$)()){var g;return _t(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ke)&&"_self"!==ge)return function cs(w,g){const y=document.createElement("a");y.href=w,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",ge),new Ga(null);const _n=window.open(g||"",ge,Ct);ie(_n,w,"popup-blocked");try{_n.focus()}catch{}return new Ga(_n)}(g,ge,Xt())})()}_openRedirect(g,y,E,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(g),function rt(w){Ve().location.href=w}(Sr(g,y,E,Re(),S)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:S,promise:k}=this.eventManagers[y];return S?Promise.resolve(S):(me(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,c.Z)(function*(){const E=yield function ch(w){return za.apply(this,arguments)}(g),S=new rh(g);return E.register("authEvent",k=>(ie(k?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:S},y.iframes[g._key()]=E,S})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(dh,{type:dh},S=>{var k;const ee=null===(k=S?.[0])||void 0===k?void 0:k[dh];void 0!==ee&&y(!!ee),it(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function sh(w){return j_.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return ri()||B()||_t()}};class Ur extends class Z_{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ur(g)}_finalizeEnroll(g,y,E){return function X0(w,g){return kt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(w,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Pa(w,g){return kt(w,"POST","/v2/accounts/mfaSignIn:finalize",Lt(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wa=(()=>{class w{constructor(){}static assertion(y){return Ur._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Gp="@firebase/auth";class K_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,c.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var S;g((null===(S=E)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qp(w=(0,P.getApp)()){const g=(0,P._getProvider)(w,"auth");return g.isInitialized()?g.getImmediate():function ce(w,g){const y=(0,P._getProvider)(w,"auth");if(y.isInitialized()){const S=y.getImmediate(),k=y.getOptions();if((0,V.vZ)(k,g??{}))return S;it(S,"already-initialized")}return y.initialize({options:g})}(w,{popupRedirectResolver:zp,persistence:[Oa,P_,Vl]})}!function X_(w){(0,P._registerComponent)(new De.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),{apiKey:k,authDomain:ee}=E.options;return((ge,Ye)=>{ie(k&&!k.includes(":"),"invalid-api-key",{appName:ge.name}),ie(!ee?.includes(":"),"argument-error",{appName:ge.name});const Ke={apiKey:k,authDomain:ee,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:no(w)},Ct=new Pt(ge,Ye,Ke);return function ne(w,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(Q);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(Ct,y),Ct})(E,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new De.wA("auth-internal",g=>{const y=Zn(g.getProvider("auth").getImmediate());return new K_(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Gp,"0.20.5",function Q_(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(Gp,"0.20.5","esm2017")}("Browser")},2090:(ht,Me,N)=>{N.d(Me,{$s:()=>Vi,BH:()=>Ue,DV:()=>kt,G6:()=>ie,GJ:()=>Wt,L:()=>be,LL:()=>Re,Mn:()=>ye,Pz:()=>Ht,Sg:()=>Le,UG:()=>ae,UI:()=>eo,US:()=>De,Yr:()=>He,ZB:()=>G,ZR:()=>ne,b$:()=>it,cI:()=>zt,d:()=>ke,dS:()=>et,eu:()=>me,g5:()=>P,gK:()=>vi,gQ:()=>to,h$:()=>he,hl:()=>re,hu:()=>V,jU:()=>pe,m9:()=>It,ne:()=>ft,p$:()=>z,pd:()=>Fi,r3:()=>Lt,ru:()=>nt,tV:()=>Fe,uI:()=>Je,ug:()=>Xe,vZ:()=>Es,w1:()=>Ie,w9:()=>an,xO:()=>wr,xb:()=>Ni,z$:()=>Ce,zI:()=>Z,zd:()=>Cr});const V=function(Y,U){if(!Y)throw P(U)},P=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},ue=function(Y){const U=[];let F=0;for(let j=0;j<Y.length;j++){let $=Y.charCodeAt(j);$<128?U[F++]=$:$<2048?(U[F++]=$>>6|192,U[F++]=63&$|128):55296==(64512&$)&&j+1<Y.length&&56320==(64512&Y.charCodeAt(j+1))?($=65536+((1023&$)<<10)+(1023&Y.charCodeAt(++j)),U[F++]=$>>18|240,U[F++]=$>>12&63|128,U[F++]=$>>6&63|128,U[F++]=63&$|128):(U[F++]=$>>12|224,U[F++]=$>>6&63|128,U[F++]=63&$|128)}return U},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,U){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let $=0;$<Y.length;$+=3){const ve=Y[$],je=$+1<Y.length,mt=je?Y[$+1]:0,Qt=$+2<Y.length,qt=Qt?Y[$+2]:0;let L=(15&mt)<<2|qt>>6,B=63&qt;Qt||(B=64,je||(L=64)),j.push(F[ve>>2],F[(3&ve)<<4|mt>>4],F[L],F[B])}return j.join("")},encodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Y):this.encodeByteArray(ue(Y),U)},decodeString(Y,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Y):function(Y){const U=[];let F=0,j=0;for(;F<Y.length;){const $=Y[F++];if($<128)U[j++]=String.fromCharCode($);else if($>191&&$<224){const ve=Y[F++];U[j++]=String.fromCharCode((31&$)<<6|63&ve)}else if($>239&&$<365){const Qt=((7&$)<<18|(63&Y[F++])<<12|(63&Y[F++])<<6|63&Y[F++])-65536;U[j++]=String.fromCharCode(55296+(Qt>>10)),U[j++]=String.fromCharCode(56320+(1023&Qt))}else{const ve=Y[F++],je=Y[F++];U[j++]=String.fromCharCode((15&$)<<12|(63&ve)<<6|63&je)}}return U.join("")}(this.decodeStringToByteArray(Y,U))},decodeStringToByteArray(Y,U){this.init_();const F=U?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let $=0;$<Y.length;){const ve=F[Y.charAt($++)],mt=$<Y.length?F[Y.charAt($)]:0;++$;const qt=$<Y.length?F[Y.charAt($)]:64;++$;const J=$<Y.length?F[Y.charAt($)]:64;if(++$,null==ve||null==mt||null==qt||null==J)throw Error();j.push(ve<<2|mt>>4),64!==qt&&(j.push(mt<<4&240|qt>>2),64!==J&&j.push(qt<<6&192|J))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},he=function(Y){const U=ue(Y);return De.encodeByteArray(U,!0)},be=function(Y){return he(Y).replace(/\./g,"")},Fe=function(Y){try{return De.decodeString(Y,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function z(Y){return G(void 0,Y)}function G(Y,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return U}for(const F in U)!U.hasOwnProperty(F)||!X(F)||(Y[F]=G(Y[F],U[F]));return Y}function X(Y){return"__proto__"!==Y}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,F)=>{this.resolve=U,this.reject=F})}wrapCallback(U){return(F,j)=>{F?this.reject(F):this.resolve(j),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(F):U(F,j))}}}function Le(Y,U){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=U||"demo-project",$=Y.iat||0,ve=Y.sub||Y.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:$,exp:$+3600,auth_time:$,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(je)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function nt(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){return Ce().indexOf("Electron/")>=0}function Ie(){const Y=Ce();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ye(){return Ce().indexOf("MSAppHost/")>=0}function He(){return!1}function ie(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){return"object"==typeof indexedDB}function me(){return new Promise((Y,U)=>{try{let F=!0;const j="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(j);$.onsuccess=()=>{$.result.close(),F||self.indexedDB.deleteDatabase(j),Y(!0)},$.onupgradeneeded=()=>{F=!1},$.onerror=()=>{var ve;U((null===(ve=$.error)||void 0===ve?void 0:ve.message)||"")}}catch(F){U(F)}})}function Z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(U,F,j){super(F),this.code=U,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(U,F,j){this.service=U,this.serviceName=F,this.errors=j}create(U,...F){const j=F[0]||{},$=`${this.service}/${U}`,ve=this.errors[U],je=ve?function Oe(Y,U){return Y.replace(ct,(F,j)=>{const $=U[j];return null!=$?String($):`<${j}?>`})}(ve,j):"Error";return new ne($,`${this.serviceName}: ${je} (${$}).`,j)}}const ct=/\{\$([^}]+)}/g;function zt(Y){return JSON.parse(Y)}function Ht(Y){return JSON.stringify(Y)}const $e=function(Y){let U={},F={},j={},$="";try{const ve=Y.split(".");U=zt(Fe(ve[0])||""),F=zt(Fe(ve[1])||""),$=ve[2],j=F.d||{},delete F.d}catch{}return{header:U,claims:F,data:j,signature:$}},an=function(Y){const F=$e(Y).claims;return!!F&&"object"==typeof F&&F.hasOwnProperty("iat")},Wt=function(Y){const U=$e(Y).claims;return"object"==typeof U&&!0===U.admin};function Lt(Y,U){return Object.prototype.hasOwnProperty.call(Y,U)}function kt(Y,U){if(Object.prototype.hasOwnProperty.call(Y,U))return Y[U]}function Ni(Y){for(const U in Y)if(Object.prototype.hasOwnProperty.call(Y,U))return!1;return!0}function eo(Y,U,F){const j={};for(const $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(j[$]=U.call(F,Y[$],$,Y));return j}function Es(Y,U){if(Y===U)return!0;const F=Object.keys(Y),j=Object.keys(U);for(const $ of F){if(!j.includes($))return!1;const ve=Y[$],je=U[$];if(Mn(ve)&&Mn(je)){if(!Es(ve,je))return!1}else if(ve!==je)return!1}for(const $ of j)if(!F.includes($))return!1;return!0}function Mn(Y){return null!==Y&&"object"==typeof Y}function wr(Y){const U=[];for(const[F,j]of Object.entries(Y))Array.isArray(j)?j.forEach($=>{U.push(encodeURIComponent(F)+"="+encodeURIComponent($))}):U.push(encodeURIComponent(F)+"="+encodeURIComponent(j));return U.length?"&"+U.join("&"):""}function Cr(Y){const U={};return Y.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[$,ve]=j.split("=");U[decodeURIComponent($)]=decodeURIComponent(ve)}}),U}function Fi(Y){const U=Y.indexOf("?");if(!U)return"";const F=Y.indexOf("#",U);return Y.substring(U,F>0?F:void 0)}class to{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,F){F||(F=0);const j=this.W_;if("string"==typeof U)for(let J=0;J<16;J++)j[J]=U.charCodeAt(F)<<24|U.charCodeAt(F+1)<<16|U.charCodeAt(F+2)<<8|U.charCodeAt(F+3),F+=4;else for(let J=0;J<16;J++)j[J]=U[F]<<24|U[F+1]<<16|U[F+2]<<8|U[F+3],F+=4;for(let J=16;J<80;J++){const L=j[J-3]^j[J-8]^j[J-14]^j[J-16];j[J]=4294967295&(L<<1|L>>>31)}let qt,Yn,$=this.chain_[0],ve=this.chain_[1],je=this.chain_[2],mt=this.chain_[3],Qt=this.chain_[4];for(let J=0;J<80;J++){J<40?J<20?(qt=mt^ve&(je^mt),Yn=1518500249):(qt=ve^je^mt,Yn=1859775393):J<60?(qt=ve&je|mt&(ve|je),Yn=2400959708):(qt=ve^je^mt,Yn=3395469782);const L=($<<5|$>>>27)+qt+Qt+Yn+j[J]&4294967295;Qt=mt,mt=je,je=4294967295&(ve<<30|ve>>>2),ve=$,$=L}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+ve&4294967295,this.chain_[2]=this.chain_[2]+je&4294967295,this.chain_[3]=this.chain_[3]+mt&4294967295,this.chain_[4]=this.chain_[4]+Qt&4294967295}update(U,F){if(null==U)return;void 0===F&&(F=U.length);const j=F-this.blockSize;let $=0;const ve=this.buf_;let je=this.inbuf_;for(;$<F;){if(0===je)for(;$<=j;)this.compress_(U,$),$+=this.blockSize;if("string"==typeof U){for(;$<F;)if(ve[je]=U.charCodeAt($),++je,++$,je===this.blockSize){this.compress_(ve),je=0;break}}else for(;$<F;)if(ve[je]=U[$],++je,++$,je===this.blockSize){this.compress_(ve),je=0;break}}this.inbuf_=je,this.total_+=F}digest(){const U=[];let F=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&F,F/=256;this.compress_(this.buf_);let j=0;for(let $=0;$<5;$++)for(let ve=24;ve>=0;ve-=8)U[j]=this.chain_[$]>>ve&255,++j;return U}}function ft(Y,U){const F=new vn(Y,U);return F.subscribe.bind(F)}class vn{constructor(U,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{U(this)}).catch(j=>{this.error(j)})}next(U){this.forEachObserver(F=>{F.next(U)})}error(U){this.forEachObserver(F=>{F.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,F,j){let $;if(void 0===U&&void 0===F&&void 0===j)throw new Error("Missing Observer.");$=function Kt(Y,U){if("object"!=typeof Y||null===Y)return!1;for(const F of U)if(F in Y&&"function"==typeof Y[F])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:F,complete:j},void 0===$.next&&($.next=yi),void 0===$.error&&($.error=yi),void 0===$.complete&&($.complete=yi);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),ve}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,U)}sendOne(U,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{F(this.observers[U])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yi(){}function vi(Y,U){return`${Y} failed: ${U} argument `}const et=function(Y){const U=[];let F=0;for(let j=0;j<Y.length;j++){let $=Y.charCodeAt(j);if($>=55296&&$<=56319){const ve=$-55296;j++,V(j<Y.length,"Surrogate pair missing trail surrogate."),$=65536+(ve<<10)+(Y.charCodeAt(j)-56320)}$<128?U[F++]=$:$<2048?(U[F++]=$>>6|192,U[F++]=63&$|128):$<65536?(U[F++]=$>>12|224,U[F++]=$>>6&63|128,U[F++]=63&$|128):(U[F++]=$>>18|240,U[F++]=$>>12&63|128,U[F++]=$>>6&63|128,U[F++]=63&$|128)}return U},Xe=function(Y){let U=0;for(let F=0;F<Y.length;F++){const j=Y.charCodeAt(F);j<128?U++:j<2048?U+=2:j>=55296&&j<=56319?(U+=4,F++):U+=3}return U};function Vi(Y,U=1e3,F=2){const j=U*Math.pow(F,Y),$=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+$)}function It(Y){return Y&&Y._delegate?Y._delegate:Y}},2112:(ht,Me,N)=>{var c=N(4650);let V=null;function P(){return V}const he=new c.OlP("DocumentToken");let be=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Fe(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const z=new c.OlP("Location Initialized");let G=(()=>{class n extends be{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){X()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){X()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new G((0,c.LFG)(he))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ce(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(nt)},providedIn:"root"}),n})();const pe=new c.OlP("appBaseHref");let nt=(()=>{class n extends ae{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+Je(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+Je(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(be),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),it=(()=>{class n extends ae{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Le(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+Je(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+Je(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(be),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ce(He(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Je(i))}normalize(e){return n.stripTrailingSlash(function ye(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,He(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=Le,n.stripTrailingSlash=Ce,n.\u0275fac=function(e){return new(e||n)(c.LFG(ae))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return new ke((0,c.LFG)(ae))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}let jo=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class zo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new zo(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,l),ts(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ts(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ts(n,t){n.context.$implicit=t.item}let Lr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Bi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ui("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ui("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bi{constructor(){this.$implicit=null,this.ngIf=null}}function Ui(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Al{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ns=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ia=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Al(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ns,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Oc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),l=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class j0{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Ts{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const $0=new Ts,fp=new j0;let E_=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return $0;if((0,c.F4k)(e))return fp;throw function Er(n,t){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Ss=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ml="browser";function Rd(n){return"server"===n}let I_=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new xl((0,c.LFG)(he),window)}),n})();class xl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Pd(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=lr(this.window.history)||lr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function lr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Aa extends class Ci extends class De{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ae(n){V||(V=n)}(new Aa)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Nd(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}();return null==e?null:function Bc(n){Ir=Ir||document.createElement("a"),Ir.setAttribute("href",n);const t=Ir.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ln(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Ir,co=null;const Wo=new c.OlP("TRANSITION_ID"),Fd=[{provide:c.ip1,useFactory:function wt(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Wo,he,c.zs3],multi:!0}];let vp=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=new c.OlP("EventManagerPlugins");let Uc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Sa),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class kl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let bp=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qo=(()=>{class n extends bp{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ee),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ee))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ee(n){P().remove(n)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yo=/%COMP%/g;function Ko(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ko(n,r,e):(r=r.replace(Yo,n),e.push(r))}return e}function Vd(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ol=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ma(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new uo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new Ms(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ko(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Uc),c.LFG(qo),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ma{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Vt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Bd(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Bd(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Vt[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Vt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vd(i)):this.eventManager.addEventListener(t,e,Vd(i))}}function Bd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class uo extends Ma{constructor(t,e,i,r){super(t),this.component=i;const s=Ko(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function rs(n){return"_ngcontent-%COMP%".replace(Yo,n)}(r+"-"+i.id),this.hostAttr=function Rl(n){return"_nghost-%COMP%".replace(Yo,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Ms extends Ma{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ko(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const h=document.createElement("style");h.textContent=s[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let T_=(()=>{class n extends kl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=["alt","control","meta","shift"],Ud={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cp=(()=>{class n extends kl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="";if(Pl.forEach(p=>{const _=i.indexOf(p);_>-1&&(i.splice(_,1),l+=p+".")}),l+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=l,h}static getEventFullKey(e){let i="",r=function Fl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Hc.hasOwnProperty(t)&&(t=Hc[t]))}return Ud[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Pl.forEach(s=>{s!=r&&(0,Nl[s])(e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const zd=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ml},{provide:c.g9A,useValue:function jc(){Aa.makeCurrent()},multi:!0},{provide:he,useFactory:function $c(){return(0,c.RDi)(document),document},deps:[]}]),Gd=new c.OlP(""),zc=[{provide:c.rWj,useClass:class yp{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const h=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ei=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Dp(){return new c.qLn},deps:[]},{provide:Sa,useClass:T_,multi:!0,deps:[he,c.R0b,c.Lbi]},{provide:Sa,useClass:Cp,multi:!0,deps:[he]},{provide:Ol,useClass:Ol,deps:[Uc,qo,c.AFp]},{provide:c.FYo,useExisting:Ol},{provide:bp,useExisting:qo},{provide:qo,useClass:qo,deps:[he]},{provide:Uc,useClass:Uc,deps:[Sa,c.R0b]},{provide:class lo{},useClass:vp,deps:[]},[]];let ji=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Wo,useExisting:c.AFp},Fd]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Gd,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Ei,...zc],imports:[Ss,c.hGG]}),n})(),Ap=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Tp(){return new Ap((0,c.LFG)(he))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(Bl),i},providedIn:"root"}),n})(),Bl=(()=>{class n extends Qo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Vl(n){return new Bl(n.get(he))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Xt=N(8996),Xo=N(3269);function Ve(...n){const t=(0,Xo.yG)(n);return(0,Xt.D)(n,t)}var rt=N(7579);class $i extends rt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Bn=N(9751);const{isArray:Ul}=Array,{getPrototypeOf:Zd,prototype:Yc,keys:Hl}=Object;function Rp(n){if(1===n.length){const t=n[0];if(Ul(t))return{args:t,keys:null};if(function jl(n){return n&&"object"==typeof n&&Zd(n)===Yc}(t)){const e=Hl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var fo=N(4671),st=N(4004);const{isArray:$l}=Array;function po(n){return(0,st.U)(t=>function N_(n,t){return $l(t)?n(...t):n(t)}(n,t))}function Jo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var bn=N(5403),Op=N(9672);function ka(...n){const t=(0,Xo.yG)(n),e=(0,Xo.jO)(n),{args:i,keys:r}=Rp(n);if(0===i.length)return(0,Xt.D)([],t);const s=new Bn.y(function ea(n,t,e=fo.y){return i=>{Pp(t,()=>{const{length:r}=n,s=new Array(r);let l=r,h=r;for(let p=0;p<r;p++)Pp(t,()=>{const _=(0,Xt.D)(n[p],t);let b=!1;_.subscribe((0,bn.x)(i,D=>{s[p]=D,b||(b=!0,h--),h||i.next(e(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>Jo(r,l):fo.y));return e?s.pipe(po(e)):s}function Pp(n,t,e){n?(0,Op.f)(e,n,t):t()}var Ra=N(8189);function Oa(...n){return function Np(){return(0,Ra.J)(1)}()((0,Xt.D)(n,(0,Xo.yG)(n)))}var mo=N(8421);function Pa(n){return new Bn.y(t=>{(0,mo.Xf)(n()).subscribe(t)})}var Na=N(9635),si=N(576);function Vr(n,t){const e=(0,si.m)(n)?n:()=>n,i=r=>r.error(e());return new Bn.y(t?r=>t.schedule(i,0,r):i)}const Rs=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var cr=N(515),Un=N(727),Cn=N(4482);function nn(){return(0,Cn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,bn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class F_ extends Bn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Cn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Un.w0;const e=this.getSubject();t.add(this.source.subscribe((0,bn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Un.w0.EMPTY)}return t}refCount(){return nn()(this)}}function Kn(n,t){return(0,Cn.e)((e,i)=>{let r=null,s=0,l=!1;const h=()=>l&&!r&&i.complete();e.subscribe((0,bn.x)(i,p=>{r?.unsubscribe();let _=0;const b=s++;(0,mo.Xf)(n(p,b)).subscribe(r=(0,bn.x)(i,D=>i.next(t?t(p,D,b,_++):D),()=>{r=null,h()}))},()=>{l=!0,h()}))})}function gn(n){return n<=0?()=>cr.E:(0,Cn.e)((t,e)=>{let i=0;t.subscribe((0,bn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function hi(...n){const t=(0,Xo.yG)(n);return(0,Cn.e)((e,i)=>{(t?Oa(n,e,t):Oa(n,e)).subscribe(i)})}function Jt(n,t){return(0,Cn.e)((e,i)=>{let r=0;e.subscribe((0,bn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Di=N(5577);function Qd(n){return(0,Cn.e)((t,e)=>{let i=!1;t.subscribe((0,bn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Fa(n=L_){return(0,Cn.e)((t,e)=>{let i=!1;t.subscribe((0,bn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function L_(){return new Rs}function go(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Jt((r,s)=>n(r,s,i)):fo.y,gn(1),e?Qd(t):Fa(()=>new Rs))}function dn(n,t){return(0,si.m)(t)?(0,Di.z)(n,t,1):(0,Di.z)(n,1)}function En(n,t,e){const i=(0,si.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,Cn.e)((r,s)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let h=!0;r.subscribe((0,bn.x)(s,p=>{var _;null===(_=i.next)||void 0===_||_.call(i,p),s.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),s.complete()},p=>{var _;h=!1,null===(_=i.error)||void 0===_||_.call(i,p),s.error(p)},()=>{var p,_;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(_=i.finalize)||void 0===_||_.call(i)}))}):fo.y}function Si(n){return(0,Cn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,bn.x)(e,void 0,void 0,l=>{s=(0,mo.Xf)(n(l,Si(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function eC(n,t,e,i,r){return(s,l)=>{let h=e,p=t,_=0;s.subscribe((0,bn.x)(l,b=>{const D=_++;p=h?n(p,b,D):(h=!0,b),i&&l.next(p)},r&&(()=>{h&&l.next(p),l.complete()})))}}function ta(n,t){return(0,Cn.e)(eC(n,t,arguments.length>=2,!0))}function Mi(n){return n<=0?()=>cr.E:(0,Cn.e)((t,e)=>{let i=[];t.subscribe((0,bn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Tr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Jt((r,s)=>n(r,s,i)):fo.y,Mi(1),e?Qd(t):Fa(()=>new Rs))}function Os(n){return(0,st.U)(()=>n)}function Br(n){return(0,Cn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const St="primary";class V_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _o(n){return new V_(n)}function tC(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],h=n[s];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ur(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!zi(n[r],t[r]))return!1;return!0}function zi(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Zc(n){return Array.prototype.concat.apply([],n)}function na(n){return n.length>0?n[n.length-1]:null}function Qn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ps(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Xt.D)(Promise.resolve(n)):Ve(n)}const U_={exact:function ia(n,t,e){if(!Ar(n.segments,t.segments)||!ra(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ia(n.children[i],t.children[i],e))return!1;return!0},subset:os},Kc={exact:function zl(n,t){return ur(n,t)},subset:function nC(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>zi(n[e],t[e]))},ignored:()=>!0};function Lp(n,t,e){return U_[e.paths](n.root,t.root,e.matrixParams)&&Kc[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function os(n,t,e){return Qc(n,t,t.segments,e)}function Qc(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ar(r,e)||t.hasChildren()||!ra(r,e,i))}if(n.segments.length===e.length){if(!Ar(n.segments,e)||!ra(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!os(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ar(n.segments,r)&&ra(n.segments,r,i)&&n.children[St])&&Qc(n.children[St],t,s,i)}}function ra(n,t,e){return t.every((i,r)=>Kc[e](n[r].parameters,i.parameters))}class Ns{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return Bp.serialize(this)}}class Nt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return aa(this)}}class sa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_o(this.parameters)),this._parameterMap}toString(){return Gl(this)}}function Ar(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class eh{}class Hn{parse(t){const e=new Ha(t);return new Ns(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${la(t.root,!0)}`,i=function nh(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ba(e)}=${Ba(r)}`).join("&"):`${Ba(e)}=${Ba(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function H_(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Bp=new Hn;function aa(n){return n.segments.map(t=>Gl(t)).join("/")}function la(n,t){if(!n.hasChildren())return aa(n);if(t){const e=n.children[St]?la(n.children[St],!1):"",i=[];return Qn(n.children,(r,s)=>{s!==St&&i.push(`${s}:${la(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function oa(n,t){let e=[];return Qn(n.children,(i,r)=>{r===St&&(e=e.concat(t(i,r)))}),Qn(n.children,(i,r)=>{r!==St&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===St?[la(n.children[St],!1)]:[`${r}:${la(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${aa(n)}/${e[0]}`:`${aa(n)}/(${e.join("//")})`}}function Va(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ba(n){return Va(n).replace(/%3B/gi,";")}function th(n){return Va(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yo(n){return decodeURIComponent(n)}function Ua(n){return yo(n.replace(/\+/g,"%20"))}function Gl(n){return`${th(n.path)}${function ca(n){return Object.keys(n).map(t=>`;${th(t)}=${th(n[t])}`).join("")}(n.parameters)}`}const ih=/^[^\/()?;=#]+/;function as(n){const t=n.match(ih);return t?t[0]:""}const Xc=/^[^=?&#]+/,Up=/^[^&#]+/;class Ha{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[St]=new Nt(t,e)),i}parseSegment(){const t=as(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(t),new sa(yo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=as(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=as(this.remaining);r&&(i=r,this.capture(i))}t[yo(e)]=yo(i)}parseQueryParam(t){const e=function rh(n){const t=n.match(Xc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function Hp(n){const t=n.match(Up);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Ua(e),s=Ua(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=as(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=St);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[St]:new Nt([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,!1)}}function vo(n){return n.segments.length>0?new Nt([],{[St]:n}):n}function ja(n){const t={};for(const i of Object.keys(n.children)){const s=ja(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function iC(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new Nt(n.segments.concat(t.segments),t.children)}return n}(new Nt(n.segments,t))}function bo(n){return n instanceof Ns}function jp(n,t,e,i,r){if(0===e.length)return $a(t.root,t.root,t.root,i,r);const s=function ah(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new G_(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Qn(s.outlets,(p,_)=>{h[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new G_(e,t,i)}(e);return s.toRoot()?$a(t.root,t.root,new Nt([],{}),i,r):function l(p){const _=function W_(n,t,e,i){if(n.isAbsolute)return new Wl(t.root,!0,0);if(-1===i)return new Wl(e,e===t.root,0);return function ch(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Wl(i,!1,r-s)}(e,i+(wo(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),b=_.processChildren?ls(_.segmentGroup,_.index,s.commands):ql(_.segmentGroup,_.index,s.commands);return $a(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function wo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fs(n){return"object"==typeof n&&null!=n&&n.outlets}function $a(n,t,e,i,r){let l,s={};i&&Qn(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),l=n===t?e:oh(n,t,e);const h=vo(ja(l));return new Ns(h,s,r)}function oh(n,t,e){const i={};return Qn(n.children,(r,s)=>{i[s]=r===t?e:oh(r,t,e)}),new Nt(n.segments,i)}class G_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&wo(i[0]))throw new c.vHH(4003,!1);const r=i.find(Fs);if(r&&r!==na(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ql(n,t,e){if(n||(n=new Nt([],{})),0===n.segments.length&&n.hasChildren())return ls(n,t,e);const i=function q_(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],h=e[i];if(Fs(h))break;const p=`${h}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Jc(p,_,l))return s;i+=2}else{if(!Jc(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Nt(n.segments.slice(0,i.pathIndex),{});return s.children[St]=new Nt(n.segments.slice(i.pathIndex),n.children),ls(s,0,r)}return i.match&&0===r.length?new Nt(n.segments,{}):i.match&&!n.hasChildren()?uh(n,t,e):i.match?ls(n,0,r):uh(n,t,e)}function ls(n,t,e){if(0===e.length)return new Nt(n.segments,{});{const i=function za(n){return Fs(n[0])?n[0].outlets:{[St]:n}}(e),r={};return Qn(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=ql(n.children[l],t,s))}),Qn(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new Nt(n.segments,r)}}function uh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Fs(s)){const p=rC(s.outlets);return new Nt(i,p)}if(0===r&&wo(e[0])){i.push(new sa(n.segments[t].path,Ga(e[0]))),r++;continue}const l=Fs(s)?s.outlets[St]:`${s}`,h=r<e.length-1?e[r+1]:null;l&&h&&wo(h)?(i.push(new sa(l,Ga(h))),r+=2):(i.push(new sa(l,{})),r++)}return new Nt(i,{})}function rC(n){const t={};return Qn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=uh(new Nt([],{}),0,e))}),t}function Ga(n){const t={};return Qn(n,(e,i)=>t[i]=`${e}`),t}function Jc(n,t,e){return n==e.path&&ur(t,e.parameters)}class cs{constructor(t,e){this.id=t,this.url=e}}class eu extends cs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Co extends cs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sr extends cs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $p extends cs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dh extends cs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y_ extends cs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zp extends cs{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z_ extends cs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur extends cs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wa{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K_{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qp{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class g{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=y(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=y(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=E(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return E(t,this._root).map(e=>e.value)}}function y(n,t){if(n===t.value)return t;for(const e of t.children){const i=y(n,e);if(i)return i}return null}function E(n,t){if(n===t.value)return[t];for(const e of t.children){const i=E(n,e);if(i.length)return i.unshift(t),i}return[]}class S{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function k(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ee extends g{constructor(t,e){super(t),this.snapshot=e,Yl(this,t)}toString(){return this.snapshot.toString()}}function ge(n,t){const e=function Ye(n,t){const l=new Gi([],{},{},"",{},St,t,null,n.root,-1,{});return new us("",new S(l,[]))}(n,t),i=new $i([new sa("",{})]),r=new $i({}),s=new $i({}),l=new $i({}),h=new $i(""),p=new Ke(i,r,l,h,s,St,t,e.root);return p.snapshot=e.root,new ee(new S(p,[]),e)}class Ke{constructor(t,e,i,r,s,l,h,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(t=>_o(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(t=>_o(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ct(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function _n(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Gi{constructor(t,e,i,r,s,l,h,p,_,b,D,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._correctedLastPathIndex=A??b,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class us extends g{constructor(t,e){super(e),this.url=t,Yl(this,e)}toString(){return Yp(this._root)}}function Yl(n,t){t.value._routerState=n,t.children.forEach(e=>Yl(n,e))}function Yp(n){const t=n.children.length>0?` { ${n.children.map(Yp).join(", ")} } `:"";return`${n.value}${t}`}function tu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ur(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ur(t.params,e.params)||n.params.next(e.params),function La(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ur(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ur(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function qa(n,t){const e=ur(n.params,t.params)&&function Vp(n,t){return Ar(n,t)&&n.every((e,i)=>ur(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||qa(n.parent,t.parent))}function Ls(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function J_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ls(n,i,r);return Ls(n,i)})}(n,t,e);return new S(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(h=>Ls(n,h)),l}}const i=function ey(n){return new Ke(new $i(n.url),new $i(n.params),new $i(n.queryParams),new $i(n.fragment),new $i(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Ls(n,s));return new S(i,r)}}const Ya="ngNavigationCancelingError";function hh(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=bo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Zp(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Zp(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ya]=!0,i.cancellationCode=t,e&&(i.url=e),i}function iu(n){return Kp(n)&&bo(n.url)}function Kp(n){return n&&n[Ya]}class sC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Za,this.attachRef=null}}class Za{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new sC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const fh=!1;let ph=(()=>{class n{constructor(e,i,r,s,l){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=r||St,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,fh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,fh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,fh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,fh);this._activatedRoute=e;const r=this.location,l=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new CS(e,h,r.injector);if(i&&function Xn(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(l);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Za),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class CS{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ke?this.route:t===Za?this.childContexts:this.parent.get(t,e)}}let oC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[ph],encapsulation:2}),n})();function aC(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function cC(n){const t=n.children&&n.children.map(cC),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=oC),e}function Wi(n){return n.outlet||St}function Qp(n,t){const e=n.filter(i=>Wi(i)===t);return e.push(...n.filter(i=>Wi(i)!==t)),e}function ny(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class dC{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=k(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Qn(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=k(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=k(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=k(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new X_(s.value.snapshot))}),t.children.length&&this.forwardEvent(new K_(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(tu(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),tu(h.route.value),this.activateChildRoutes(t,null,l.children)}else{const h=ny(r.snapshot),p=h?.get(c._Vd)??null;l.attachRef=null,l.route=r,l.resolver=p,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class hC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mh{constructor(t,e){this.component=t,this.route=e}}function fC(n,t,e){const i=n._root;return gh(i,t?t._root:null,e,[i.value])}function ry(n,t,e){return(ny(t)??e).get(n)}function gh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=k(t);return n.children.forEach(l=>{(function sy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function pC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ar(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ar(n.url,t.url)||!ur(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qa(n,t)||!ur(n.queryParams,t.queryParams);default:return!qa(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new hC(i)):(s.data=l.data,s._resolvedData=l._resolvedData),gh(n,t,s.component?h?h.children:null:e,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new mh(h.outlet.component,l))}else l&&ru(t,h,r),r.canActivateChecks.push(new hC(i)),gh(n,null,s.component?h?h.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),Qn(s,(l,h)=>ru(l,e.getContext(h),r)),r}function ru(n,t,e){const i=k(n),r=n.value;Qn(i,(s,l)=>{ru(s,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new mh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Vs(n){return"function"==typeof n}const ou=Symbol("INITIAL_VALUE");function au(){return Kn(n=>ka(n.map(t=>t.pipe(gn(1),hi(ou)))).pipe((0,st.U)(t=>{for(const e of t)if(!0!==e){if(e===ou)return ou;if(!1===e||e instanceof Ns)return e}return!0}),Jt(t=>t!==ou),gn(1)))}function cy(n){return(0,Na.z)(En(t=>{if(bo(t))throw hh(0,t)}),(0,st.U)(t=>!0===t))}const em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NS(n,t,e,i,r){const s=uy(n,t,e);return s.matched?function PS(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ve(r.map(l=>{const h=n.get(l),p=function Jp(n){return n&&Vs(n.canMatch)}(h)?h.canMatch(t,e):h(t,e);return Ps(p)})).pipe(au(),cy()):Ve(!0)}(i=aC(t,i),t,e).pipe((0,st.U)(l=>!0===l?s:{...em})):Ve(s)}function uy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...em}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||tC)(e,n,t);if(!r)return{...em};const s={};Qn(r.posParams,(h,p)=>{s[p]=h.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function Ka(n,t,e,i,r="corrected"){if(e.length>0&&function _h(n,t,e){return e.some(i=>dy(n,t,i)&&Wi(i)!==St)}(n,e,i)){const l=new Nt(t,function cu(n,t,e,i){const r={};r[St]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Wi(s)!==St){const l=new Nt([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[Wi(s)]=l}return r}(n,t,i,new Nt(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function LS(n,t,e){return e.some(i=>dy(n,t,i))}(n,e,i)){const l=new Nt(n.segments,function FS(n,t,e,i,r,s){const l={};for(const h of i)if(dy(n,e,h)&&!r[Wi(h)]){const p=new Nt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[Wi(h)]=p}return{...r,...l}}(n,t,e,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new Nt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function dy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function hy(n,t,e,i){return!!(Wi(n)===i||i!==St&&dy(t,e,n))&&("**"===n.path||uy(t,n,e).matched)}function _C(n,t,e){return 0===t.length&&!n.children[e]}const tm=!1;class nm{constructor(t){this.segmentGroup=t||null}}class fy{constructor(t){this.urlTree=t}}function uu(n){return Vr(new nm(n))}function im(n){return Vr(new fy(n))}class oL{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Ka(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,St).pipe((0,st.U)(s=>this.createUrlTree(ja(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Si(s=>{if(s instanceof fy)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nm?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,St).pipe((0,st.U)(r=>this.createUrlTree(ja(r),t.queryParams,t.fragment))).pipe(Si(r=>{throw r instanceof nm?this.noMatchError(r):r}))}noMatchError(t){return new c.vHH(4002,tm)}createUrlTree(t,e,i){const r=vo(t);return new Ns(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,st.U)(s=>new Nt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Xt.D)(r).pipe(dn(s=>{const l=i.children[s],h=Qp(e,s);return this.expandSegmentGroup(t,h,l,s).pipe((0,st.U)(p=>({segment:p,outlet:s})))}),ta((s,l)=>(s[l.outlet]=l.segment,s),{}),Tr())}expandSegment(t,e,i,r,s,l){return(0,Xt.D)(i).pipe(dn(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,l).pipe(Si(_=>{if(_ instanceof nm)return Ve(null);throw _}))),go(h=>!!h),Si((h,p)=>{if(h instanceof Rs||"EmptyError"===h.name)return _C(e,r,s)?Ve(new Nt([],{})):uu(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,l,h){return hy(r,e,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l):uu(e):uu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?im(s):this.lineralizeSegments(i,s).pipe((0,Di.z)(l=>{const h=new Nt(l,{});return this.expandSegment(t,h,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:h,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=uy(e,r,s);if(!h)return uu(e);const D=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?im(D):this.lineralizeSegments(r,D).pipe((0,Di.z)(A=>this.expandSegment(t,e,i,A.concat(_),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=aC(i,t),i.loadChildren?(i._loadedRoutes?Ve({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,st.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Nt(r,{})))):Ve(new Nt(r,{}))):NS(e,i,r,t).pipe(Kn(({matched:l,consumedSegments:h,remainingSegments:p})=>l?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Di.z)(b=>{const D=b.injector??t,A=b.routes,{segmentGroup:x,slicedSegments:O}=Ka(e,h,p,A),q=new Nt(x.segments,x.children);if(0===O.length&&q.hasChildren())return this.expandChildren(D,A,q).pipe((0,st.U)(ot=>new Nt(h,ot)));if(0===A.length&&0===O.length)return Ve(new Nt(h,{}));const oe=Wi(i)===s;return this.expandSegment(D,q,A,O,oe?St:s,!0).pipe((0,st.U)(qe=>new Nt(h.concat(qe.segments),qe.children)))})):uu(e)))}getChildConfig(t,e,i){return e.children?Ve({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ve({routes:e._loadedRoutes,injector:e._loadedInjector}):function OS(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ve(!0):Ve(r.map(l=>{const h=n.get(l),p=function oy(n){return n&&Vs(n.canLoad)}(h)?h.canLoad(t,e):h(t,e);return Ps(p)})).pipe(au(),cy())}(t,e,i).pipe((0,Di.z)(r=>r?this.configLoader.loadChildren(t,e).pipe(En(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function BS(n){return Vr(Zp(tm,3))}())):Ve({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ve(i);if(r.numberOfChildren>1||!r.children[St])return Vr(new c.vHH(4e3,tm));r=r.children[St]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ns(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return Qn(e.children,(h,p)=>{l[p]=this.createSegmentGroup(t,h,i,r)}),new Nt(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,tm);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class lL{}class dL{constructor(t,e,i,r,s,l,h,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h,this.urlSerializer=p}recognize(){const t=Ka(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,St).pipe((0,st.U)(e=>{if(null===e)return null;const i=new Gi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new S(i,e),s=new us(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=Ct(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Xt.D)(Object.keys(i.children)).pipe(dn(r=>{const s=i.children[r],l=Qp(e,r);return this.processSegmentGroup(t,l,s,r)}),ta((r,s)=>r&&s?(r.push(...s),r):null),function Fp(n,t=!1){return(0,Cn.e)((e,i)=>{let r=0;e.subscribe((0,bn.x)(i,s=>{const l=n(s,r++);(l||t)&&i.next(s),!l&&i.complete()}))})}(r=>null!==r),Qd(null),Tr(),(0,st.U)(r=>{if(null===r)return null;const s=rm(r);return function hL(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,Xt.D)(e).pipe(dn(l=>this.processSegmentAgainstRoute(l._injector??t,l,i,r,s)),go(l=>!!l),Si(l=>{if(l instanceof Rs)return _C(i,r,s)?Ve([]):Ve(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!hy(e,i,r,s))return Ve(null);let l;if("**"===e.path){const h=r.length>0?na(r).parameters:{},p=gy(i)+r.length;l=Ve({snapshot:new Gi(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bC(e),Wi(e),e.component??e._loadedComponent??null,e,my(i),p,om(e),p),consumedSegments:[],remainingSegments:[]})}else l=NS(i,e,r,t).pipe((0,st.U)(({matched:h,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!h)return null;const D=gy(i)+p.length;return{snapshot:new Gi(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bC(e),Wi(e),e.component??e._loadedComponent??null,e,my(i),D,om(e),D),consumedSegments:p,remainingSegments:_}}));return l.pipe(Kn(h=>{if(null===h)return Ve(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=h;t=e._injector??t;const D=e._loadedInjector??t,A=function US(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:x,slicedSegments:O}=Ka(i,_,b,A.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution);if(0===O.length&&x.hasChildren())return this.processChildren(D,A,x).pipe((0,st.U)(oe=>null===oe?null:[new S(p,oe)]));if(0===A.length&&0===O.length)return Ve([new S(p,[])]);const q=Wi(e)===s;return this.processSegment(D,A,x,O,q?St:s).pipe((0,st.U)(oe=>null===oe?null:[new S(p,oe)]))}))}}function yC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rm(n){const t=[],e=new Set;for(const i of n){if(!yC(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=rm(i.children);t.push(new S(i.value,r))}return t.filter(i=>!e.has(i))}function my(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gy(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function bC(n){return n.data||{}}function om(n){return n.resolve||{}}const _y=Symbol("RouteTitle");function CC(n){return"string"==typeof n.title||null===n.title}function yy(n){return Kn(t=>{const e=n(t);return e?(0,Xt.D)(e).pipe((0,st.U)(()=>t)):Ve(t)})}let am=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===St);return i}getResolvedTitleForRoute(e){return e.data[_y]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(EC)},providedIn:"root"}),n})(),EC=(()=>{class n extends am{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ap))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GS{}class DC extends class WS{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const vy=new c.OlP("",{providedIn:"root",factory:()=>({})}),vh=new c.OlP("ROUTES");let lm=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ve(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ps(e.loadComponent()).pipe(En(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Br(()=>{this.componentLoaders.delete(e)})),r=new F_(i,()=>new rt.x).pipe(nn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,st.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(h)?_=h:(p=h.create(e).injector,_=Zc(p.get(vh,[],c.XFs.Self|c.XFs.Optional)));return{routes:_.map(cC),injector:p}}),Br(()=>{this.childrenLoaders.delete(i)})),l=new F_(s,()=>new rt.x).pipe(nn());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return Ps(e()).pipe((0,Di.z)(i=>i instanceof c.YKP||Array.isArray(i)?Ve(i):(0,Xt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class by{}class Yi{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wy(n){throw n}function YS(n,t,e){return t.parse("/")}const ZS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Cy(){const n=(0,c.f3M)(eh),t=(0,c.f3M)(Za),e=(0,c.f3M)(ke),i=(0,c.f3M)(c.zs3),r=(0,c.f3M)(c.Sil),s=(0,c.f3M)(vh,{optional:!0})??[],l=(0,c.f3M)(vy,{optional:!0})??{},h=(0,c.f3M)(EC),p=(0,c.f3M)(am,{optional:!0}),_=(0,c.f3M)(by,{optional:!0}),b=(0,c.f3M)(GS,{optional:!0}),D=new dr(null,n,t,e,i,r,Zc(s));return _&&(D.urlHandlingStrategy=_),b&&(D.routeReuseStrategy=b),D.titleStrategy=p??h,function KS(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,D),D}let dr=(()=>{class n{constructor(e,i,r,s,l,h,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rt.x,this.errorHandler=wy,this.malformedUriErrorHandler=YS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ve(void 0),this.urlHandlingStrategy=new Yi,this.routeReuseStrategy=new DC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(lm),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new Gp(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new Wa(A)),this.ngModule=l.get(c.h0i),this.console=l.get(c.c2e);const D=l.get(c.R0b);this.isNgZoneEnabled=D instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Jd(){return new Ns(new Nt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ge(this.currentUrlTree,this.rootComponentType),this.transitions=new $i({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Jt(r=>0!==r.id),(0,st.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Kn(r=>{let s=!1,l=!1;return Ve(r).pipe(En(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kn(h=>{const p=this.browserUrlTree.toString(),_=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return AC(h.source)&&(this.browserUrlTree=h.extractedUrl),Ve(h).pipe(Kn(D=>{const A=this.transitions.getValue();return i.next(new eu(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),A!==this.transitions.getValue()?cr.E:Promise.resolve(D)}),function aL(n,t,e,i){return Kn(r=>function py(n,t,e,i,r){return new oL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,st.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),En(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function yh(n,t,e,i,r,s){return(0,Di.z)(l=>function uL(n,t,e,i,r,s,l="emptyOnly",h="legacy"){return new dL(n,t,e,i,r,l,h,s).recognize().pipe(Kn(p=>null===p?function cL(n){return new Bn.y(t=>t.error(n))}(new lL):Ve(p)))}(n,t,e,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,s).pipe((0,st.U)(h=>({...l,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),En(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(x,D)}this.browserUrlTree=D.urlAfterRedirects}const A=new dh(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:x,source:O,restoredState:q,extras:oe}=h,ze=new eu(A,this.serializeUrl(x),O,q);i.next(ze);const qe=ge(x,this.rootComponentType).snapshot;return Ve(r={...h,targetSnapshot:qe,urlAfterRedirects:x,extras:{...oe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),cr.E}),En(h=>{const p=new Y_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,st.U)(h=>r={...h,guards:fC(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function SS(n,t){return(0,Di.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?Ve({...e,guardsResult:!0}):function gC(n,t,e,i){return(0,Xt.D)(n).pipe((0,Di.z)(r=>function ly(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(h=>{const p=ry(h,t,r);return Ps(function ay(n){return n&&Vs(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,i):p(n,t,e,i)).pipe(go())})).pipe(au()):Ve(!0)}(r.component,r.route,e,t,i)),go(r=>!0!==r,!0))}(l,i,r,n).pipe((0,Di.z)(h=>h&&function TS(n){return"boolean"==typeof n}(h)?function lu(n,t,e,i){return(0,Xt.D)(t).pipe(dn(r=>Oa(function xS(n,t){return null!==n&&t&&t(new Wp(n)),Ve(!0)}(r.route.parent,i),function MS(n,t){return null!==n&&t&&t(new Q_(n)),Ve(!0)}(r.route,i),function RS(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function iy(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Pa(()=>Ve(l.guards.map(p=>{const _=ry(p,l.node,e);return Ps(function AS(n){return n&&Vs(n.canActivateChild)}(_)?_.canActivateChild(i,n):_(i,n)).pipe(go())})).pipe(au())));return Ve(s).pipe(au())}(n,r.path,e),function kS(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ve(!0);const r=i.map(s=>Pa(()=>{const l=ry(s,t,e);return Ps(function Xp(n){return n&&Vs(n.canActivate)}(l)?l.canActivate(t,n):l(t,n)).pipe(go())}));return Ve(r).pipe(au())}(n,r.route,e))),go(r=>!0!==r,!0))}(i,s,n,t):Ve(h)),(0,st.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),En(h=>{if(r.guardsResult=h.guardsResult,bo(h.guardsResult))throw hh(0,h.guardsResult);const p=new zp(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Jt(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),yy(h=>{if(h.guards.canActivateChecks.length)return Ve(h).pipe(En(p=>{const _=new Z_(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),Kn(p=>{let _=!1;return Ve(p).pipe(function HS(n,t){return(0,Di.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ve(e);let s=0;return(0,Xt.D)(r).pipe(dn(l=>function jS(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!CC(r)&&(s[_y]=r.title),function wC(n,t,e,i){const r=function $S(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ve({});const s={};return(0,Xt.D)(r).pipe((0,Di.z)(l=>function zS(n,t,e,i){const r=ry(n,t,i);return Ps(r.resolve?r.resolve(t,e):r(t,e))}(n[l],t,e,i).pipe(go(),En(h=>{s[l]=h}))),Mi(1),Os(s),Si(l=>l instanceof Rs?cr.E:Vr(l)))}(s,n,t,i).pipe((0,st.U)(l=>(n._resolvedData=l,n.data=Ct(n,e).resolve,r&&CC(r)&&(n.data[_y]=r.title),null)))}(l.route,i,n,t)),En(()=>s++),Mi(1),(0,Di.z)(l=>s===r.length?Ve(e):cr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),En({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),En(p=>{const _=new Ur(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),yy(h=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe(En(D=>{_.component=D}),(0,st.U)(()=>{})));for(const D of _.children)b.push(...p(D));return b};return ka(p(h.targetSnapshot.root)).pipe(Qd(),gn(1))}),yy(()=>this.afterPreactivation()),(0,st.U)(h=>{const p=function nu(n,t,e){const i=Ls(n,t._root,e?e._root:void 0);return new ee(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:p}}),En(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,st.U)(i=>(new dC(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),En({next(){s=!0},complete(){s=!0}}),Br(()=>{s||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Si(h=>{if(l=!0,Kp(h)){iu(h)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new Sr(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(p),iu(h)){const _=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||AC(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new $p(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(h))}catch(_){r.reject(_)}}return cr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(cC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:l;let D=null;switch(h){case"merge":D={...this.currentUrlTree.queryParams,...s};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),jp(_,this.currentUrlTree,e,D,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=bo(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function TC(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...ZS}:!1===i?{...IC}:i,bo(e))return Lp(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Lp(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Co(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let h,p,_;l?(h=l.resolve,p=l.reject,_=l.promise):_=new Promise((A,x)=>{h=A,p=x});const b=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:b,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:h,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new Sr(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return Cy()},providedIn:"root"}),n})();function AC(n){return"imperative"!==n}let bh=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.commands=null,this.onChanges=new rt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dr),c.Y36(Ke),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();class SC{}let MC=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(e=>e instanceof Co),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,c.MMx)(s.providers,e,`Route: ${s.path}`));const l=s._injector??e,h=s._loadedInjector??l;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(l,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,Xt.D)(r).pipe((0,Ra.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ve(null);const s=r.pipe((0,Di.z)(l=>null===l?Ve(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Xt.D)([s,l]).pipe((0,Ra.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(dr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(SC),c.LFG(lm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xC=new c.OlP("");let fL=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof eu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Co&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new qp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const eM=new c.OlP("ROUTER_FORROOT_GUARD"),Bs=new c.OlP(""),Dy=[ke,{provide:eh,useClass:Hn},{provide:dr,useFactory:Cy},Za,{provide:Ke,useFactory:function Iy(n){return n.routerState.root},deps:[dr]},lm];function tM(){return new c.PXZ("Router",dr)}let Ty=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Dy,[],cm(e),{provide:eM,useFactory:kC,deps:[[dr,new c.FiY,new c.tp0]]},{provide:vy,useValue:i||{}},i?.useHash?{provide:ae,useClass:it}:{provide:ae,useClass:nt},{provide:xC,useFactory:()=>{const n=(0,c.f3M)(dr),t=(0,c.f3M)(I_),e=(0,c.f3M)(vy);return e.scrollOffset&&t.setOffset(e.scrollOffset),new fL(n,t,e)}},i?.preloadingStrategy?sM(i.preloadingStrategy):[],{provide:c.PXZ,multi:!0,useFactory:tM},i?.initialNavigation?pL(i):[],[{provide:Sy,useFactory:Ay},{provide:c.tb,multi:!0,useExisting:Sy}]]}}static forChild(e){return{ngModule:n,providers:[cm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(eM,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function kC(n){return"guarded"}function cm(n){return[{provide:vh,multi:!0,useValue:n}]}function Ay(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(dr),r=n.get(um);1===n.get(My)&&i.initialNavigation(),n.get(Bs,null,c.XFs.Optional)?.setUpPreloading(),n.get(xC,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const Sy=new c.OlP("");function pL(n){return["disabled"===n.initialNavigation?[{provide:c.ip1,multi:!0,useFactory:()=>{const n=(0,c.f3M)(dr);return()=>{n.setUpLocationChangeListener()}}},{provide:My,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:My,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:n=>{const t=n.get(z,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const s=n.get(dr),l=n.get(um);(function i(r){n.get(dr).events.pipe(Jt(l=>l instanceof Co||l instanceof Sr||l instanceof $p),(0,st.U)(l=>l instanceof Co||l instanceof Sr&&(0===l.code||1===l.code)&&null),Jt(l=>null!==l),gn(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),s.afterPreactivation=()=>(r(!0),e||l.closed?Ve(void 0):l),s.initialNavigation()}))}}]:[]]}const um=new c.OlP("",{factory:()=>new rt.x}),My=new c.OlP("",{providedIn:"root",factory:()=>1});function sM(n){return[MC,{provide:Bs,useExisting:MC},{provide:SC,useExisting:n}]}let ky,OC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,i){1&e&&(c.TgZ(0,"p"),c._uU(1,"dashboard works!"),c.qZA())}}),n})();class fu{constructor(t){this.firstName=t?t.firstName:"",this.lastName=t?t.lastName:"",this.email=t?t.email:"",this.birthdate=t?t.birthdate:"",this.street=t?t.street:"",this.zipCode=t?t.zipCode:"",this.city=t?t.city:""}toJSON(){return{firstName:this.firstName,email:this.email,lastName:this.lastName,birthdate:this.birthdate,street:this.street,zipCode:this.zipCode,city:this.city}}}try{ky=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ky=!1}let Kl,oi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Hi(n){return n===Ml}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ky)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dm=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NC(){if(Kl)return Kl;if("object"!=typeof document||!document)return Kl=new Set(dm),Kl;let n=document.createElement("input");return Kl=new Set(dm.filter(t=>(n.setAttribute("type",t),n.type===t))),Kl}let Eh,Eo,Ja,LC;function Ql(n){return function FC(){if(null==Eh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Eh=!0}))}finally{Eh=Eh||!1}return Eh}()?n:!!n.capture}function Ry(){if(null==Ja){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ja=!1,Ja;if("scrollBehavior"in document.documentElement.style)Ja=!0;else{const n=Element.prototype.scrollTo;Ja=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ja}function Dh(){if("object"!=typeof document||!document)return 0;if(null==Eo){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Eo=0,0===n.scrollLeft&&(n.scrollLeft=1,Eo=0===n.scrollLeft?1:2),n.remove()}return Eo}function pu(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function el(n){return n.composedPath?n.composedPath()[0]:n.target}function fm(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ol(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class QL extends Un.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const Uy={setInterval(n,t,...e){const{delegate:i}=Uy;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Uy;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var al=N(8737);class yu extends QL{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Uy.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Uy.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,al.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Hy={now:()=>(Hy.delegate||Date).now(),delegate:void 0};class vu{constructor(t,e=vu.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}vu.now=Hy.now;class bu extends vu{constructor(t,e=vu.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const ec=new bu(yu),jy=ec;function _m(n,t=ec){return(0,Cn.e)((e,i)=>{let r=null,s=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=l+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);h()}e.subscribe((0,bn.x)(i,_=>{s=_,l=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function ua(n){return Jt((t,e)=>n<=e)}function ym(n,t=fo.y){return n=n??kM,(0,Cn.e)((e,i)=>{let r,s=!0;e.subscribe((0,bn.x)(i,l=>{const h=t(l);(s||!n(r,h))&&(s=!1,r=h,i.next(l))}))})}function kM(n,t){return n===t}var vm=N(5032);function yn(n){return(0,Cn.e)((t,e)=>{(0,mo.Xf)(n).subscribe((0,bn.x)(e,()=>e.complete(),vm.Z)),!e.closed&&t.subscribe(e)})}function Dn(n){return null!=n&&"false"!=`${n}`}function bm(n,t=0){return function RM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function tc(n){return Array.isArray(n)?n:[n]}function In(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Us(n){return n instanceof c.SBq?n.nativeElement:n}let Mh=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xh=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Us(e);return new Bn.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new rt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Mh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OM=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Dn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=bm(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(_m(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(xh),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),$y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Mh]}),n})();const wm=new Set;let ll,JC=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NM}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function zy(n){if(!wm.has(n))try{ll||(ll=document.createElement("style"),ll.setAttribute("type","text/css"),document.head.appendChild(ll)),ll.sheet&&(ll.sheet.insertRule(`@media ${n} {body{ }}`,0),wm.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NM(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let FM=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new rt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return eE(tc(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=ka(eE(tc(e)).map(l=>this._registerQuery(l).observable));return s=Oa(s.pipe(gn(1)),s.pipe(ua(1),_m(0))),s.pipe((0,st.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:_})=>{h.matches=h.matches||p,h.breakpoints[_]=p}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Bn.y(l=>{const h=p=>this._zone.run(()=>l.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(hi(i),(0,st.U)(({matches:l})=>({query:e,matches:l})),yn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(JC),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Cm(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Gy="cdk-describedby-message",Em="cdk-describedby-host";let sE=0,LM=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+sE++,this._document=e,this._id=(0,c.f3M)(c.AFp)+"-"+sE++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=kh(i,r);"string"!=typeof i?(Wy(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=kh(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const l=this._messageRegistry.get(s);l&&0===l.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Em}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Em);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Wy(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(kh(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Cm(e,"aria-describedby").filter(r=>0!=r.indexOf(Gy));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function iE(n,t,e){const i=Cm(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Em,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function rE(n,t,e){const r=Cm(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Em)}_isElementDescribedByMessage(e,i){const r=Cm(e,"aria-describedby"),s=this._messageRegistry.get(i),l=s&&s.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he),c.LFG(oi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kh(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Wy(n,t){n.id||(n.id=`${Gy}-${t}-${sE++}`)}class BM extends class VM{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new rt.x,this._typeaheadSubscription=Un.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new rt.x,this.change=new rt.x,t instanceof c.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(En(e=>this._pressedLetters.push(e)),_m(t),Jt(()=>this._pressedLetters.length>0),(0,st.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,l=i[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||ol(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Rh=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function HM(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function oE(n){try{return n.frameElement}catch{return null}}(function uE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===cE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=cE(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function zM(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function JL(n){return!function aE(n){return function $M(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jM(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function lE(n){return function To(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Dm(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dm(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function cE(n){if(!Dm(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class GM{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(gn(1)).subscribe(t)}}let Oh=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new GM(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rh),c.LFG(c.R0b),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WM=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Dn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Dn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=pu(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Oh),c.Y36(he))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function Yy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Im(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Zy=new c.OlP("cdk-input-modality-detector-options"),fE={ignoreKeys:[18,17,224,91,16]},Ph=Ql({passive:!0,capture:!0});let Ky=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new $i(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=el(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Yy(l)?"keyboard":"mouse"),this._mostRecentTarget=el(l))},this._onTouchstart=l=>{Im(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=el(l))},this._options={...fE,...s},this.modalityDetected=this._modality.pipe(ua(1)),this.modalityChanged=this.modalityDetected.pipe(ym()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ph),r.addEventListener("mousedown",this._onMousedown,Ph),r.addEventListener("touchstart",this._onTouchstart,Ph)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ph),document.removeEventListener("mousedown",this._onMousedown,Ph),document.removeEventListener("touchstart",this._onTouchstart,Ph))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oi),c.LFG(c.R0b),c.LFG(he),c.LFG(Zy,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pE=new c.OlP("cdk-focus-monitor-default-options"),Cu=Ql({passive:!0,capture:!0});let xi=(()=>{class n{constructor(e,i,r,s,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new rt.x,this._rootNodeFocusAndBlurListener=h=>{for(let _=el(h);_;_=_.parentElement)"focus"===h.type?this._onFocus(h,_):this._onBlur(h,_)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=Us(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ve(null);const s=function oM(n){if(function hm(){if(null==LC){const n=typeof document<"u"?document.head:null;LC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return LC}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const h={checkChildren:i,subject:new rt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Us(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Us(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=el(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cu)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(oi),c.LFG(Ky),c.LFG(he,8),c.LFG(pE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tm=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new c.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(xi))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Nh="cdk-high-contrast-black-on-white",Eu="cdk-high-contrast-white-on-black",Qy="cdk-high-contrast-active";let Am=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)(FM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Qy,Nh,Eu),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Qy,Nh):2===i&&e.add(Qy,Eu)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oi),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sm=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Am))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$y]}),n})();var XM=N(1144);const JM=["addListener","removeListener"],Fh=["addEventListener","removeEventListener"],ex=["on","off"];function Du(n,t,e,i){if((0,si.m)(e)&&(i=e,e=void 0),i)return Du(n,t,e).pipe(po(i));const[r,s]=function nx(n){return(0,si.m)(n.addEventListener)&&(0,si.m)(n.removeEventListener)}(n)?Fh.map(l=>h=>n[l](t,h,e)):function nV(n){return(0,si.m)(n.addListener)&&(0,si.m)(n.removeListener)}(n)?JM.map(mE(n,t)):function tx(n){return(0,si.m)(n.on)&&(0,si.m)(n.off)}(n)?ex.map(mE(n,t)):[];if(!r&&(0,XM.z)(n))return(0,Di.z)(l=>Du(l,t,e))((0,mo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Bn.y(l=>{const h=(...p)=>l.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function mE(n,t){return e=>i=>n[e](t,i)}const Lh={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Lh;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Un.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Lh;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Lh;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class iV extends bu{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class ix extends yu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lh.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Lh.cancelAnimationFrame(e),t._scheduled=void 0)}});let Vh,rx=1;const Mm={};function yE(n){return n in Mm&&(delete Mm[n],!0)}const sx={setImmediate(n){const t=rx++;return Mm[t]=!0,Vh||(Vh=Promise.resolve()),Vh.then(()=>yE(t)&&n()),t},clearImmediate(n){yE(n)}},{setImmediate:ox,clearImmediate:ax}=sx,nc={setImmediate(...n){const{delegate:t}=nc;return(t?.setImmediate||ox)(...n)},clearImmediate(n){const{delegate:t}=nc;return(t?.clearImmediate||ax)(n)},delegate:void 0},rc=new class sV extends bu{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class ic extends yu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=nc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(nc.clearImmediate(e),t._scheduled=void 0)}});var Xy=N(3532);function Hs(n=0,t,e=jy){let i=-1;return null!=t&&((0,Xy.K)(t)?e=t:i=t),new Bn.y(r=>{let s=function cx(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function Iu(n,t=ec){return function lx(n){return(0,Cn.e)((t,e)=>{let i=!1,r=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}l&&e.complete()},p=()=>{s=null,l&&e.complete()};t.subscribe((0,bn.x)(e,_=>{i=!0,r=_,s||(0,mo.Xf)(n(_)).subscribe(s=(0,bn.x)(e,h,p))},()=>{l=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Hs(n,t))}const Zi=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function sc(){return(0,c.f3M)(he)}}),xm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Mr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function hs(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?xm.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Zi,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ao=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Wh=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new rt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Bn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Iu(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ve()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Jt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Us(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Du(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(oi),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),km=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new rt.x,this._elementScrolled=new Bn.y(l=>this.ngZone.runOutsideAngular(()=>Du(this.elementRef.nativeElement,"scroll").pipe(yn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Dh()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Dh()?e.left=e.right:1==Dh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Ry()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==Dh()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==Dh()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Wh),c.Y36(c.R0b),c.Y36(Mr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Rm=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new rt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Iu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oi),c.LFG(c.R0b),c.LFG(he,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Jy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ao,oc,Ao,oc]}),n})();class nv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class da extends nv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Au extends nv{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class EE extends nv{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class Om{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof da?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Au?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof EE?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class IE extends Om{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qh=(()=>{class n extends Om{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=s=>{const l=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(h,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(l,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=e,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(he))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),Su=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var fs=N(6451);const SE=Ry();class ME{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=In(-this._previousScrollPosition.left),t.style.top=In(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),SE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),SE&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class xE{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Pm{enable(){}disable(){}attach(){}}function Nm(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function iv(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class kE{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Nm(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let RE=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Pm,this.close=l=>new xE(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new ME(this._viewportRuler,this._document),this.reposition=l=>new kE(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Wh),c.LFG(Rm),c.LFG(c.R0b),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yh{constructor(t){if(this.scrollStrategy=new Pm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class OE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let PE=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NE=(()=>{class n extends PE{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const h=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cx=(()=>{class n extends PE{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=el(s)},this._clickListener=s=>{const l=el(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(l)||b.overlayElement.contains(h))break;const D=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he),c.LFG(oi),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$n=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||fm()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),fm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he),c.LFG(oi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mu{constructor(t,e,i,r,s,l,h,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new rt.x,this._attachments=new rt.x,this._detachments=new rt.x,this._locationChanges=Un.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new rt.x,this._outsidePointerEvents=new rt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=In(this._config.width),t.height=In(this._config.height),t.minWidth=In(this._config.minWidth),t.minHeight=In(this._config.minHeight),t.maxWidth=In(this._config.maxWidth),t.maxHeight=In(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=tc(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(yn((0,fs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FE="cdk-overlay-connected-position-bounding-box",Ex=/([A-Za-z%]+)$/;class rv{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new rt.x,this._resizeSubscription=Un.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(FE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(t,r,h),_=this._getOverlayPoint(p,e,h),b=this._getOverlayFit(_,e,i,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:h,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:_,originPoint:p,position:h,overlayRect:e})}if(s.length){let h=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ac(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?l:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=ov(e);let{x:l,y:h}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(l+=p),_&&(h+=_);let A=0-h,x=h+s.height-i.height,O=this._subtractOverflows(s.width,0-l,l+s.width-i.width),q=this._subtractOverflows(s.height,A,x),oe=O*q;return{visibleArea:oe,isCompletelyWithinViewport:s.width*s.height===oe,fitsInViewportVertically:q===s.height,fitsInViewportHorizontally:O==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,l=sv(this._overlayRef.getConfig().minHeight),h=sv(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=l&&l<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=ov(e),s=this._viewportRect,l=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,D=0;return b=r.width<=s.width?_||-l:t.x<this._viewportMargin?s.left-i.left-t.x:0,D=r.height<=s.height?p||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:D},{x:t.x+b,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new OE(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,l,h,b,D,A;if("top"===e.overlayY)l=t.y,s=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const x=Math.min(i.bottom-t.y+i.top,t.y),O=this._lastBoundingBoxSize.height;s=2*x,l=t.y-x,s>O&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-O/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,b=i.right-t.x;else{const x=Math.min(i.right-t.x+i.left,t.x),O=this._lastBoundingBoxSize.width;b=2*x,D=t.x-x,b>O&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-O/2)}return{top:l,left:D,bottom:h,right:A,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=In(i.height),r.top=In(i.top),r.bottom=In(i.bottom),r.width=In(i.width),r.left=In(i.left),r.right=In(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=In(s)),l&&(r.maxWidth=In(l))}this._lastBoundingBoxSize=i,ac(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ac(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ac(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();ac(i,this._getExactOverlayY(e,t,b)),ac(i,this._getExactOverlayX(e,t,b))}else i.position="static";let h="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=In(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=In(l.maxWidth):s&&(i.maxWidth="")),ac(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=In(s.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=In(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iv(t,i),isOriginOutsideView:Nm(t,i),isOverlayClipped:iv(e,i),isOverlayOutsideView:Nm(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&tc(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ac(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function sv(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Ex);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ov(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const LE="cdk-global-overlay-wrapper";class VE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(LE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),b=this._xPosition,D=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let x="",O="",q="";p?q="flex-start":"center"===b?(q="center",A?O=D:x=D):A?"left"===b||"end"===b?(q="flex-end",x=D):("right"===b||"start"===b)&&(q="flex-start",O=D):"left"===b||"start"===b?(q="flex-start",x=D):("right"===b||"end"===b)&&(q="flex-end",O=D),t.position=this._cssPosition,t.marginLeft=p?"0":x,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":O,e.justifyContent=q,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(LE),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Dx=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new VE}flexibleConnectedTo(e){return new rv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rm),c.LFG(he),c.LFG(oi),c.LFG($n))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BE=0,js=(()=>{class n{constructor(e,i,r,s,l,h,p,_,b,D,A,x){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=h,this._ngZone=p,this._document=_,this._directionality=b,this._location=D,this._outsideClickDispatcher=A,this._animationsModuleType=x}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),l=new Yh(e);return l.direction=l.direction||this._directionality.value,new Mu(s,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+BE++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new IE(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(RE),c.LFG($n),c.LFG(c._Vd),c.LFG(Dx),c.LFG(NE),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(he),c.LFG(Mr),c.LFG(ke),c.LFG(Cx),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const So={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[js],useFactory:function Ix(n){return()=>n.scrollStrategies.reposition()}};let hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[js,So],imports:[Ao,Su,Jy,Jy]}),n})();function HE(n,t){}class Kh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let jE=(()=>{class n extends Om{constructor(e,i,r,s,l,h,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=l,this._ngZone=h,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const D=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),D},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=pu(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=pu();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pu())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Oh),c.Y36(he,8),c.Y36(Kh),c.Y36(Rh),c.Y36(c.R0b),c.Y36(Mu),c.Y36(xi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&c.Gf(qh,7),2&e){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&c.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,HE,0,0,"ng-template",0)},dependencies:[qh],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class lv{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new rt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ol(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const $E=new c.OlP("DialogScrollStrategy"),cv=new c.OlP("DialogData"),Qh=new c.OlP("DefaultDialogConfig"),zE={provide:$E,deps:[js],useFactory:function Tx(n){return()=>n.scrollStrategies.block()}};let Ax=0,uv=(()=>{class n{constructor(e,i,r,s,l,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rt.x,this._afterOpenedAtThisLevel=new rt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Pa(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Kh,...i}).id=i.id||"cdk-dialog-"+Ax++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),l=this._overlay.create(s),h=new lv(l,i),p=this._attachContainer(l,h,i);return h.containerInstance=p,this._attachDialogContent(e,h,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){Fm(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Fm(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Fm(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Yh({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector??r.viewContainerRef?.injector,l=[{provide:Kh,useValue:r},{provide:lv,useValue:i},{provide:Mu,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,l.push(...r.container.providers(r))):h=jE;const p=new da(h,r.viewContainerRef,c.zs3.create({parent:s||this._injector,providers:l}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){const l=this._createInjector(s,i,r);if(e instanceof c.Rgc){let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Au(e,null,h,l))}else{const h=r.attachComponentPortal(new da(e,s.viewContainerRef,l,s.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,l=[{provide:cv,useValue:e.data},{provide:lv,useValue:i}];return e.providers&&("function"==typeof e.providers?l.push(...e.providers(i,e,r)):l.push(...e.providers)),e.direction&&(!s||!s.get(Mr,null,c.XFs.Optional))&&l.push({provide:Mr,useValue:{value:e.direction,change:Ve()}}),c.zs3.create({parent:e.injector||s||this._injector,providers:l})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(js),c.LFG(c.zs3),c.LFG(Qh,8),c.LFG(n,12),c.LFG($n),c.LFG($E))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Fm(n,t){let e=n.length;for(;e--;)t(n[e])}let Lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uv,zE],imports:[hr,Su,Sm,Su]}),n})();const ZE=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function YE(){return!0}});let Tn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!fm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Am),c.LFG(ZE,8),c.LFG(he))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ao,Ao]}),n})();function KE(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Dn(t)}}}function xu(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function QE(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Dn(t)}}}function Ox(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const Px=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Nx(){return(0,c.f3M)(c.soG)}});class ki{constructor(){this._localeChanges=new rt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const lc=new c.OlP("mat-date-formats"),Fx=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fv(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Lx=(()=>{class n extends ki{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return fv(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fv(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return fv(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Fx.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Px,8),c.LFG(oi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vx={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Bx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:ki,useClass:Lx}]}),n})(),Ux=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:lc,useValue:Vx}],imports:[Bx]}),n})(),pv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XE{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const mv={enterDuration:225,exitDuration:150},Xh=Ql({passive:!0}),Vm=["mousedown","touchstart"],cl=["mouseup","mouseleave","touchend","touchcancel"];class Gx{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Us(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...mv,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function Wx(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=h-l+"px",b.style.top=p-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const D=window.getComputedStyle(b),x=D.transitionDuration,O="none"===D.transitionProperty||"0s"===x||"0s, 0s"===x,q=new XE(this,b,i,O);b.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let oe=null;return!O&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ze=()=>this._finishRippleTransition(q),qe=()=>this._destroyRipple(q);b.addEventListener("transitionend",ze),b.addEventListener("transitioncancel",qe),oe={onTransitionEnd:ze,onTransitionCancel:qe}}),this._activeRipples.set(q,oe),(O||!_)&&this._finishRippleTransition(q),q}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...mv,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Us(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Vm))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cl),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Yy(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Im(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Xh)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Vm.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xh)}),this._pointerUpEventsRegistered&&cl.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xh)}))}}const Ru=new c.OlP("mat-ripple-global-options");let eD=(()=>{class n{constructor(e,i,r,s,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Gx(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(oi),c.Y36(Ru,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Bm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tn,Tn]}),n})();class yv{}const xo="*";function fa(n,t){return{type:7,name:n,definitions:t,options:{}}}function fr(n,t=null){return{type:4,styles:t,timings:n}}function vv(n,t=null){return{type:3,steps:n,options:t}}function tD(n,t=null){return{type:2,steps:n,options:t}}function hn(n){return{type:6,styles:n,offset:null}}function $s(n,t,e){return{type:0,name:n,styles:t,options:e}}function cc(n){return{type:5,steps:n}}function xr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function nD(n=null){return{type:9,options:n}}function wv(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Cv(n){Promise.resolve(null).then(n)}class ef{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Ou{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?Cv(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Xx(n,t){}const Pu={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Jx={dialogContainer:fa("dialogContainer",[$s("void, exit",hn({opacity:0,transform:"scale(0.7)"})),$s("enter",hn({transform:"none"})),xr("* => enter",vv([fr("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",hn({transform:"none",opacity:1})),wv("@*",nD(),{optional:!0})]),Pu),xr("* => void, * => exit",vv([fr("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",hn({opacity:0})),wv("@*",nD(),{optional:!0})]),Pu)])};class tf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Pu.params.enterAnimationDuration,this.exitAnimationDuration=Pu.params.exitAnimationDuration}}let iD=(()=>{class n extends jE{constructor(e,i,r,s,l,h,p,_){super(e,i,r,s,l,h,p,_),this._animationStateChanged=new c.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Oh),c.Y36(he,8),c.Y36(tf),c.Y36(Rh),c.Y36(c.R0b),c.Y36(Mu),c.Y36(xi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],features:[c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),rD=(()=>{class n extends iD{constructor(e,i,r,s,l,h,p,_,b){super(e,i,r,s,l,h,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Pu.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Pu.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Oh),c.Y36(he,8),c.Y36(tf),c.Y36(Rh),c.Y36(c.R0b),c.Y36(Mu),c.Y36(c.sBO),c.Y36(xi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&c.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(c.Ikx("id",i._config.id),c.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._getAnimationState()))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,Xx,0,0,"ng-template",0)},dependencies:[qh],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Jx.dialogContainer]}}),n})();class nf{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new rt.x,this._beforeClosed=new rt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Jt(r=>"opened"===r.state),gn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Jt(r=>"closed"===r.state),gn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fs.T)(this.backdropClick(),this.keydownEvents().pipe(Jt(r=>27===r.keyCode&&!this.disableClose&&!ol(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function sD(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Jt(e=>"closing"===e.state),gn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const ek=new c.OlP("MatDialogData"),tk=new c.OlP("mat-dialog-default-options"),nk=new c.OlP("mat-dialog-scroll-strategy"),IV={provide:nk,deps:[js],useFactory:function DV(n){return()=>n.scrollStrategies.block()}};let oD=0,Um=(()=>{class n{constructor(e,i,r,s,l,h,p,_,b,D){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rt.x,this._afterOpenedAtThisLevel=new rt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Pa(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=h,this._dialog=i.get(uv)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new tf,...i}).id=i.id||`${this._idPrefix}${oD++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:tf,useValue:i},{provide:Kh,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(l,h,p)=>(r=new this._dialogRefConstructor(l,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(r);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Hm=(()=>{class n extends Um{constructor(e,i,r,s,l,h,p,_){super(e,i,s,h,p,l,nf,rD,ek,_)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(js),c.LFG(c.zs3),c.LFG(ke,8),c.LFG(tk,8),c.LFG(nk),c.LFG(n,12),c.LFG($n),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ik=0,dc=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+ik++}ngOnInit(){this._dialogRef||(this._dialogRef=function sk(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nf,8),c.Y36(c.SBq),c.Y36(Hm))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&c.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Dv=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),ok=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Hm,IV],imports:[Lm,hr,Su,Tn,Tn]}),n})();var xt=N(9681);(0,xt.registerVersion)("firebase","9.9.2","app");var K=N(5861),H=N(2090),ps=N(4859),kr=N(1877),Nu=N(8766);const Iv="@firebase/installations",Tv="0.5.12",lD=`w:${Tv}`,jm="FIS_v2",pa=new H.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $m(n){return n instanceof H.ZR&&n.code.includes("request-failed")}function Sv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Mv(n){return{token:n.token,requestStatus:2,expiresIn:dk(n.expiresIn),creationTime:Date.now()}}function xv(n,t){return kv.apply(this,arguments)}function kv(){return(kv=(0,K.Z)(function*(n,t){const i=(yield t.json()).error;return pa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function dD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hD(n,{refreshToken:t}){const e=dD(n);return e.append("Authorization",function hk(n){return`${jm} ${n}`}(t)),e}function Rv(n){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,K.Z)(function*(n){const t=yield n();return t.status>=500&&t.status<600?n():t})).apply(this,arguments)}function dk(n){return Number(n.replace("s","000"))}function fD(n,t){return zm.apply(this,arguments)}function zm(){return(zm=(0,K.Z)(function*({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const i=Sv(n),r=dD(n),s=t.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const h={method:"POST",headers:r,body:JSON.stringify({fid:e,authVersion:jm,appId:n.appId,sdkVersion:lD})},p=yield Rv(()=>fetch(i,h));if(p.ok){const _=yield p.json();return{fid:_.fid||e,registrationStatus:2,refreshToken:_.refreshToken,authToken:Mv(_.authToken)}}throw yield xv("Create Installation",p)})).apply(this,arguments)}function pD(n){return new Promise(t=>{setTimeout(t,n)})}const mD=/^[cdef][\w-]{21}$/;function pk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=function mk(n){return function fk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mD.test(e)?e:""}catch{return""}}function ul(n){return`${n.appName}!${n.appId}`}const dl=new Map;function Nv(n,t){const e=ul(n);gD(e,t),function Lv(n,t){const e=function Vv(){return!hc&&"BroadcastChannel"in self&&(hc=new BroadcastChannel("[Firebase] FID Change"),hc.onmessage=n=>{gD(n.data.key,n.data.fid)}),hc}();e&&e.postMessage({key:n,fid:t}),function fc(){0===dl.size&&hc&&(hc.close(),hc=null)}()}(e,t)}function gD(n,t){const e=dl.get(n);if(e)for(const i of e)i(t)}let hc=null;const Fu="firebase-installations-store";let Gm=null;function rf(){return Gm||(Gm=(0,Nu.X3)("firebase-installations-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Fu)}})),Gm}function Wm(n,t){return sf.apply(this,arguments)}function sf(){return(sf=(0,K.Z)(function*(n,t){const e=ul(n),r=(yield rf()).transaction(Fu,"readwrite"),s=r.objectStore(Fu),l=yield s.get(e);return yield s.put(t,e),yield r.done,(!l||l.fid!==t.fid)&&Nv(n,t.fid),t})).apply(this,arguments)}function Bv(n){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,K.Z)(function*(n){const t=ul(n),i=(yield rf()).transaction(Fu,"readwrite");yield i.objectStore(Fu).delete(t),yield i.done})).apply(this,arguments)}function pc(n,t){return qm.apply(this,arguments)}function qm(){return(qm=(0,K.Z)(function*(n,t){const e=ul(n),r=(yield rf()).transaction(Fu,"readwrite"),s=r.objectStore(Fu),l=yield s.get(e),h=t(l);return void 0===h?yield s.delete(e):yield s.put(h,e),yield r.done,h&&(!l||l.fid!==h.fid)&&Nv(n,h.fid),h})).apply(this,arguments)}function Ym(n){return Zm.apply(this,arguments)}function Zm(){return(Zm=(0,K.Z)(function*(n){let t;const e=yield pc(n.appConfig,i=>{const r=yD(i),s=yk(n,r);return t=s.registrationPromise,s.installationEntry});return""===e.fid?{installationEntry:yield t}:{installationEntry:e,registrationPromise:t}})).apply(this,arguments)}function yD(n){return jv(n||{fid:pk(),registrationStatus:0})}function yk(n,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(pa.create("app-offline"))};const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function vk(n,t){return Hv.apply(this,arguments)}(n,e);return{installationEntry:e,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:bk(n)}:{installationEntry:t}}function Hv(){return(Hv=(0,K.Z)(function*(n,t){try{const e=yield fD(n,t);return Wm(n.appConfig,e)}catch(e){throw $m(e)&&409===e.customData.serverCode?yield Bv(n.appConfig):yield Wm(n.appConfig,{fid:t.fid,registrationStatus:0}),e}})).apply(this,arguments)}function bk(n){return Km.apply(this,arguments)}function Km(){return(Km=(0,K.Z)(function*(n){let t=yield wk(n.appConfig);for(;1===t.registrationStatus;)yield pD(100),t=yield wk(n.appConfig);if(0===t.registrationStatus){const{installationEntry:e,registrationPromise:i}=yield Ym(n);return i||e}return t})).apply(this,arguments)}function wk(n){return pc(n,t=>{if(!t)throw pa.create("installation-not-found");return jv(t)})}function jv(n){return function Ck(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Ek(n,t){return vD.apply(this,arguments)}function vD(){return(vD=(0,K.Z)(function*({appConfig:n,heartbeatServiceProvider:t},e){const i=TV(n,e),r=hD(n,e),s=t.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:lD,appId:n.appId}})},p=yield Rv(()=>fetch(i,h));if(p.ok)return Mv(yield p.json());throw yield xv("Generate Auth Token",p)})).apply(this,arguments)}function TV(n,{fid:t}){return`${Sv(n)}/${t}/authTokens:generate`}function $v(n){return zv.apply(this,arguments)}function zv(){return(zv=(0,K.Z)(function*(n,t=!1){let e;const i=yield pc(n.appConfig,s=>{if(!wD(s))throw pa.create("not-registered");const l=s.authToken;if(!t&&Tk(l))return s;if(1===l.requestStatus)return e=Dk(n,t),s;{if(!navigator.onLine)throw pa.create("app-offline");const h=Sk(s);return e=Ik(n,h),h}});return e?yield e:i.authToken})).apply(this,arguments)}function Dk(n,t){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,K.Z)(function*(n,t){let e=yield bD(n.appConfig);for(;1===e.authToken.requestStatus;)yield pD(100),e=yield bD(n.appConfig);const i=e.authToken;return 0===i.requestStatus?$v(n,t):i})).apply(this,arguments)}function bD(n){return pc(n,t=>{if(!wD(t))throw pa.create("not-registered");return function Mk(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Ik(n,t){return Gv.apply(this,arguments)}function Gv(){return(Gv=(0,K.Z)(function*(n,t){try{const e=yield Ek(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return yield Wm(n.appConfig,i),e}catch(e){if(!$m(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode){const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Wm(n.appConfig,i)}else yield Bv(n.appConfig);throw e}})).apply(this,arguments)}function wD(n){return void 0!==n&&2===n.registrationStatus}function Tk(n){return 2===n.requestStatus&&!function Ak(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+36e5}(n)}function Sk(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function Xm(){return(Xm=(0,K.Z)(function*(n){const t=n,{installationEntry:e,registrationPromise:i}=yield Ym(t);return i?i.catch(console.error):$v(t).catch(console.error),e.fid})).apply(this,arguments)}function Jm(){return(Jm=(0,K.Z)(function*(n,t=!1){const e=n;return yield ED(e),(yield $v(e,t)).token})).apply(this,arguments)}function ED(n){return eg.apply(this,arguments)}function eg(){return(eg=(0,K.Z)(function*(n){const{registrationPromise:t}=yield Ym(n);t&&(yield t)})).apply(this,arguments)}function mc(n){return pa.create("missing-app-config-values",{valueName:n})}const ID="installations",ko=n=>{const t=n.getProvider("app").getImmediate(),e=function kk(n){if(!n||!n.options)throw mc("App Configuration");if(!n.name)throw mc("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw mc(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(t);return{app:t,appConfig:e,heartbeatServiceProvider:(0,xt._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},Rk=n=>{const t=n.getProvider("app").getImmediate(),e=(0,xt._getProvider)(t,ID).getImmediate();return{getId:()=>function af(n){return Xm.apply(this,arguments)}(e),getToken:r=>function CD(n){return Jm.apply(this,arguments)}(e,r)}};(function tg(){(0,xt._registerComponent)(new ps.wA(ID,ko,"PUBLIC")),(0,xt._registerComponent)(new ps.wA("installations-internal",Rk,"PRIVATE"))})(),(0,xt.registerVersion)(Iv,Tv),(0,xt.registerVersion)(Iv,Tv,"esm2017");const gc="@firebase/remote-config",Ri=new H.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jv{constructor(t,e,i,r){this.client=t,this.storage=e,this.storageCache=i,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-e,r=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,K.Z)(function*(){const[i,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,i))return r;t.eTag=r&&r.eTag;const s=yield e.client.fetch(t),l=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&l.push(e.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(l),s})()}}function OD(n=navigator){return n.languages&&n.languages[0]||n.language}class PD{constructor(t,e,i,r,s,l){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=l}fetch(t){var e=this;return(0,K.Z)(function*(){var i,r,s;const[l,h]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),_=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,b={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},D={sdk_version:e.sdkVersion,app_instance_id:l,app_instance_id_token:h,app_id:e.appId,language_code:OD()},A={method:"POST",headers:b,body:JSON.stringify(D)},x=fetch(_,A),O=new Promise((Qe,dt)=>{t.signal.addEventListener(()=>{const bt=new Error("The operation was aborted.");bt.name="AbortError",dt(bt)})});let q;try{yield Promise.race([x,O]),q=yield x}catch(Qe){let dt="fetch-client-network";throw"AbortError"===(null===(i=Qe)||void 0===i?void 0:i.name)&&(dt="fetch-timeout"),Ri.create(dt,{originalErrorMessage:null===(r=Qe)||void 0===r?void 0:r.message})}let oe=q.status;const ze=q.headers.get("ETag")||void 0;let qe,ot;if(200===q.status){let Qe;try{Qe=yield q.json()}catch(dt){throw Ri.create("fetch-client-parse",{originalErrorMessage:null===(s=dt)||void 0===s?void 0:s.message})}qe=Qe.entries,ot=Qe.state}if("INSTANCE_STATE_UNSPECIFIED"===ot?oe=500:"NO_CHANGE"===ot?oe=304:("NO_TEMPLATE"===ot||"EMPTY_CONFIG"===ot)&&(qe={}),304!==oe&&200!==oe)throw Ri.create("fetch-status",{httpStatus:oe});return{status:oe,eTag:ze,config:qe}})()}}class Lk{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,K.Z)(function*(){const i=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,i)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:i}){var r=this;return(0,K.Z)(function*(){yield function ND(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Ri.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,e);try{const s=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function FD(n){if(!(n instanceof H.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s))throw s;const l={throttleEndTimeMillis:Date.now()+(0,H.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(l),r.attemptFetch(t,l)}})()}}class Vk{constructor(t,e,i,r,s){this.app=t,this._client=e,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lf(n,t){var e;const i=n.target.error||void 0;return Ri.create(t,{originalErrorMessage:i&&(null===(e=i)||void 0===e?void 0:e.message)})}const _c="app_namespace_store";class Uk{constructor(t,e,i,r=function Bk(){return new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{t(lf(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_c,{keyPath:"compositeKey"})}}catch(i){t(Ri.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}})}()){this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,K.Z)(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{var l;const p=i.transaction([_c],"readonly").objectStore(_c),_=e.createCompositeKey(t);try{const b=p.get(_);b.onerror=D=>{s(lf(D,"storage-get"))},b.onsuccess=D=>{const A=D.target.result;r(A?A.value:void 0)}}catch(b){s(Ri.create("storage-get",{originalErrorMessage:null===(l=b)||void 0===l?void 0:l.message}))}})})()}set(t,e){var i=this;return(0,K.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,l)=>{var h;const _=r.transaction([_c],"readwrite").objectStore(_c),b=i.createCompositeKey(t);try{const D=_.put({compositeKey:b,value:e});D.onerror=A=>{l(lf(A,"storage-set"))},D.onsuccess=()=>{s()}}catch(D){l(Ri.create("storage-set",{originalErrorMessage:null===(h=D)||void 0===h?void 0:h.message}))}})})()}delete(t){var e=this;return(0,K.Z)(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{var l;const p=i.transaction([_c],"readwrite").objectStore(_c),_=e.createCompositeKey(t);try{const b=p.delete(_);b.onerror=D=>{s(lf(D,"storage-delete"))},b.onsuccess=()=>{r()}}catch(b){s(Ri.create("storage-delete",{originalErrorMessage:null===(l=b)||void 0===l?void 0:l.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class PV{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,K.Z)(function*(){const e=t.storage.getLastFetchStatus(),i=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),s=yield e;s&&(t.lastFetchStatus=s);const l=yield i;l&&(t.lastSuccessfulFetchTimestampMillis=l);const h=yield r;h&&(t.activeConfig=h)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function cf(){return eb.apply(this,arguments)}function eb(){return(eb=(0,K.Z)(function*(){if(!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}!function NV(){(0,xt._registerComponent)(new ps.wA("remote-config",function n(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ri.create("registration-window");if(!(0,H.hl)())throw Ri.create("indexed-db-unavailable");const{projectId:s,apiKey:l,appId:h}=i.options;if(!s)throw Ri.create("registration-project-id");if(!l)throw Ri.create("registration-api-key");if(!h)throw Ri.create("registration-app-id");const p=new Uk(h,i.name,e=e||"firebase"),_=new PV(p),b=new kr.Yd(gc);b.logLevel=kr.in.ERROR;const D=new PD(r,xt.SDK_VERSION,e,s,l,h),A=new Lk(D,p),x=new Jv(A,p,_,b),O=new Vk(i,x,_,p,b);return function Qv(n){const t=(0,H.m9)(n);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(O),O},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(gc,"0.3.11"),(0,xt.registerVersion)(gc,"0.3.11","esm2017")}();const tb="/firebase-messaging-sw.js",jk="/firebase-cloud-messaging-push-scope",nb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",BD="google.c.a.c_id",Vu="google.c.a.c_l",zk="google.c.a.ts",ib="google.c.a.e";var yc=(()=>{return(n=yc||(yc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",yc;var n})();function ms(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rb(n){const e=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const UD="fcm_token_details_db",jD="fcm_token_object_Store";function $D(n){return hl.apply(this,arguments)}function hl(){return hl=(0,K.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(UD))return null;let t=null;return(yield(0,Nu.X3)(UD,5,{upgrade:(i=(0,K.Z)(function*(r,s,l,h){var p;if(s<2||!r.objectStoreNames.contains(jD))return;const _=h.objectStore(jD),b=yield _.index("fcmSenderId").get(n);if(yield _.clear(),b)if(2===s){const D=b;if(!D.auth||!D.p256dh||!D.endpoint)return;t={token:D.fcmToken,createTime:null!==(p=D.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:ms(D.vapidKey)}}}else if(3===s){const D=b;t={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:ms(D.auth),p256dh:ms(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:ms(D.vapidKey)}}}else if(4===s){const D=b;t={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:ms(D.auth),p256dh:ms(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:ms(D.vapidKey)}}}}),function(s,l,h,p){return i.apply(this,arguments)})})).close(),yield(0,Nu.Lj)(UD),yield(0,Nu.Lj)("fcm_vapid_details_db"),yield(0,Nu.Lj)("undefined"),Wk(t)?t:null;var i}),hl.apply(this,arguments)}function Wk(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Bu="firebase-messaging-store";let ob=null;function GD(){return ob||(ob=(0,Nu.X3)("firebase-messaging-database",1,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Bu)}})),ob}function WD(n){return ab.apply(this,arguments)}function ab(){return(ab=(0,K.Z)(function*(n){const t=lg(n),i=yield(yield GD()).transaction(Bu).objectStore(Bu).get(t);if(i)return i;{const r=yield $D(n.appConfig.senderId);if(r)return yield lb(n,r),r}})).apply(this,arguments)}function lb(n,t){return ag.apply(this,arguments)}function ag(){return(ag=(0,K.Z)(function*(n,t){const e=lg(n),r=(yield GD()).transaction(Bu,"readwrite");return yield r.objectStore(Bu).put(t,e),yield r.done,t})).apply(this,arguments)}function qD(n){return cb.apply(this,arguments)}function cb(){return(cb=(0,K.Z)(function*(n){const t=lg(n),i=(yield GD()).transaction(Bu,"readwrite");yield i.objectStore(Bu).delete(t),yield i.done})).apply(this,arguments)}function lg({appConfig:n}){return n.appId}const Oi=new H.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qk(n,t){return cg.apply(this,arguments)}function cg(){return(cg=(0,K.Z)(function*(n,t){var e;const i=yield db(n),r=Zk(t),s={method:"POST",headers:i,body:JSON.stringify(r)};let l;try{l=yield(yield fetch(hg(n.appConfig),s)).json()}catch(h){throw Oi.create("token-subscribe-failed",{errorInfo:null===(e=h)||void 0===e?void 0:e.toString()})}if(l.error)throw Oi.create("token-subscribe-failed",{errorInfo:l.error.message});if(!l.token)throw Oi.create("token-subscribe-no-token");return l.token})).apply(this,arguments)}function Yk(n,t){return ug.apply(this,arguments)}function ug(){return(ug=(0,K.Z)(function*(n,t){var e;const i=yield db(n),r=Zk(t.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let l;try{l=yield(yield fetch(`${hg(n.appConfig)}/${t.token}`,s)).json()}catch(h){throw Oi.create("token-update-failed",{errorInfo:null===(e=h)||void 0===e?void 0:e.toString()})}if(l.error)throw Oi.create("token-update-failed",{errorInfo:l.error.message});if(!l.token)throw Oi.create("token-update-no-token");return l.token})).apply(this,arguments)}function ub(n,t){return dg.apply(this,arguments)}function dg(){return(dg=(0,K.Z)(function*(n,t){var e;const r={method:"DELETE",headers:yield db(n)};try{const l=yield(yield fetch(`${hg(n.appConfig)}/${t}`,r)).json();if(l.error)throw Oi.create("token-unsubscribe-failed",{errorInfo:l.error.message})}catch(s){throw Oi.create("token-unsubscribe-failed",{errorInfo:null===(e=s)||void 0===e?void 0:e.toString()})}})).apply(this,arguments)}function hg({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function db(n){return hb.apply(this,arguments)}function hb(){return(hb=(0,K.Z)(function*({appConfig:n,installations:t}){const e=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})})).apply(this,arguments)}function Zk({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const r={web:{endpoint:e,auth:t,p256dh:n}};return i!==nb&&(r.web.applicationPubKey=i),r}const ZD=6048e5;function FV(n){return KD.apply(this,arguments)}function KD(){return(KD=(0,K.Z)(function*(n){const t=yield fg(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:ms(t.getKey("auth")),p256dh:ms(t.getKey("p256dh"))},i=yield WD(n.firebaseDependencies);if(i){if(tI(i.subscriptionOptions,e))return Date.now()>=i.createTime+ZD?LV(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{yield ub(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Qk(n.firebaseDependencies,e)}return Qk(n.firebaseDependencies,e)})).apply(this,arguments)}function Kk(n){return QD.apply(this,arguments)}function QD(){return(QD=(0,K.Z)(function*(n){const t=yield WD(n.firebaseDependencies);t&&(yield ub(n.firebaseDependencies,t.token),yield qD(n.firebaseDependencies));const e=yield n.swRegistration.pushManager.getSubscription();return!e||e.unsubscribe()})).apply(this,arguments)}function LV(n,t){return XD.apply(this,arguments)}function XD(){return(XD=(0,K.Z)(function*(n,t){try{const e=yield Yk(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield lb(n.firebaseDependencies,i),e}catch(e){throw yield Kk(n),e}})).apply(this,arguments)}function Qk(n,t){return JD.apply(this,arguments)}function JD(){return(JD=(0,K.Z)(function*(n,t){const i={token:yield qk(n,t),createTime:Date.now(),subscriptionOptions:t};return yield lb(n,i),i.token})).apply(this,arguments)}function fg(n,t){return eI.apply(this,arguments)}function eI(){return(eI=(0,K.Z)(function*(n,t){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rb(t)})})).apply(this,arguments)}function tI(n,t){return t.vapidKey===n.vapidKey&&t.endpoint===n.endpoint&&t.auth===n.auth&&t.p256dh===n.p256dh}function uf(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function nI(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const r=t.notification.image;r&&(n.notification.image=r)}(t,n),function iI(n,t){!t.data||(n.data=t.data)}(t,n),function VV(n,t){var e,i,r,s,l;if(!(t.fcmOptions||null!==(e=t.notification)&&void 0!==e&&e.click_action))return;n.fcmOptions={};const h=null!==(r=null===(i=t.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=t.notification)||void 0===s?void 0:s.click_action;h&&(n.fcmOptions.link=h);const p=null===(l=t.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(t,n),t}function fb(n){return"object"==typeof n&&!!n&&BD in n}function pb(n,t){const e=[];for(let i=0;i<n.length;i++)e.push(n.charAt(i)),i<t.length&&e.push(t.charAt(i));return e.join("")}function pg(n){return Oi.create("missing-app-config-values",{valueName:n})}pb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pb("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class BV{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Xk(n){if(!n||!n.options)throw pg("App Configuration Object");if(!n.name)throw pg("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw pg(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}function rI(n){return mb.apply(this,arguments)}function mb(){return(mb=(0,K.Z)(function*(n){var t;try{n.swRegistration=yield navigator.serviceWorker.register(tb,{scope:jk}),n.swRegistration.update().catch(()=>{})}catch(e){throw Oi.create("failed-service-worker-registration",{browserErrorMessage:null===(t=e)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function Jk(n,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,K.Z)(function*(n,t){if(!t&&!n.swRegistration&&(yield rI(n)),t||!n.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Oi.create("invalid-sw-registration");n.swRegistration=t}})).apply(this,arguments)}function eR(n,t){return sI.apply(this,arguments)}function sI(){return(sI=(0,K.Z)(function*(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=nb)})).apply(this,arguments)}function oI(){return(oI=(0,K.Z)(function*(n,t){if(!navigator)throw Oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Oi.create("permission-blocked");return yield eR(n,t?.vapidKey),yield Jk(n,t?.serviceWorkerRegistration),FV(n)})).apply(this,arguments)}function nR(n,t,e){return gb.apply(this,arguments)}function gb(){return(gb=(0,K.Z)(function*(n,t,e){const i=iR(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[BD],message_name:e[Vu],message_time:e[zk],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function iR(n){switch(n){case yc.NOTIFICATION_CLICKED:return"notification_open";case yc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _b(){return(_b=(0,K.Z)(function*(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===yc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(uf(e)):n.onMessageHandler.next(uf(e)));const i=e.data;fb(i)&&"1"===i[ib]&&(yield nR(n,e.messageType,i))})).apply(this,arguments)}const yb="@firebase/messaging",HV=n=>{const t=new BV(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function UV(n,t){return _b.apply(this,arguments)}(t,e)),t},zs=n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>function tR(n,t){return oI.apply(this,arguments)}(t,i)}};function mg(){return bb.apply(this,arguments)}function bb(){return(bb=(0,K.Z)(function*(){try{yield(0,H.eu)()}catch{return!1}return typeof window<"u"&&(0,H.hl)()&&(0,H.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rR(){(0,xt._registerComponent)(new ps.wA("messaging",HV,"PUBLIC")),(0,xt._registerComponent)(new ps.wA("messaging-internal",zs,"PRIVATE")),(0,xt.registerVersion)(yb,"0.9.16"),(0,xt.registerVersion)(yb,"0.9.16","esm2017")}();const gg="analytics",aI="firebase_id",cI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uI="https://www.googletagmanager.com/gtag/js",fi=new kr.Yd("@firebase/analytics");function ma(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function dI(n,t){const e=document.createElement("script");e.src=`${uI}?l=${n}&id=${t}`,e.async=!0,document.head.appendChild(e)}function ga(n,t,e,i,r,s){return Db.apply(this,arguments)}function Db(){return(Db=(0,K.Z)(function*(n,t,e,i,r,s){const l=i[r];try{if(l)yield t[l];else{const p=(yield ma(e)).find(_=>_.measurementId===r);p&&(yield t[p.appId])}}catch(h){fi.error(h)}n("config",r,s)})).apply(this,arguments)}function zV(n,t,e,i,r){return Ib.apply(this,arguments)}function Ib(){return(Ib=(0,K.Z)(function*(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const h=yield ma(e);for(const p of l){const _=h.find(D=>D.measurementId===p),b=_&&t[_.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),n("event",i,r||{})}catch(s){fi.error(s)}})).apply(this,arguments)}function uR(){const n=window.document.getElementsByTagName("script");for(const t of Object.values(n))if(t.src&&t.src.includes(uI))return t;return null}const gs=new H.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hR=new class pI{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Tb(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function mI(n){return _g.apply(this,arguments)}function _g(){return(_g=(0,K.Z)(function*(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:Tb(i)},s=cI.replace("{app-id}",e),l=yield fetch(s,r);if(200!==l.status&&304!==l.status){let h="";try{const p=yield l.json();null!==(t=p.error)&&void 0!==t&&t.message&&(h=p.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()})).apply(this,arguments)}function fR(n){return yg.apply(this,arguments)}function yg(){return(yg=(0,K.Z)(function*(n,t=hR,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw gs.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw gs.create("no-api-key")}const l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new pR;return setTimeout((0,K.Z)(function*(){h.abort()}),void 0!==e?e:6e4),Ab({appId:i,apiKey:r,measurementId:s},l,h,t)})).apply(this,arguments)}function Ab(n,t,e){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,K.Z)(function*(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=hR){var s,l;const{appId:h,measurementId:p}=n;try{yield vg(i,t)}catch(_){if(p)return fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${null===(s=_)||void 0===s?void 0:s.message}]`),{appId:h,measurementId:p};throw _}try{const _=yield mI(n);return r.deleteThrottleMetadata(h),_}catch(_){const b=_;if(!gI(b)){if(r.deleteThrottleMetadata(h),p)return fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:h,measurementId:p};throw _}const D=503===Number(null===(l=b?.customData)||void 0===l?void 0:l.httpStatus)?(0,H.$s)(e,r.intervalMillis,30):(0,H.$s)(e,r.intervalMillis),A={throttleEndTimeMillis:Date.now()+D,backoffCount:e+1};return r.setThrottleMetadata(h,A),fi.debug(`Calling attemptFetch again in ${D} millis`),Ab(n,A,i,r)}})).apply(this,arguments)}function vg(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(gs.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function gI(n){if(!(n instanceof H.ZR&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}class pR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let bg,bI;function Sb(){return(Sb=(0,K.Z)(function*(n,t,e,i,r){if(r&&r.global)n("event",e,i);else{const s=yield t;n("event",e,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function yR(n){bI=n}function vR(n){bg=n}function WV(){return xb.apply(this,arguments)}function xb(){return(xb=(0,K.Z)(function*(){var n;if(!(0,H.hl)())return fi.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,H.eu)()}catch(t){return fi.warn(gs.create("indexeddb-unavailable",{errorInfo:null===(n=t)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function kb(){return(kb=(0,K.Z)(function*(n,t,e,i,r,s,l){var h;const p=fR(n);p.then(x=>{e[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&fi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>fi.error(x)),t.push(p);const _=WV().then(x=>{if(x)return i.getId()}),[b,D]=yield Promise.all([p,_]);uR()||dI(s,b.measurementId),bI&&(r("consent","default",bI),yR(void 0)),r("js",new Date);const A=null!==(h=l?.config)&&void 0!==h?h:{};return A.origin="firebase",A.update=!0,null!=D&&(A[aI]=D),r("config",b.measurementId,A),bg&&(r("set",bg),vR(void 0)),b.measurementId})).apply(this,arguments)}class bR{constructor(t){this.app=t}_delete(){return delete Ro[this.app.options.appId],Promise.resolve()}}let Ro={},fl=[];const Rb={};let wI,Gs,ju="dataLayer",hf=!1;function YV(n,t,e){!function qV(){const n=[];if((0,H.ru)()&&n.push("This is a browser extension environment."),(0,H.zI)()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=gs.create("invalid-analytics-context",{errorInfo:t});fi.warn(e.message)}}();const i=n.options.appId;if(!i)throw gs.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw gs.create("no-api-key");fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ro[i])throw gs.create("already-exists",{id:i});if(!hf){!function Eb(n){let t=[];Array.isArray(window[n])?t=window[n]:window[n]=t}(ju);const{wrappedGtag:s,gtagCore:l}=function cR(n,t,e,i,r){let s=function(...l){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function lR(n,t,e,i){function s(){return(s=(0,K.Z)(function*(l,h,p){try{"event"===l?yield zV(n,t,e,h,p):"config"===l?yield ga(n,t,e,i,h,p):"consent"===l?n("consent","update",p):n("set",h)}catch(_){fi.error(_)}})).apply(this,arguments)}return function r(l,h,p){return s.apply(this,arguments)}}(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}(Ro,fl,Rb,ju,"gtag");Gs=s,wI=l,hf=!0}return Ro[i]=function Cg(n,t,e,i,r,s,l){return kb.apply(this,arguments)}(n,fl,Rb,t,wI,ju,e),new bR(n)}function CI(){return Pb.apply(this,arguments)}function Pb(){return(Pb=(0,K.Z)(function*(){if((0,H.ru)()||!(0,H.zI)()||!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}const DI="@firebase/analytics";!function Fb(){(0,xt._registerComponent)(new ps.wA(gg,(t,{options:e})=>YV(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,xt._registerComponent)(new ps.wA("analytics-internal",function n(t){try{const e=t.getProvider(gg).getImmediate();return{logEvent:(i,r,s)=>function EI(n,t,e,i){n=(0,H.m9)(n),function _I(n,t,e,i,r){return Sb.apply(this,arguments)}(Gs,Ro[n.app.options.appId],t,e,i).catch(r=>fi.error(r))}(e,i,r,s)}}catch(e){throw gs.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,xt.registerVersion)(DI,"0.8.0"),(0,xt.registerVersion)(DI,"0.8.0","esm2017")}();const Lb=new class II extends bu{}(class eB extends yu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});var ff=N(9468),pf=N(5363);const Dg=new c.GfV("7.4.1"),Vb="__angularfire_symbol__analyticsIsSupportedValue",Bb="__angularfire_symbol__analyticsIsSupported",Ub="__angularfire_symbol__remoteConfigIsSupportedValue",TI="__angularfire_symbol__remoteConfigIsSupported",AI="__angularfire_symbol__messagingIsSupportedValue",SI="__angularfire_symbol__messagingIsSupported";function Hb(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(l=>l.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}globalThis[Bb]||(globalThis[Bb]=CI().then(n=>globalThis[Vb]=n).catch(()=>globalThis[Vb]=!1)),globalThis[SI]||(globalThis[SI]=mg().then(n=>globalThis[AI]=n).catch(()=>globalThis[AI]=!1)),globalThis[TI]||(globalThis[TI]=cf().then(n=>globalThis[Ub]=n).catch(()=>globalThis[Ub]=!1));const jb=(n,t)=>{const e=t?[t]:(0,xt.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(l=>{i.includes(l)||i.push(l)})}),i};function mf(){}class ER{constructor(t,e=Lb){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(l){r.runGuarded(()=>{t.apply(this,[l])})},e,i)}}class iB{constructor(t){this.zone=t,this.task=null}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mf,{},mf,mf)),e.pipe(En({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let o=(()=>{class n{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new ER(Zone.current)),this.insideAngular=e.run(()=>new ER(Zone.current,ec)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function u(n){return a().ngZone.runOutsideAngular(()=>n())}function d(n){return a().ngZone.run(()=>n())}function v(n){return a(),function C(n){return function(e){return(e=e.lift(new iB(n.ngZone))).pipe((0,ff.R)(n.outsideAngular),(0,pf.Q)(n.insideAngular))}}(a())(n)}const I=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),d(()=>n.apply(void 0,i))},T=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||(e=d(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mf,{},mf,mf)))),i[s]=I(i[s],e));const r=u(()=>n.apply(this,i));if(!t){if(r instanceof Bn.y){const s=a();return r.pipe((0,ff.R)(s.outsideAngular),(0,pf.Q)(s.insideAngular))}return d(()=>r)}return r instanceof Bn.y?r.pipe(v):r instanceof Promise?d(()=>new Promise((s,l)=>r.then(h=>d(()=>s(h)),h=>d(()=>l(h))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:d(()=>r)};function M(){return(0,Cn.e)((n,t)=>{let e,i=!1;n.subscribe((0,bn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var le,R=N(2011),te=(N(5881),N(3942)),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={},tt=tt||{},Pe=_e||self;function Te(){}function ut(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Bt(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var _a="closure_uid_"+(1e9*Math.random()>>>0),$b=0;function zb(n,t,e){return n.call.apply(n.bind,arguments)}function Gb(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function pi(n,t,e){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zb:Gb).apply(null,arguments)}function $u(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function mi(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return t.prototype[r].apply(i,l)}}function Oo(){this.s=this.s,this.o=this.o}var qb={};Oo.prototype.s=!1,Oo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function An(n){return Object.prototype.hasOwnProperty.call(n,_a)&&n[_a]||(n[_a]=++$b)}(this);delete qb[n]}},Oo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rB=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},sB=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function oB(n){return Array.prototype.concat.apply([],arguments)}function DR(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function xI(n){return/^[\s\xa0]*$/.test(n)}var $r,aB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function jr(n,t){return-1!=n.indexOf(t)}function IR(n,t){return n<t?-1:n>t?1:0}e:{var lB=Pe.navigator;if(lB){var cB=lB.userAgent;if(cB){$r=cB;break e}}$r=""}function TR(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function uB(n){const t={};for(const e in n)t[e]=n[e];return t}var dB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hB(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<dB.length;s++)e=dB[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function AR(n){return AR[" "](n),n}AR[" "]=Te;var kI,n,z6=jr($r,"Opera"),Ig=jr($r,"Trident")||jr($r,"MSIE"),fB=jr($r,"Edge"),SR=fB||Ig,pB=jr($r,"Gecko")&&!(jr($r.toLowerCase(),"webkit")&&!jr($r,"Edge"))&&!(jr($r,"Trident")||jr($r,"MSIE"))&&!jr($r,"Edge"),G6=jr($r.toLowerCase(),"webkit")&&!jr($r,"Edge");function mB(){var n=Pe.document;return n?n.documentMode:void 0}e:{var MR="",xR=(n=$r,pB?/rv:([^\);]+)(\)|;)/.exec(n):fB?/Edge\/([\d\.]+)/.exec(n):Ig?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):G6?/WebKit\/(\S+)/.exec(n):z6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xR&&(MR=xR?xR[1]:""),Ig){var kR=mB();if(null!=kR&&kR>parseFloat(MR)){kI=String(kR);break e}}kI=MR}var W6={};var Y6=Pe.document&&Ig&&(mB()||parseInt(kI,10))||void 0,Z6=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pe.addEventListener("test",Te,t),Pe.removeEventListener("test",Te,t)}catch{}return n}();function Rr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Yb(n,t){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(pB){e:{try{AR(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:K6[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yb.Z.h.call(this)}}Rr.prototype.h=function(){this.defaultPrevented=!0},mi(Yb,Rr);var K6={2:"touch",3:"pen",4:"mouse"};Yb.prototype.h=function(){Yb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zb="closure_listenable_"+(1e6*Math.random()|0),Q6=0;function X6(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Q6,this.ca=this.fa=!1}function RI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function OI(n){this.src=n,this.g={},this.h=0}function OR(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=rB(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(RI(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function PR(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}OI.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=PR(n,t,i,r);return-1<l?(t=n[l],e||(t.fa=!1)):((t=new X6(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var NR="closure_lm_"+(1e6*Math.random()|0),FR={};function _B(n,t,e,i,r){if(i&&i.once)return vB(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_B(n,t[s],e,i,r);return null}return e=UR(e),n&&n[Zb]?n.N(t,e,Bt(i)?!!i.capture:!!i,r):yB(n,t,e,!1,i,r)}function yB(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var l=Bt(r)?!!r.capture:!!r,h=VR(n);if(h||(n[NR]=h=new OI(n)),(e=h.add(t,e,i,l,s)).proxy)return e;if(i=function J6(){var t=eq;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Z6||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(wB(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function vB(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)vB(n,t[s],e,i,r);return null}return e=UR(e),n&&n[Zb]?n.O(t,e,Bt(i)?!!i.capture:!!i,r):yB(n,t,e,!0,i,r)}function bB(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)bB(n,t[s],e,i,r);else i=Bt(i)?!!i.capture:!!i,e=UR(e),n&&n[Zb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=PR(s=n.g[t],e,i,r))&&(RI(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=VR(n))&&(t=n.g[t.toString()],n=-1,t&&(n=PR(t,e,i,r)),(e=-1<n?t[n]:null)&&LR(e))}function LR(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Zb])OR(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(wB(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=VR(t))?(OR(e,n),0==e.h&&(e.src=null,t[NR]=null)):RI(n)}}}function wB(n){return n in FR?FR[n]:FR[n]="on"+n}function eq(n,t){if(n.ca)n=!0;else{t=new Yb(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&LR(n),n=e.call(i,t)}return n}function VR(n){return(n=n[NR])instanceof OI?n:null}var BR="__closure_events_fn_"+(1e9*Math.random()>>>0);function UR(n){return"function"==typeof n?n:(n[BR]||(n[BR]=function(t){return n.handleEvent(t)}),n[BR])}function Ki(){Oo.call(this),this.i=new OI(this),this.P=this,this.I=null}function mr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Rr(t,n);else if(t instanceof Rr)t.target=t.target||n;else{var r=t;hB(t=new Rr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var l=t.g=e[s];r=PI(l,i,!0,t)&&r}if(r=PI(l=t.g=n,i,!0,t)&&r,r=PI(l,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=PI(l=t.g=e[s],i,!1,t)&&r}function PI(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.ca&&l.capture==e){var h=l.listener,p=l.ia||l.src;l.fa&&OR(n.i,l),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}mi(Ki,Oo),Ki.prototype[Zb]=!0,Ki.prototype.removeEventListener=function(n,t,e,i){bB(this,n,t,e,i)},Ki.prototype.M=function(){if(Ki.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)RI(e[i]);delete n.g[t],n.h--}}this.I=null},Ki.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ki.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var HR=Pe.JSON.stringify;function tq(){var n=EB;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var $R,CB=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iq,n=>n.reset());class iq{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function rq(n){Pe.setTimeout(()=>{throw n},0)}function jR(n,t){$R||function sq(){var n=Pe.Promise.resolve(void 0);$R=function(){n.then(oq)}}(),zR||($R(),zR=!0),EB.add(n,t)}var zR=!1,EB=new class nq{constructor(){this.h=this.g=null}add(t,e){const i=CB.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function oq(){for(var n;n=tq();){try{n.h.call(n.g)}catch(e){rq(e)}var t=CB;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}zR=!1}function NI(n,t){Ki.call(this),this.h=n||1,this.g=t||Pe,this.j=pi(this.kb,this),this.l=Date.now()}function GR(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function WR(n,t,e){if("function"==typeof n)e&&(n=pi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(t)?-1:Pe.setTimeout(n,t||0)}function DB(n){n.g=WR(()=>{n.g=null,n.i&&(n.i=!1,DB(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}mi(NI,Ki),(le=NI.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mr(this,"tick"),this.da&&(GR(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){NI.Z.M.call(this),GR(this),delete this.g};class aq extends Oo{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:DB(this)}M(){super.M(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kb(n){Oo.call(this),this.h=n,this.g={}}mi(Kb,Oo);var IB=[];function TB(n,t,e,i){Array.isArray(e)||(e&&(IB[0]=e.toString()),e=IB);for(var r=0;r<e.length;r++){var s=_B(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function AB(n){TR(n.g,function(t,e){this.g.hasOwnProperty(e)&&LR(t)},n),n.g={}}function FI(){this.g=!0}function Tg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function dq(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return HR(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Kb.prototype.M=function(){Kb.Z.M.call(this),AB(this)},Kb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},FI.prototype.Aa=function(){this.g=!1},FI.prototype.info=function(){};var gf={},SB=null;function LI(){return SB=SB||new Ki}function MB(n){Rr.call(this,gf.Ma,n)}function Qb(n){const t=LI();mr(t,new MB(t,n))}function xB(n,t){Rr.call(this,gf.STAT_EVENT,n),this.stat=t}function zr(n){const t=LI();mr(t,new xB(t,n))}function kB(n,t){Rr.call(this,gf.Na,n),this.size=t}function Xb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){n()},t)}gf.Ma="serverreachability",mi(MB,Rr),gf.STAT_EVENT="statevent",mi(xB,Rr),gf.Na="timingevent",mi(kB,Rr);var VI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},RB={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qR(){}function PB(){}qR.prototype.h=null;var KR,Jb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function YR(){Rr.call(this,"d")}function ZR(){Rr.call(this,"c")}function BI(){}function ew(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Kb(this),this.P=hq,this.W=new NI(n=SR?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new NB}function NB(){this.i=null,this.g="",this.h=!1}mi(YR,Rr),mi(ZR,Rr),mi(BI,qR),BI.prototype.g=function(){return new XMLHttpRequest},BI.prototype.i=function(){return{}},KR=new BI;var hq=45e3,QR={},UI={};function XR(n,t,e){n.K=1,n.v=GI(vc(t)),n.s=e,n.U=!0,FB(n,null)}function FB(n,t){n.F=Date.now(),tw(n),n.A=vc(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),GB(e.h,"t",i),n.C=0,e=n.l.H,n.h=new NB,n.g=m2(n.l,e?t:null,!n.s),0<n.O&&(n.L=new aq(pi(n.Ia,n,n.g),n.O)),TB(n.V,n.g,"readystatechange",n.gb),t=n.H?uB(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Qb(1),function lq(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var b=_[0];_=_[1];var D=b.split("_");l=2<=D.length&&"type"==D[1]?l+(b+"=")+_+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function LB(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function VB(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=fq(n,e),r==UI){4==t&&(n.o=4,zr(14),i=!1),Tg(n.j,n.m,null,"[Incomplete Response]");break}if(r==QR){n.o=4,zr(15),Tg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Tg(n.j,n.m,r,null),JR(n,r)}LB(n)&&r!=UI&&r!=QR&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,zr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),uO(t),t.L=!0,zr(11))):(Tg(n.j,n.m,e,"[Invalid Chunked Response]"),_f(n),nw(n))}function fq(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?UI:(e=Number(t.substring(e,i)),isNaN(e)?QR:(i+=1)+e>t.length?UI:(t=t.substr(i,e),n.C=i+e,t))}function tw(n){n.Y=Date.now()+n.P,BB(n,n.P)}function BB(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xb(pi(n.eb,n),t)}function HI(n){n.B&&(Pe.clearTimeout(n.B),n.B=null)}function nw(n){0==n.l.G||n.I||d2(n.l,n)}function _f(n){HI(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,GR(n.W),AB(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function JR(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||nO(e.i,n)))if(e.I=n.N,!n.J&&nO(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;QI(e),ZI(e)}cO(e),zr(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Xb(pi(e.ab,e),6e3));if(1>=YB(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else bf(e,11)}else if((n.J||e.g==n)&&QI(e),!xI(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const b=_[3];null!=b&&(e.ma=b,e.h.info("VER="+e.ma));const D=_[4];null!=D&&(e.za=D,e.h.info("SVER="+e.za));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(e.K=i=1.5*A,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const x=n.g;if(x){const O=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var s=i.i;!s.g&&(jr(O,"spdy")||jr(O,"quic")||jr(O,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(iO(s,s.h),s.h=null))}if(i.D){const q=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.sa=q,zn(i.F,i.D,q))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var l=n;if((i=e).oa=p2(i,i.H?i.la:null,i.W),l.J){ZB(i.i,l);var h=l,p=i.K;p&&h.setTimeout(p),h.B&&(HI(h),tw(h)),i.g=l}else c2(i);0<e.l.length&&KI(e)}else"stop"!=_[0]&&"close"!=_[0]||bf(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?bf(e,7):aO(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Qb(4)}catch{}}function eO(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ut(n)||"string"==typeof n)sB(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(ut(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function pq(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(ut(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function Ag(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ag)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function tO(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];yf(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)yf(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function yf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(le=ew.prototype).setTimeout=function(n){this.P=n},le.gb=function(n){n=n.target;const t=this.L;t&&3==bc(n)?t.l():this.Ia(n)},le.Ia=function(n){try{if(n==this.g)e:{const b=bc(this.g);var t=this.g.Da();const D=this.g.ba();if(!(3>b)&&(3!=b||SR||this.g&&(this.h.h||this.g.ga()||r2(this.g)))){this.I||4!=b||7==t||Qb(8==t||0>=D?3:2),HI(this);var e=this.g.ba();this.N=e;t:if(LB(this)){var i=r2(this.g);n="";var r=i.length,s=4==bc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_f(this),nw(this);var l="";break t}this.h.i=new Pe.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==e,function cq(n,t,e,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,b,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xI(h)){var _=h;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,zr(12),_f(this),nw(this);break e}Tg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JR(this,e)}this.U?(VB(this,b,l),SR&&this.i&&3==b&&(TB(this.V,this.W,"tick",this.fb),this.W.start())):(Tg(this.j,this.m,l,null),JR(this,l)),4==b&&_f(this),this.i&&!this.I&&(4==b?d2(this.l,this):(this.i=!1,tw(this)))}else 400==e&&0<l.indexOf("Unknown SID")?(this.o=3,zr(12)):(this.o=0,zr(13)),_f(this),nw(this)}}}catch{}},le.fb=function(){if(this.g){var n=bc(this.g),t=this.g.ga();this.C<t.length&&(HI(this),VB(this,n,t),this.i&&4!=n&&tw(this))}},le.cancel=function(){this.I=!0,_f(this)},le.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function uq(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qb(3),zr(17)),_f(this),this.o=2,nw(this)):BB(this,this.Y-n)},(le=Ag.prototype).R=function(){tO(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},le.T=function(){return tO(this),this.g.concat()},le.get=function(n,t){return yf(this.h,n)?this.h[n]:t},le.set=function(n,t){yf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},le.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var UB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vf(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof vf){this.g=void 0!==t?t:n.g,jI(this,n.j),this.s=n.s,$I(this,n.i),zI(this,n.m),this.l=n.l,t=n.h;var e=new sw;e.i=t.i,t.g&&(e.g=new Ag(t.g),e.h=t.h),HB(this,e),this.o=n.o}else n&&(e=String(n).match(UB))?(this.g=!!t,jI(this,e[1]||"",!0),this.s=iw(e[2]||""),$I(this,e[3]||"",!0),zI(this,e[4]),this.l=iw(e[5]||"",!0),HB(this,e[6]||"",!0),this.o=iw(e[7]||"")):(this.g=!!t,this.h=new sw(null,this.g))}function vc(n){return new vf(n)}function jI(n,t,e){n.j=e?iw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function $I(n,t,e){n.i=e?iw(t,!0):t}function zI(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function HB(n,t,e){t instanceof sw?(n.h=t,function Eq(n,t){t&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&($B(this,i),GB(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=rw(t,wq)),n.h=new sw(t,n.g))}function zn(n,t,e){n.h.set(t,e)}function GI(n){return zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function iw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,yq),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(rw(t,jB,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(rw(t,jB,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(rw(e,"/"==e.charAt(0)?bq:vq,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",rw(e,Cq)),n.join("")};var jB=/[#\/\?@]/g,vq=/[#\?:]/g,bq=/[#\?]/g,wq=/[#\?@]/g,Cq=/#/g;function sw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function zu(n){n.g||(n.g=new Ag,n.h=0,n.i&&function mq(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function $B(n,t){zu(n),t=Sg(n,t),yf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,yf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&tO(n)))}function zB(n,t){return zu(n),t=Sg(n,t),yf(n.g.h,t)}function GB(n,t,e){$B(n,t),0<e.length&&(n.i=null,n.g.set(Sg(n,t),DR(e)),n.h+=e.length)}function Sg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function WB(n){this.l=n||Iq,n=Pe.PerformanceNavigationTiming?0<(n=Pe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pe.g&&Pe.g.Ea&&Pe.g.Ea()&&Pe.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=sw.prototype).add=function(n,t){zu(this),this.i=null,n=Sg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},le.forEach=function(n,t){zu(this),this.g.forEach(function(e,i){sB(e,function(r){n.call(t,r,i,this)},this)},this)},le.T=function(){zu(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},le.R=function(n){zu(this);var t=[];if("string"==typeof n)zB(this,n)&&(t=oB(t,this.g.get(Sg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=oB(t,n[e])}return t},le.set=function(n,t){return zu(this),this.i=null,zB(this,n=Sg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},le.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var l=r;""!==i[s]&&(l+="="+encodeURIComponent(String(i[s]))),n.push(l)}}return this.i=n.join("&")};var Iq=10;function qB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YB(n){return n.h?1:n.g?n.g.size:0}function nO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function iO(n,t){n.g?n.g.add(t):n.h=t}function ZB(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function KB(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return DR(n.i)}function rO(){}function Tq(){this.g=new rO}function Aq(n,t,e){const i=e||"";try{eO(n,function(r,s){let l=r;Bt(r)&&(l=HR(r)),t.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function WI(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ow(n){this.l=n.$b||null,this.j=n.ib||!1}function qI(n,t){Ki.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=sO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WB.prototype.cancel=function(){if(this.i=KB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},rO.prototype.stringify=function(n){return Pe.JSON.stringify(n,void 0)},rO.prototype.parse=function(n){return Pe.JSON.parse(n,void 0)},mi(ow,qR),ow.prototype.g=function(){return new qI(this.l,this.j)},ow.prototype.i=function(n){return function(){return n}}({}),mi(qI,Ki);var sO=0;function QB(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function aw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lw(n)}function lw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(le=qI.prototype).open=function(n,t){if(this.readyState!=sO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,lw(this)},le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Pe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,aw(this)),this.readyState=sO},le.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lw(this)),this.g&&(this.readyState=3,lw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QB(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?aw(this):lw(this),3==this.readyState&&QB(this)}},le.Ua=function(n){this.g&&(this.response=this.responseText=n,aw(this))},le.Ta=function(n){this.g&&(this.response=n,aw(this))},le.ha=function(){this.g&&aw(this)},le.setRequestHeader=function(n,t){this.v.append(n,t)},le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(qI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Mq=Pe.JSON.parse;function Ii(n){Ki.call(this),this.headers=new Ag,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XB,this.K=this.L=!1}mi(Ii,Ki);var XB="",xq=/^https?$/i,kq=["POST","PUT"];function Oq(n){return"content-type"==n.toLowerCase()}function JB(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,e2(n),YI(n)}function e2(n){n.D||(n.D=!0,mr(n,"complete"),mr(n,"error"))}function t2(n){if(n.h&&typeof tt<"u"&&(!n.C[1]||4!=bc(n)||2!=n.ba()))if(n.v&&4==bc(n))WR(n.Fa,0,n);else if(mr(n,"readystatechange"),4==bc(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(UB)[1]||null;if(!r&&Pe.self&&Pe.self.location){var s=Pe.self.location.protocol;r=s.substr(0,s.length-1)}i=!xq.test(r?r.toLowerCase():"")}e=i}if(e)mr(n,"complete"),mr(n,"success");else{n.m=6;try{var l=2<bc(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.ba()+"]",e2(n)}}finally{YI(n)}}}function YI(n,t){if(n.g){n2(n);const e=n.g,i=n.C[0]?Te:null;n.g=null,n.C=null,t||mr(n,"ready");try{e.onreadystatechange=i}catch{}}}function n2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Pe.clearTimeout(n.A),n.A=null)}function bc(n){return n.g?n.g.readyState:0}function r2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case XB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function oO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function Pq(n){let t="";return TR(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):zn(n,t,e))}function cw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function s2(n){this.za=0,this.l=[],this.h=new FI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cw("baseRetryDelayMs",5e3,n),this.$a=cw("retryDelaySeedMs",1e4,n),this.Ya=cw("forwardChannelMaxRetries",2,n),this.ra=cw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new WB(n&&n.concurrentRequestLimit),this.Ca=new Tq,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function aO(n){if(o2(n),3==n.G){var t=n.V++,e=vc(n.F);zn(e,"SID",n.J),zn(e,"RID",t),zn(e,"TYPE","terminate"),uw(n,e),(t=new ew(n,n.h,t,void 0)).K=2,t.v=GI(vc(e)),e=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(e=Pe.navigator.sendBeacon(t.v.toString(),"")),!e&&Pe.Image&&((new Image).src=t.v,e=!0),e||(t.g=m2(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tw(t)}f2(n)}function ZI(n){n.g&&(uO(n),n.g.cancel(),n.g=null)}function o2(n){ZI(n),n.u&&(Pe.clearTimeout(n.u),n.u=null),QI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pe.clearTimeout(n.m),n.m=null)}function lO(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&KI(n)}function KI(n){qB(n.i)||n.m||(n.m=!0,jR(n.Ha,n),n.C=0)}function a2(n,t){var e;e=t?t.m:n.V++;const i=vc(n.F);zn(i,"SID",n.J),zn(i,"RID",e),zn(i,"AID",n.U),uw(n,i),n.o&&n.s&&oO(i,n.o,n.s),e=new ew(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=l2(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),iO(n.i,e),XR(e,i,t)}function uw(n,t){n.j&&eO({},function(e,i){zn(t,i,e)})}function l2(n,t,e){e=Math.min(n.l.length,e);var i=n.j?pi(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=r[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{Aq(b,l,"req"+_+"_")}catch{i&&i(b)}}if(h){i=l.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function c2(n){n.g||n.u||(n.Y=1,jR(n.Ga,n),n.A=0)}function cO(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xb(pi(n.Ga,n),h2(n,n.A)),n.A++,0))}function uO(n){null!=n.B&&(Pe.clearTimeout(n.B),n.B=null)}function u2(n){n.g=new ew(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=vc(n.oa);zn(t,"RID","rpc"),zn(t,"SID",n.J),zn(t,"CI",n.N?"0":"1"),zn(t,"AID",n.U),uw(n,t),zn(t,"TYPE","xmlhttp"),n.o&&n.s&&oO(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=GI(vc(t)),e.s=null,e.U=!0,FB(e,n)}function QI(n){null!=n.v&&(Pe.clearTimeout(n.v),n.v=null)}function d2(n,t){var e=null;if(n.g==t){QI(n),uO(n),n.g=null;var i=2}else{if(!nO(n.i,t))return;e=t.D,ZB(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;mr(i=LI(),new kB(i,e,t,r)),KI(n)}else c2(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function Nq(n,t){return!(YB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xb(pi(n.Ha,n,t),h2(n,n.C)),n.C++,0)))}(n,t)||2==i&&cO(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:bf(n,5);break;case 4:bf(n,10);break;case 3:bf(n,6);break;default:bf(n,2)}}function h2(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function bf(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=pi(n.jb,n);e||(e=new vf("//www.google.com/images/cleardot.gif"),Pe.location&&"http"==Pe.location.protocol||jI(e,"https"),GI(e)),function Sq(n,t){const e=new FI;if(Pe.Image){const i=new Image;i.onload=$u(WI,e,i,"TestLoadImage: loaded",!0,t),i.onerror=$u(WI,e,i,"TestLoadImage: error",!1,t),i.onabort=$u(WI,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=$u(WI,e,i,"TestLoadImage: timeout",!1,t),Pe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else zr(2);n.G=0,n.j&&n.j.va(t),f2(n),o2(n)}function f2(n){n.G=0,n.I=-1,n.j&&((0!=KB(n.i).length||0!=n.l.length)&&(n.i.i.length=0,DR(n.l),n.l.length=0),n.j.ua())}function p2(n,t,e){let i=function gq(n){return n instanceof vf?vc(n):new vf(n,void 0)}(e);if(""!=i.i)t&&$I(i,t+"."+i.i),zI(i,i.m);else{const r=Pe.location;i=function _q(n,t,e,i){var r=new vf(null,void 0);return n&&jI(r,n),t&&$I(r,t),e&&zI(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&TR(n.aa,function(r,s){zn(i,s,r)}),e=n.sa,(t=n.D)&&e&&zn(i,t,e),zn(i,"VER",n.ma),uw(n,i),i}function m2(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ii(e&&n.Ba&&!n.qa?new ow({ib:!0}):n.qa)).L=n.H,t}function g2(){}function XI(){if(Ig&&!(10<=Number(Y6)))throw Error("Environmental error: no available transport.")}function Ws(n,t){Ki.call(this),this.g=new s2(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!xI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Mg(this)}function _2(n){YR.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function y2(){ZR.call(this),this.status=1}function Mg(n){this.g=n}(le=Ii.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():KR.g(),this.C=function OB(n){return n.h||(n.h=n.i())}(this.u?this.u:KR),this.g.onreadystatechange=pi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void JB(this,s)}n=e||"";const r=new Ag(this.headers);i&&eO(i,function(s,l){r.set(l,s)}),i=function j6(n){e:{var t=Oq;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Pe.FormData&&n instanceof Pe.FormData,!(0<=rB(kq,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{n2(this),0<this.B&&((this.K=function Rq(n){return Ig&&function q6(){return function $6(n){var t=W6;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=aB(String(kI)).split("."),e=aB("9").split("."),i=Math.max(t.length,e.length);for(let l=0;0==n&&l<i;l++){var r=t[l]||"",s=e[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=IR(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||IR(0==r[2].length,0==s[2].length)||IR(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.pa,this)):this.A=WR(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){JB(this,s)}},le.pa=function(){typeof tt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mr(this,"complete"),mr(this,"abort"),YI(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),YI(this,!0)),Ii.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?t2(this):this.cb())},le.cb=function(){t2(this)},le.ba=function(){try{return 2<bc(this)?this.g.status:-1}catch{return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Mq(t)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=s2.prototype).ma=8,le.G=1,le.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},le.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new ew(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=uB(s),hB(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=l2(this,r,t),zn(e=vc(this.F),"RID",n),zn(e,"CVER",22),this.D&&zn(e,"X-HTTP-Session-Id",this.D),uw(this,e),this.o&&s&&oO(e,this.o,s),iO(this.i,r),this.Ra&&zn(e,"TYPE","init"),this.ja?(zn(e,"$req",t),zn(e,"SID","null"),r.$=!0,XR(r,e,null)):XR(r,e,t),this.G=2}}else 3==this.G&&(n?a2(this,n):0==this.l.length||qB(this.i)||a2(this))},le.Ga=function(){if(this.u=null,u2(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xb(pi(this.bb,this),n)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zr(10),ZI(this),u2(this))},le.ab=function(){null!=this.v&&(this.v=null,ZI(this),cO(this),zr(19))},le.jb=function(n){n?(this.h.info("Successfully pinged google.com"),zr(2)):(this.h.info("Failed to ping google.com"),zr(1))},(le=g2.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},XI.prototype.g=function(n,t){return new Ws(n,t)},mi(Ws,Ki),Ws.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),jR(pi(n.hb,n,t))),zr(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=p2(n,null,n.W),KI(n)},Ws.prototype.close=function(){aO(this.g)},Ws.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,lO(this.g,t)}else this.v?((t={}).__data__=HR(n),lO(this.g,t)):lO(this.g,n)},Ws.prototype.M=function(){this.g.j=null,delete this.j,aO(this.g),delete this.g,Ws.Z.M.call(this)},mi(_2,YR),mi(y2,ZR),mi(Mg,g2),Mg.prototype.xa=function(){mr(this.g,"a")},Mg.prototype.wa=function(n){mr(this.g,new _2(n))},Mg.prototype.va=function(n){mr(this.g,new y2(n))},Mg.prototype.ua=function(){mr(this.g,"b")},XI.prototype.createWebChannel=XI.prototype.g,Ws.prototype.send=Ws.prototype.u,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,VI.NO_ERROR=0,VI.TIMEOUT=8,VI.HTTP_ERROR=6,RB.COMPLETE="complete",PB.EventType=Jb,Jb.OPEN="a",Jb.CLOSE="b",Jb.ERROR="c",Jb.MESSAGE="d",Ki.prototype.listen=Ki.prototype.N,Ii.prototype.listenOnce=Ii.prototype.O,Ii.prototype.getLastError=Ii.prototype.La,Ii.prototype.getLastErrorCode=Ii.prototype.Da,Ii.prototype.getStatus=Ii.prototype.ba,Ii.prototype.getResponseJson=Ii.prototype.Qa,Ii.prototype.getResponseText=Ii.prototype.ga,Ii.prototype.send=Ii.prototype.ea;var Fq=Se.createWebChannelTransport=function(){return new XI},Lq=Se.getStatEventTarget=function(){return LI()},dO=Se.ErrorCode=VI,Vq=Se.EventType=RB,Bq=Se.Event=gf,v2=Se.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uq=Se.FetchXmlHttpFactory=ow,JI=Se.WebChannel=PB,Hq=Se.XhrIo=Ii;const b2="@firebase/firestore";class Qi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let xg="9.9.2";const Gu=new kr.Yd("@firebase/firestore");function hO(){return Gu.logLevel}function Ne(n,...t){if(Gu.logLevel<=kr.in.DEBUG){const e=t.map(fO);Gu.debug(`Firestore (${xg}): ${n}`,...e)}}function gi(n,...t){if(Gu.logLevel<=kr.in.ERROR){const e=t.map(fO);Gu.error(`Firestore (${xg}): ${n}`,...e)}}function wf(n,...t){if(Gu.logLevel<=kr.in.WARN){const e=t.map(fO);Gu.warn(`Firestore (${xg}): ${n}`,...e)}}function fO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const t=`FIRESTORE (${xg}) INTERNAL ASSERTION FAILED: `+n;throw gi(t),new Error(t)}function Tt(n,t){n||at()}function Ze(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends H.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class w2{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qi.UNAUTHENTICATED))}shutdown(){}}class Gq{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Wq{constructor(t){this.t=t,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=l;t.enqueueRetryable((0,K.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new w2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(null===t||"string"==typeof t),new Qi(t)}}class qq{constructor(t,e,i){this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Yq{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new qq(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zq{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.p;return this.p=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt("string"==typeof e.token),this.p=e.token,new C2(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kq(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class E2{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Kq(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Rt(n,t){return n<t?-1:n>t?1:0}function kg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function D2(n){return n+"\0"}class Gn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Gn.fromMillis(Date.now())}static fromDate(t){return Gn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Gn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Gn(0,0))}static max(){return new Et(new Gn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dw{constructor(t,e,i){void 0===e?e=0:e>t.length&&at(),void 0===i?i=t.length-e:i>t.length-e&&at(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===dw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof dw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),l=e.get(r);if(s<l)return-1;if(s>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class en extends dw{construct(t,e,i){return new en(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new en(e)}static emptyPath(){return new en([])}}const Qq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends dw{construct(t,e,i){return new ai(t,e,i)}static isValidIdentifier(t){return Qq.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ai(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new xe(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new xe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new xe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(s(),r++)}if(s(),l)throw new xe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ai(e)}static emptyPath(){return new ai([])}}class Ge{constructor(t){this.path=t}static fromPath(t){return new Ge(en.fromString(t))}static fromName(t){return new Ge(en.fromString(t).popFirst(5))}static empty(){return new Ge(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===en.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return en.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ge(new en(t.slice()))}}class eT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function pO(n){return n.fields.find(t=>2===t.kind)}function Cf(n){return n.fields.filter(t=>2!==t.kind)}eT.UNKNOWN_ID=-1;class tT{constructor(t,e){this.fieldPath=t,this.kind=e}}class hw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new hw(0,qs.min())}}function I2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Et.fromTimestamp(1e9===i?new Gn(e+1,0):new Gn(e,i));return new qs(r,Ge.empty(),t)}function T2(n){return new qs(n.readTime,n.key,-1)}class qs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new qs(Et.min(),Ge.empty(),-1)}static max(){return new qs(Et.max(),Ge.empty(),-1)}}function mO(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ge.comparator(n.documentKey,t.documentKey),0!==e?e:Rt(n.largestBatchId,t.largestBatchId))}const A2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Wu(n){return gO.apply(this,arguments)}function gO(){return gO=(0,K.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==A2)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),gO.apply(this,arguments)}class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new se((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof se?e:se.resolve(e)}catch(e){return se.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):se.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):se.reject(e)}static resolve(t){return new se((e,i)=>{e(t)})}static reject(t){return new se((e,i)=>{i(t)})}static waitFor(t){return new se((e,i)=>{let r=0,s=0,l=!1;t.forEach(h=>{++r,h.next(()=>{++s,l&&s===r&&e()},p=>i(p))}),l=!0,s===r&&e()})}static or(t){let e=se.resolve(!1);for(const i of t)e=e.next(r=>r?se.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new se((i,r)=>{const s=t.length,l=new Array(s);let h=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{l[_]=b,++h,h===s&&i(l)},b=>r(b))}})}static doWhile(t,e){return new se((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class nT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Xi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new fw(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=_O(i.target.error);this.T.reject(new fw(t,r))}}static open(t,e,i,r){try{return new nT(e,t.transaction(r,i))}catch(s){throw new fw(e,s)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(Ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new tY(e)}}class ya{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===ya.v((0,H.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ne("SimpleDb","Removing database:",t),Ef(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,H.hl)())return!1;if(ya.S())return!0;const t=(0,H.z$)(),e=ya.v(t),i=0<e&&e<10,r=ya.D(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,K.Z)(function*(){return e.db||(Ne("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new fw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new xe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new xe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new fw(t,h))},s.onupgradeneeded=l=>{Ne("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.P.M(l.target.result,s.transaction,l.oldVersion,e.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=i=>e.O(i)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,K.Z)(function*(){const l="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.k(t);const p=nT.open(s.db,t,l?"readonly":"readwrite",i),_=r(p).next(b=>(p.R(),b)).catch(b=>(p.abort(b),se.reject(b))).toPromise();return _.catch(()=>{}),yield p.A,_}catch(p){const _=p,b="FirebaseError"!==_.name&&h<3;if(Ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eY{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return Ef(this.$.delete())}}class fw extends xe{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function qu(n){return"IndexedDbTransactionError"===n.name}class tY{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ne("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ef(i)}add(t){return Ne("SimpleDb","ADD",this.store.name,t,t),Ef(this.store.add(t))}get(t){return Ef(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ne("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ne("SimpleDb","DELETE",this.store.name,t),Ef(this.store.delete(t))}count(){return Ne("SimpleDb","COUNT",this.store.name),Ef(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(l,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new se((s,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new se((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}W(t,e){Ne("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(s,l,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new se((i,r)=>{e.onerror=s=>{const l=_O(s.target.error);r(l)},e.onsuccess=s=>{const l=s.target.result;l?t(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}G(t,e){const i=[];return new se((r,s)=>{t.onerror=l=>{s(l.target.error)},t.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const p=new eY(h),_=e(h.primaryKey,h.value,p);if(_ instanceof se){const b=_.catch(D=>(p.done(),se.reject(D)));i.push(b)}p.isDone?r():null===p.U?h.continue():h.continue(p.U)}}).next(()=>se.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ef(n){return new se((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=_O(i.target.error);e(r)}})}let M2=!1;function _O(n){const t=ya.v((0,H.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M2||(M2=!0,setTimeout(()=>{throw i},0)),i}}return n}class nY{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;Ne("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,K.Z)(function*(){e.task=null;try{Ne("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){qu(i)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Wu(i)}yield e.Z(1)}))}}class iY{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,K.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,s=!0;return se.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return Ne("IndexBackiller",`Processing collection: ${l}`),this.nt(t,l,r).next(h=>{r-=h,i.add(l)});s=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.st(r,s)).next(h=>(Ne("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>l.size)}))}st(t,e){let i=t;return e.changes.forEach((r,s)=>{const l=T2(s);mO(l,i)>0&&(i=l)}),new qs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class _s{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function x2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Df(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function k2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}_s.ot=-1;class li{constructor(t,e){this.comparator=t,this.root=e||gr.EMPTY}insert(t,e){return new li(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(t){return new li(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iT(this.root,t,this.comparator,!1)}getReverseIterator(){return new iT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iT(this.root,t,this.comparator,!0)}}class iT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??gr.RED,this.left=r??gr.EMPTY,this.right=s??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new gr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return gr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1,gr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,t,e,i,r){return this}insert(n,t,e){return new gr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(t){this.comparator=t,this.data=new li(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new R2(this.data.getIterator())}getIteratorFrom(t){return new R2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof wn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new wn(this.comparator);return e.data=t,e}}class R2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rg(n){return n.hasNext()?n.getNext():void 0}class Ys{constructor(t){this.fields=t,t.sort(ai.comparator)}static empty(){return new Ys([])}unionWith(t){let e=new wn(ai.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ys(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return kg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Pi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Pi(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Pi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const sY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(n){if(Tt(!!n),"string"==typeof n){let t=0;const e=sY.exec(n);if(Tt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ci(n.seconds),nanos:ci(n.nanos)}}function ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function If(n){return"string"==typeof n?Pi.fromBase64String(n):Pi.fromUint8Array(n)}function yO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function O2(n){const t=n.mapValue.fields.__previous_value__;return yO(t)?O2(t):t}function pw(n){const t=Yu(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(t.seconds,t.nanos)}class oY{constructor(t,e,i,r,s,l,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class wc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof wc&&t.projectId===this.projectId&&t.database===this.database}}function mw(n){return null==n}function gw(n){return 0===n&&1/n==-1/0}function P2(n){return"number"==typeof n&&Number.isInteger(n)&&!gw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rT={nullValue:"NULL_VALUE"};function Tf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yO(n)?4:V2(n)?9007199254740991:10:at()}function pl(n,t){if(n===t)return!0;const e=Tf(n);if(e!==Tf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pw(n).isEqual(pw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Yu(i.timestampValue),l=Yu(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,If(n.bytesValue).isEqual(If(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ci(i.geoPointValue.latitude)===ci(r.geoPointValue.latitude)&&ci(i.geoPointValue.longitude)===ci(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ci(i.integerValue)===ci(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ci(i.doubleValue),l=ci(r.doubleValue);return s===l?gw(s)===gw(l):isNaN(s)&&isNaN(l)}return!1}(n,t);case 9:return kg(n.arrayValue.values||[],t.arrayValue.values||[],pl);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(x2(s)!==x2(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!pl(s[h],l[h])))return!1;return!0}(n,t);default:return at()}var r}function _w(n,t){return void 0!==(n.values||[]).find(e=>pl(e,t))}function Ku(n,t){if(n===t)return 0;const e=Tf(n),i=Tf(t);if(e!==i)return Rt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const l=ci(r.integerValue||r.doubleValue),h=ci(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,t);case 3:return N2(n.timestampValue,t.timestampValue);case 4:return N2(pw(n),pw(t));case 5:return Rt(n.stringValue,t.stringValue);case 6:return function(r,s){const l=If(r),h=If(s);return l.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const l=r.split("/"),h=s.split("/");for(let p=0;p<l.length&&p<h.length;p++){const _=Rt(l[p],h[p]);if(0!==_)return _}return Rt(l.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const l=Rt(ci(r.latitude),ci(s.latitude));return 0!==l?l:Rt(ci(r.longitude),ci(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const l=r.values||[],h=s.values||[];for(let p=0;p<l.length&&p<h.length;++p){const _=Ku(l[p],h[p]);if(_)return _}return Rt(l.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Zu.mapValue&&s===Zu.mapValue)return 0;if(r===Zu.mapValue)return 1;if(s===Zu.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let b=0;b<h.length&&b<_.length;++b){const D=Rt(h[b],_[b]);if(0!==D)return D;const A=Ku(l[h[b]],p[_[b]]);if(0!==A)return A}return Rt(h.length,_.length)}(n.mapValue,t.mapValue);default:throw at()}}function N2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Rt(n,t);const e=Yu(n),i=Yu(t),r=Rt(e.seconds,i.seconds);return 0!==r?r:Rt(e.nanos,i.nanos)}function Og(n){return vO(n)}function vO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Yu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?If(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=vO(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const h of r)l?l=!1:s+=",",s+=`${h}:${vO(i.fields[h])}`;return s+"}"}(n.mapValue):at();var t}function Af(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function bO(n){return!!n&&"integerValue"in n}function yw(n){return!!n&&"arrayValue"in n}function F2(n){return!!n&&"nullValue"in n}function L2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sT(n){return!!n&&"mapValue"in n}function vw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Df(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=vw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function V2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function aY(n){return"nullValue"in n?rT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Af(wc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function lY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Af(wc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Zu:at()}function B2(n,t){const e=Ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function U2(n,t){const e=Ku(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class _r{constructor(t){this.value=t}static empty(){return new _r({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!sT(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vw(e)}setAll(t){let e=ai.emptyPath(),i={},r=[];t.forEach((l,h)=>{if(!e.isImmediateParentOf(h)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=h.popLast()}l?i[h.lastSegment()]=vw(l):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());sT(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return pl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];sT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Df(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new _r(vw(this.value))}}function H2(n){const t=[];return Df(n.fields,(e,i)=>{const r=new ai([e]);if(sT(i)){const s=H2(i.mapValue).fields;if(0===s.length)t.push(r);else for(const l of s)t.push(r.child(l))}else t.push(r)}),new Ys(t)}class Rn{constructor(t,e,i,r,s,l){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=l}static newInvalidDocument(t){return new Rn(t,0,Et.min(),Et.min(),_r.empty(),0)}static newFoundDocument(t,e,i){return new Rn(t,1,e,Et.min(),i,0)}static newNoDocument(t,e){return new Rn(t,2,e,Et.min(),_r.empty(),0)}static newUnknownDocument(t,e){return new Rn(t,3,e,Et.min(),_r.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cY{constructor(t,e=null,i=[],r=[],s=null,l=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=h,this.ut=null}}function j2(n,t=null,e=[],i=[],r=null,s=null,l=null){return new cY(n,t,e,i,r,s,l)}function Sf(n){const t=Ze(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Og(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),mw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Og(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Og(i)).join(",")),t.ut=e}return t.ut}function bw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!yY(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!pl(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!q2(n.startAt,t.startAt)&&q2(n.endAt,t.endAt)}function oT(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function aT(n,t){return n.filters.filter(e=>e instanceof yr&&e.field.isEqual(t))}function $2(n,t,e){let i=rT,r=!0;for(const s of aT(n,t)){let l=rT,h=!0;switch(s.op){case"<":case"<=":l=aY(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=rT}B2({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];B2({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function z2(n,t,e){let i=Zu,r=!0;for(const s of aT(n,t)){let l=Zu,h=!0;switch(s.op){case">=":case">":l=lY(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=Zu}U2({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const l=e.position[s];U2({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class yr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new dY(t,e,i):"array-contains"===e?new pY(t,i):"in"===e?new mY(t,i):"not-in"===e?new gY(t,i):"array-contains-any"===e?new _Y(t,i):new yr(t,e,i)}static ct(t,e,i){return"in"===e?new hY(t,i):new fY(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(Ku(e,this.value)):null!==e&&Tf(this.value)===Tf(e)&&this.at(Ku(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return at()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dY extends yr{constructor(t,e,i){super(t,e,i),this.key=Ge.fromName(i.referenceValue)}matches(t){const e=Ge.comparator(t.key,this.key);return this.at(e)}}class hY extends yr{constructor(t,e){super(t,"in",e),this.keys=G2(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class fY extends yr{constructor(t,e){super(t,"not-in",e),this.keys=G2(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function G2(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class pY extends yr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yw(e)&&_w(e.arrayValue,this.value)}}class mY extends yr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&_w(this.value.arrayValue,e)}}class gY extends yr{constructor(t,e){super(t,"not-in",e)}matches(t){if(_w(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!_w(this.value.arrayValue,e)}}class _Y extends yr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>_w(this.value.arrayValue,i))}}class Qu{constructor(t,e){this.position=t,this.inclusive=e}}class Pg{constructor(t,e="asc"){this.field=t,this.dir=e}}function yY(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function W2(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],l=n.position[r];if(i=s.field.isKeyField()?Ge.comparator(Ge.fromName(l.referenceValue),e.key):Ku(l,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function q2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!pl(n.position[e],t.position[e]))return!1;return!0}class Cc{constructor(t,e=null,i=[],r=[],s=null,l="F",h=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=p,this.lt=null,this.ft=null}}function Y2(n,t,e,i,r,s,l,h){return new Cc(n,t,e,i,r,s,l,h)}function Ng(n){return new Cc(n)}function Z2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function CO(n){for(const t of n.filters)if(t.ht())return t.field;return null}function EO(n){return null!==n.collectionGroup}function Fg(n){const t=Ze(n);if(null===t.lt){t.lt=[];const e=CO(t),i=wO(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new Pg(e)),t.lt.push(new Pg(ai.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Pg(ai.keyField(),s))}}}return t.lt}function ys(n){const t=Ze(n);if(!t.ft)if("F"===t.limitType)t.ft=j2(t.path,t.collectionGroup,Fg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Fg(t))e.push(new Pg(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qu(t.startAt.position,t.startAt.inclusive):null;t.ft=j2(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function lT(n,t,e){return new Cc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ww(n,t){return bw(ys(n),ys(t))&&n.limitType===t.limitType}function K2(n){return`${Sf(ys(n))}|lt:${n.limitType}`}function DO(n){return`Query(target=${function uY(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Og(i.value)}`;var i}).join(", ")}]`),mw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Og(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Og(e)).join(",")),`Target(${t})`}(ys(n))}; limitType=${n.limitType})`}function IO(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ge.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,l){const h=W2(r,s,l);return r.inclusive?h<=0:h<0}(e.startAt,Fg(e),i)||e.endAt&&!function(r,s,l){const h=W2(r,s,l);return r.inclusive?h>=0:h>0}(e.endAt,Fg(e),i)));var e,i}function Q2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X2(n){return(t,e)=>{let i=!1;for(const r of Fg(n)){const s=vY(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function vY(n,t,e){const i=n.field.isKeyField()?Ge.comparator(t.key,e.key):function(r,s,l){const h=s.data.field(r),p=l.data.field(r);return null!==h&&null!==p?Ku(h,p):at()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}function J2(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gw(t)?"-0":t}}function eU(n){return{integerValue:""+n}}function tU(n,t){return P2(t)?eU(t):J2(n,t)}class cT{constructor(){this._=void 0}}function bY(n,t,e){return n instanceof Lg?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Mf?iU(n,t):n instanceof xf?rU(n,t):function(i,r){const s=nU(i,r),l=sU(s)+sU(i._t);return bO(s)&&bO(i._t)?eU(l):J2(i.wt,l)}(n,t)}function wY(n,t,e){return n instanceof Mf?iU(n,t):n instanceof xf?rU(n,t):e}function nU(n,t){return n instanceof Vg?bO(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Lg extends cT{}class Mf extends cT{constructor(t){super(),this.elements=t}}function iU(n,t){const e=oU(t);for(const i of n.elements)e.some(r=>pl(r,i))||e.push(i);return{arrayValue:{values:e}}}class xf extends cT{constructor(t){super(),this.elements=t}}function rU(n,t){let e=oU(t);for(const i of n.elements)e=e.filter(r=>!pl(r,i));return{arrayValue:{values:e}}}class Vg extends cT{constructor(t,e){super(),this.wt=t,this._t=e}}function sU(n){return ci(n.integerValue||n.doubleValue)}function oU(n){return yw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cw{constructor(t,e){this.field=t,this.transform=e}}class EY{constructor(t,e){this.version=t,this.transformResults=e}}class ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class dT{}function aU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ug(n.key,ei.none()):new Bg(n.key,n.data,ei.none());{const e=n.data,i=_r.empty();let r=new wn(ai.comparator);for(let s of t.fields)if(!r.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Ec(n.key,i,new Ys(r.toArray()),ei.none())}}function DY(n,t,e){n instanceof Bg?function(i,r,s){const l=i.value.clone(),h=uU(i.fieldTransforms,r,s.transformResults);l.setAll(h),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):n instanceof Ec?function(i,r,s){if(!uT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=uU(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(cU(i)),h.setAll(l),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ew(n,t,e,i){return n instanceof Bg?function(r,s,l,h){if(!uT(r.precondition,s))return l;const p=r.value.clone(),_=dU(r.fieldTransforms,h,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ec?function(r,s,l,h){if(!uT(r.precondition,s))return l;const p=dU(r.fieldTransforms,h,s),_=s.data;return _.setAll(cU(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(l=e,uT(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function IY(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=nU(i.transform,r||null);null!=s&&(null===e&&(e=_r.empty()),e.set(i.field,s))}return e||null}function lU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&kg(e,i,(r,s)=>function CY(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Mf&&i instanceof Mf||e instanceof xf&&i instanceof xf?kg(e.elements,i.elements,pl):e instanceof Vg&&i instanceof Vg?pl(e._t,i._t):e instanceof Lg&&i instanceof Lg);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Bg extends dT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ec extends dT{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function uU(n,t,e){const i=new Map;Tt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],l=s.transform,h=t.data.field(s.field);i.set(s.field,wY(l,h,e[r]))}return i}function dU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,l=e.data.field(r.field);i.set(r.field,bY(s,l,t))}return i}class Ug extends dT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TO extends dT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TY{constructor(t){this.count=t}}var Ti,tn;function hU(n){switch(n){default:return at();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function fU(n){if(void 0===n)return gi("GRPC error has no .code"),de.UNKNOWN;switch(n){case Ti.OK:return de.OK;case Ti.CANCELLED:return de.CANCELLED;case Ti.UNKNOWN:return de.UNKNOWN;case Ti.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Ti.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Ti.INTERNAL:return de.INTERNAL;case Ti.UNAVAILABLE:return de.UNAVAILABLE;case Ti.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Ti.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Ti.NOT_FOUND:return de.NOT_FOUND;case Ti.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Ti.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Ti.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Ti.ABORTED:return de.ABORTED;case Ti.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Ti.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Ti.DATA_LOSS:return de.DATA_LOSS;default:return at()}}(tn=Ti||(Ti={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Xu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Df(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return k2(this.inner)}size(){return this.innerSize}}const AY=new li(Ge.comparator);function vs(){return AY}const pU=new li(Ge.comparator);function Dw(...n){let t=pU;for(const e of n)t=t.insert(e.key,e);return t}function mU(n){let t=pU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ml(){return Iw()}function gU(){return Iw()}function Iw(){return new Xu(n=>n.toString(),(n,t)=>n.isEqual(t))}const SY=new li(Ge.comparator),MY=new wn(Ge.comparator);function Ut(...n){let t=MY;for(const e of n)t=t.add(e);return t}const xY=new wn(Rt);function hT(){return xY}class Tw{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Aw.createSynthesizedTargetChangeForCurrentChange(t,e)),new Tw(Et.min(),i,hT(),vs(),Ut())}}class Aw{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Aw(Pi.EMPTY_BYTE_STRING,e,Ut(),Ut(),Ut())}}class fT{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class _U{constructor(t,e){this.targetId=t,this.It=e}}class yU{constructor(t,e,i=Pi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class vU{constructor(){this.Tt=0,this.Et=wU(),this.At=Pi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Ut(),e=Ut(),i=Ut();return this.Et.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:at()}}),new Aw(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=wU()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class kY{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=vs(),this.Bt=bU(),this.Lt=new wn(Rt)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Mt(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:at()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const s=r.target;if(oT(s))if(0===i){const l=new Ge(s.path);this.Kt(e,l,Rn.newNoDocument(l,Et.min()))}else Tt(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((s,l)=>{const h=this.Ht(l);if(h){if(s.current&&oT(h.target)){const p=new Ge(h.target.path);null!==this.$t.get(p)||this.Xt(l,p)||this.Kt(l,p,Rn.newNoDocument(p,t))}s.vt&&(e.set(l,s.St()),s.Dt())}});let i=Ut();this.Bt.forEach((s,l)=>{let h=!0;l.forEachWhile(p=>{const _=this.Ht(p);return!_||2===_.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.$t.forEach((s,l)=>l.setReadTime(t));const r=new Tw(t,e,this.Lt,this.$t,i);return this.$t=vs(),this.Bt=bU(),this.Lt=new wn(Rt),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new vU,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new wn(Rt),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||Ne("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new vU),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function bU(){return new li(Ge.comparator)}function wU(){return new li(Ge.comparator)}const RY={asc:"ASCENDING",desc:"DESCENDING"},OY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class PY{constructor(t,e){this.databaseId=t,this.dt=e}}function Sw(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CU(n,t){return n.dt?t.toBase64():t.toUint8Array()}function NY(n,t){return Sw(n,t.toTimestamp())}function Ji(n){return Tt(!!n),Et.fromTimestamp(function(t){const e=Yu(t);return new Gn(e.seconds,e.nanos)}(n))}function AO(n,t){return(e=n,new en(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function EU(n){const t=en.fromString(n);return Tt(RU(t)),t}function Mw(n,t){return AO(n.databaseId,t.path)}function gl(n,t){const e=EU(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ge(IU(e))}function SO(n,t){return AO(n.databaseId,t)}function DU(n){const t=EU(n);return 4===t.length?en.emptyPath():IU(t)}function xw(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IU(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function TU(n,t,e){return{name:Mw(n,t),fields:e.value.mapValue.fields}}function AU(n,t,e){const i=gl(n,t.name),r=Ji(t.updateTime),s=new _r({mapValue:{fields:t.fields}}),l=Rn.newFoundDocument(i,r,s);return e&&l.setHasCommittedMutations(),e?l.setHasCommittedMutations():l}function kw(n,t){let e;if(t instanceof Bg)e={update:TU(n,t.key,t.value)};else if(t instanceof Ug)e={delete:Mw(n,t.key)};else if(t instanceof Ec)e={update:TU(n,t.key,t.data),updateMask:zY(t.fieldMask)};else{if(!(t instanceof TO))return at();e={verify:Mw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Lg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vg)return{fieldPath:s.field.canonicalString(),increment:l._t};throw at()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:NY(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),e;var r}function MO(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?ei.updateTime(Ji(r.updateTime)):void 0!==r.exists?ei.exists(r.exists):ei.none():ei.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,l){let h=null;"setToServerValue"in l?(Tt("REQUEST_TIME"===l.setToServerValue),h=new Lg):"appendMissingElements"in l?h=new Mf(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new xf(l.removeAllFromArray.values||[]):"increment"in l?h=new Vg(s,l.increment):at();const p=ai.fromServerFormat(l.fieldPath);return new Cw(p,h)}(n,r)):[];var r;if(t.update){const r=gl(n,t.update.name),s=new _r({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new Ys((t.updateMask.fieldPaths||[]).map(_=>ai.fromServerFormat(_)));return new Ec(r,s,l,e,i)}return new Bg(r,s,e,i)}if(t.delete){const r=gl(n,t.delete);return new Ug(r,e)}if(t.verify){const r=gl(n,t.verify);return new TO(r,e)}return at()}function SU(n,t){return{documents:[SO(n,t.path)]}}function MU(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=SO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=SO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(D){if("=="===D.op){if(L2(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NAN"}};if(F2(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(L2(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NOT_NAN"}};if(F2(D.value))return{unaryFilter:{field:Hg(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hg(D.field),op:HY(D.op),value:D.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:Hg((b=_).field),direction:UY(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const l=(_=t.limit,n.dt||mw(_)?_:{value:_});var _,h,p;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function xU(n){let t=DU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Tt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=kU(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(b=>{return new Pg(jg((D=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;e.limit&&(h=function(b){let D;return D="object"==typeof b?b.value:b,mw(D)?null:D}(e.limit));let p=null;var b;e.startAt&&(p=new Qu((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Qu(b.values||[],!b.before)}(e.endAt)),Y2(t,r,l,s,h,"F",p,_)}function kU(n){return n?void 0!==n.unaryFilter?[$Y(n)]:void 0!==n.fieldFilter?[jY(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>kU(t)).reduce((t,e)=>t.concat(e)):at():[]}function UY(n){return RY[n]}function HY(n){return OY[n]}function Hg(n){return{fieldPath:n.canonicalString()}}function jg(n){return ai.fromServerFormat(n.fieldPath)}function jY(n){return yr.create(jg(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function $Y(n){switch(n.unaryFilter.op){case"IS_NAN":const t=jg(n.unaryFilter.field);return yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=jg(n.unaryFilter.field);return yr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jg(n.unaryFilter.field);return yr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=jg(n.unaryFilter.field);return yr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function zY(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function RU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Gr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OU(t)),t=GY(n.get(e),t);return OU(t)}function GY(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function OU(n){return n+"\x01\x01"}function _l(n){const t=n.length;if(Tt(t>=2),2===t)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const l=n.indexOf("\x01",s);switch((l<0||l>e)&&at(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:at()}s=l+2}return new en(i)}const PU=["userId","batchId"];function pT(n,t){return[n,Gr(t)]}function NU(n,t,e){return[n,Gr(t),e]}const WY={},qY=["prefixPath","collectionGroup","readTime","documentId"],YY=["prefixPath","collectionGroup","documentId"],ZY=["collectionGroup","readTime","prefixPath","documentId"],KY=["canonicalId","targetId"],QY=["targetId","path"],XY=["path","targetId"],JY=["collectionId","parent"],e4=["indexId","uid"],t4=["uid","sequenceNumber"],n4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],i4=["indexId","uid","orderedDocumentKey"],r4=["userId","collectionPath","documentId"],s4=["userId","collectionPath","largestBatchId"],o4=["userId","collectionGroup","largestBatchId"],FU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],a4=[...FU,"documentOverlays"],LU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VU=LU,l4=[...VU,"indexConfiguration","indexState","indexEntries"];class xO extends S2{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function er(n,t){const e=Ze(n);return ya.N(e.ee,t)}class kO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&DY(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ew(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ew(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=gU();return this.mutations.forEach(r=>{const s=t.get(r.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=e.has(r.key)?null:h;const p=aU(l,h);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(Et.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ut())}isEqual(t){return this.batchId===t.batchId&&kg(this.mutations,t.mutations,(e,i)=>lU(e,i))&&kg(this.baseMutations,t.baseMutations,(e,i)=>lU(e,i))}}class RO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Tt(t.mutations.length===i.length);let r=SY;const s=t.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new RO(t,e,i,r)}}class OO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ju{constructor(t,e,i,r,s=Et.min(),l=Et.min(),h=Pi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(t){return new Ju(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class BU{constructor(t){this.ne=t}}function UU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:mT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Mw(r=n.ne,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Sw(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:kf(t.version)};else{if(!t.isUnknownDocument())return at();i.unknownDocument={path:e.path.toArray(),version:kf(t.version)}}var r,s;return i}function mT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function kf(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Rf(n){const t=new Gn(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function Of(n,t){const e=(t.baseMutations||[]).map(s=>MO(n.ne,s));for(let s=0;s<t.mutations.length-1;++s){const l=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(l.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>MO(n.ne,s)),r=Gn.fromMillis(t.localWriteTimeMs);return new kO(t.batchId,r,e,i)}function Rw(n){const t=Rf(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Rf(n.lastLimboFreeSnapshotVersion):Et.min();let i;var r;return void 0!==n.query.documents?(Tt(1===(r=n.query).documents.length),i=ys(Ng(DU(r.documents[0])))):i=ys(xU(n.query)),new Ju(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Pi.fromBase64String(n.resumeToken))}function HU(n,t){const e=kf(t.snapshotVersion),i=kf(t.lastLimboFreeSnapshotVersion);let r;r=oT(t.target)?SU(n.ne,t.target):MU(n.ne,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Sf(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function PO(n){const t=xU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?lT(t,t.limit,"L"):t}function NO(n,t){return new OO(t.largestBatchId,MO(n.ne,t.overlayMutation))}function jU(n,t){const e=t.path.lastSegment();return[n,Gr(t.path.popLast()),e]}function $U(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:kf(i.readTime),documentKey:Gr(i.documentKey.path),largestBatchId:i.largestBatchId}}class u4{getBundleMetadata(t,e){return zU(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Rf(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return zU(t).put({bundleId:(i=e).id,createTime:kf(Ji(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return GU(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:PO(r.bundledQuery),readTime:Rf(r.readTime)};var r})}saveNamedQuery(t,e){return GU(t).put({name:(i=e).name,readTime:kf(Ji(i.readTime)),bundledQuery:i.bundledQuery});var i}}function zU(n){return er(n,"bundles")}function GU(n){return er(n,"namedQueries")}class gT{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new gT(t,e.uid||"")}getOverlay(t,e){return Ow(t).get(jU(this.userId,e)).next(i=>i?NO(this.wt,i):null)}getOverlays(t,e){const i=ml();return se.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,l)=>{const h=new OO(e,l);r.push(this.ie(t,h))}),se.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(Gr(l.getCollectionPath())));const s=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(Ow(t).W("collectionPathOverlayIndex",h))}),se.waitFor(s)}getOverlaysForCollection(t,e,i){const r=ml(),s=Gr(e),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ow(t).K("collectionPathOverlayIndex",l).next(h=>{for(const p of h){const _=NO(this.wt,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=ml();let l;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Ow(t).J({index:"collectionGroupOverlayIndex",range:h},(p,_,b)=>{const D=NO(this.wt,_);s.size()<r||D.largestBatchId===l?(s.set(D.getKey(),D),l=D.largestBatchId):b.done()}).next(()=>s)}ie(t,e){return Ow(t).put(function(i,r,s){const[l,h,p]=jU(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:kw(i.ne,s.mutation)}}(this.wt,this.userId,e))}}function Ow(n){return er(n,"documentOverlays")}class Pf{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(ci(t.integerValue));else if("doubleValue"in t){const i=ci(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),gw(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(If(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?V2(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):at()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Ge.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function d4(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function WU(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=d4(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Pf.ye=new Pf;class h4{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=WU(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=WU(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class f4{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class p4{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class Pw{constructor(){this.Oe=new h4,this.Fe=new f4(this.Oe),this.$e=new p4(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Nf{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Nf(this.indexId,this.documentKey,this.arrayValue,i)}}function Ff(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=qU(n.arrayValue,t.arrayValue),0!==e?e:(e=qU(n.directionalValue,t.directionalValue),0!==e?e:Ge.comparator(n.documentKey,t.documentKey)))}function qU(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class m4{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=pO(t);if(void 0!==e&&!this.Qe(e))return!1;const i=Cf(t);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const l=i[r];if(!this.je(this.Ke,l)||!this.We(this.Ue[s++],l))return!1;++r}for(;r<i.length;++r){const l=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],l))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class g4{constructor(){this.ze=new FO}addToCollectionParentIndex(t,e){return this.ze.add(e),se.resolve()}getCollectionParents(t,e){return se.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return se.resolve()}deleteFieldIndex(t,e){return se.resolve()}getDocumentsMatchingTarget(t,e){return se.resolve(null)}getIndexType(t,e){return se.resolve(0)}getFieldIndexes(t,e){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,e){return se.resolve(qs.min())}getMinOffsetFromCollectionGroup(t,e){return se.resolve(qs.min())}updateCollectionGroup(t,e,i){return se.resolve()}updateIndexEntries(t,e){return se.resolve()}}class FO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new wn(en.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new wn(en.comparator)).toArray()}}const _T=new Uint8Array(0);class _4{constructor(t,e){this.user=t,this.databaseId=e,this.He=new FO,this.Je=new Xu(i=>Sf(i),(i,r)=>bw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const s={collectionId:i,parent:Gr(r)};return YU(t).put(s)}return se.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[D2(e),""],!1,!0);return YU(t).K(r).next(s=>{for(const l of s){if(l.collectionId!==e)break;i.push(_l(l.parent))}return i})}addFieldIndex(t,e){const i=yT(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete r.indexId;const s=i.add(r);if(e.indexState){const l=Fw(t);return s.next(h=>{l.put($U(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=yT(t),r=Fw(t),s=Nw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Nw(t);let r=!0;const s=new Map;return se.forEach(this.Ye(e),l=>this.Xe(t,l).next(h=>{r&&(r=!!h),s.set(l,h)})).next(()=>{if(r){let l=Ut();const h=[];return se.forEach(s,(p,_)=>{var b;Ne("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${Sf(e)}`);const D=function(ot,Qe){const dt=pO(Qe);if(void 0===dt)return null;for(const bt of aT(ot,dt.fieldPath))switch(bt.op){case"array-contains-any":return bt.value.arrayValue.values||[];case"array-contains":return[bt.value]}return null}(_,p),A=function(ot,Qe){const dt=new Map;for(const bt of Cf(Qe))for(const Zt of aT(ot,bt.fieldPath))switch(Zt.op){case"==":case"in":dt.set(bt.fieldPath.canonicalString(),Zt.value);break;case"not-in":case"!=":return dt.set(bt.fieldPath.canonicalString(),Zt.value),Array.from(dt.values())}return null}(_,p),x=function(ot,Qe){const dt=[];let bt=!0;for(const Zt of Cf(Qe)){const Qr=0===Zt.kind?$2(ot,Zt.fieldPath,ot.startAt):z2(ot,Zt.fieldPath,ot.startAt);dt.push(Qr.value),bt&&(bt=Qr.inclusive)}return new Qu(dt,bt)}(_,p),O=function(ot,Qe){const dt=[];let bt=!0;for(const Zt of Cf(Qe)){const Qr=0===Zt.kind?z2(ot,Zt.fieldPath,ot.endAt):$2(ot,Zt.fieldPath,ot.endAt);dt.push(Qr.value),bt&&(bt=Qr.inclusive)}return new Qu(dt,bt)}(_,p),q=this.Ze(p,_,x),oe=this.Ze(p,_,O),ze=this.tn(p,_,A),qe=this.en(p.indexId,D,q,x.inclusive,oe,O.inclusive,ze);return se.forEach(qe,ot=>i.j(ot,e.limit).next(Qe=>{Qe.forEach(dt=>{const bt=Ge.fromSegments(dt.documentKey);l.has(bt)||(l=l.add(bt),h.push(bt))})}))}).next(()=>h)}return se.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,s,l,h){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),b=[];for(let D=0;D<p;++D){const A=e?this.nn(e[D/_]):_T,x=this.sn(t,A,i[D%_],r),O=this.rn(t,A,s[D%_],l),q=h.map(oe=>this.sn(t,A,oe,!0));b.push(...this.createRange(x,O,q))}return b}sn(t,e,i,r){const s=new Nf(t,Ge.empty(),e,i);return r?s:s.Le()}rn(t,e,i,r){const s=new Nf(t,Ge.empty(),e,i);return r?s.Le():s}Xe(t,e){const i=new m4(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let l=null;for(const h of s)i.Ge(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(t,e){let i=2;return se.forEach(this.Ye(e),r=>this.Xe(t,r).next(s=>{s?0!==i&&s.fields.length<function(l){let h=new wn(ai.comparator),p=!1;for(const _ of l.filters){const b=_;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:h=h.add(b.field))}for(const _ of l.orderBy)_.field.isKeyField()||(h=h.add(_.field));return h.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new Pw;for(const r of Cf(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const l=i.Be(r.kind);Pf.ye.re(s,l)}return i.Me()}nn(t){const e=new Pw;return Pf.ye.re(t,e.Be(0)),e.Me()}un(t,e){const i=new Pw;return Pf.ye.re(Af(this.databaseId,e),i.Be(function(r){const s=Cf(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Me()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new Pw);let s=0;for(const l of Cf(t)){const h=i[s++];for(const p of r)if(this.cn(e,l.fieldPath)&&yw(h))r=this.an(r,l,h);else{const _=p.Be(l.kind);Pf.ye.re(h,_)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Me();return e}an(t,e,i){const r=[...t],s=[];for(const l of i.arrayValue.values||[])for(const h of r){const p=new Pw;p.seed(h.Me()),Pf.ye.re(l,p.Be(e.kind)),s.push(p)}return s}cn(t,e){return!!t.filters.find(i=>i instanceof yr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=yT(t),r=Fw(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(s=>{const l=[];return se.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{l.push(function(_,b){const D=b?new hw(b.sequenceNumber,new qs(Rf(b.readTime),new Ge(_l(b.documentKey)),b.largestBatchId)):hw.empty(),A=_.fields.map(([x,O])=>new tT(ai.fromServerFormat(x),O));return new eT(_.indexId,_.collectionGroup,A,D)}(h,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Rt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=yT(t),s=Fw(t);return this.ln(t).next(l=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>se.forEach(h,p=>s.put($U(p.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return se.forEach(e,(r,s)=>{const l=i.get(r.collectionGroup);return(l?se.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),se.forEach(h,p=>this.fn(t,r,p).next(_=>{const b=this.dn(s,p);return _.isEqual(b)?se.resolve():this._n(t,s,p,_,b)}))))})}wn(t,e,i,r){return Nw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return Nw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=Nw(t);let s=new wn(Ff);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(l,h)=>{s=s.add(new Nf(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}dn(t,e){let i=new wn(Ff);const r=this.on(e,t);if(null==r)return i;const s=pO(e);if(null!=s){const l=t.data.field(s.fieldPath);if(yw(l))for(const h of l.arrayValue.values||[])i=i.add(new Nf(e.indexId,t.key,this.nn(h),r))}else i=i.add(new Nf(e.indexId,t.key,_T,r));return i}_n(t,e,i,r,s){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(h,p,_,b,D){const A=h.getIterator(),x=p.getIterator();let O=Rg(A),q=Rg(x);for(;O||q;){let oe=!1,ze=!1;if(O&&q){const qe=_(O,q);qe<0?ze=!0:qe>0&&(oe=!0)}else null!=O?ze=!0:oe=!0;oe?(b(q),q=Rg(x)):ze?(D(O),O=Rg(A)):(O=Rg(A),q=Rg(x))}}(r,s,Ff,h=>{l.push(this.wn(t,e,i,h))},h=>{l.push(this.mn(t,e,i,h))}),se.waitFor(l)}ln(t){let e=1;return Fw(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,h)=>Ff(l,h)).filter((l,h,p)=>!h||0!==Ff(l,p[h-1]));const r=[];r.push(t);for(const l of i){const h=Ff(l,t),p=Ff(l,e);if(0===h)r[0]=t.Le();else if(h>0&&p<0)r.push(l),r.push(l.Le());else if(p>0)break}r.push(e);const s=[];for(let l=0;l<r.length;l+=2)s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,_T,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,_T,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(ZU)}getMinOffset(t,e){return se.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||at())).next(ZU)}}function YU(n){return er(n,"collectionParents")}function Nw(n){return er(n,"indexEntries")}function yT(n){return er(n,"indexConfiguration")}function Fw(n){return er(n,"indexState")}function ZU(n){Tt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;mO(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new qs(t.readTime,t.documentKey,e)}const KU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new bs(t,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QU(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(e.batchId);let h=0;const p=i.J({range:l},(b,D,A)=>(h++,A.delete()));s.push(p.next(()=>{Tt(1===h)}));const _=[];for(const b of e.mutations){const D=NU(t,b.key.path,e.batchId);s.push(r.delete(D)),_.push(b.key)}return se.waitFor(s).next(()=>_)}function vT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw at();t=n.noDocument}return JSON.stringify(t).length}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class bT{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){Tt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new bT(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ed(t).J({index:"userMutationsIndex",range:i},(r,s,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=$g(t),l=ed(t);return l.add({}).next(h=>{Tt("number"==typeof h);const p=new kO(h,e,i,r),_=function(A,x,O){const q=O.baseMutations.map(ze=>kw(A.ne,ze)),oe=O.mutations.map(ze=>kw(A.ne,ze));return{userId:x,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:q,mutations:oe}}(this.wt,this.userId,p),b=[];let D=new wn((A,x)=>Rt(A.canonicalString(),x.canonicalString()));for(const A of r){const x=NU(this.userId,A.key.path,h);D=D.add(A.key.path.popLast()),b.push(l.put(_)),b.push(s.put(x,WY))}return D.forEach(A=>{b.push(this.indexManager.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.gn[h]=p.keys()}),se.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return ed(t).get(e).next(i=>i?(Tt(i.userId===this.userId),Of(this.wt,i)):null)}yn(t,e){return this.gn[e]?se.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ed(t).J({index:"userMutationsIndex",range:r},(l,h,p)=>{h.userId===this.userId&&(Tt(h.batchId>=i),s=Of(this.wt,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ed(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ed(t).K("userMutationsIndex",e).next(i=>i.map(r=>Of(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=pT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return $g(t).J({range:r},(l,h,p)=>{const[_,b,D]=l,A=_l(b);if(_===this.userId&&e.path.isEqual(A))return ed(t).get(D).next(x=>{if(!x)throw at();Tt(x.userId===this.userId),s.push(Of(this.wt,x))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wn(Rt);const r=[];return e.forEach(s=>{const l=pT(this.userId,s.path),h=IDBKeyRange.lowerBound(l),p=$g(t).J({range:h},(_,b,D)=>{const[A,x,O]=_,q=_l(x);A===this.userId&&s.path.isEqual(q)?i=i.add(O):D.done()});r.push(p)}),se.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=pT(this.userId,i),l=IDBKeyRange.lowerBound(s);let h=new wn(Rt);return $g(t).J({range:l},(p,_,b)=>{const[D,A,x]=p,O=_l(A);D===this.userId&&i.isPrefixOf(O)?O.length===r&&(h=h.add(x)):b.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(ed(t).get(s).next(l=>{if(null===l)throw at();Tt(l.userId===this.userId),i.push(Of(this.wt,l))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return QU(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $g(t).J({range:i},(s,l,h)=>{if(s[0]===this.userId){const p=_l(s[1]);r.push(p)}else h.done()}).next(()=>{Tt(0===r.length)})})}containsKey(t,e){return XU(t,this.userId,e)}Tn(t){return JU(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function XU(n,t,e){const i=pT(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return $g(n).J({range:s,H:!0},(h,p,_)=>{const[b,D,A]=h;b===t&&D===r&&(l=!0),_.done()}).next(()=>l)}function ed(n){return er(n,"mutations")}function $g(n){return er(n,"documentMutations")}function JU(n){return er(n,"mutationQueues")}class Lf{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Lf(0)}static Rn(){return new Lf(-1)}}class y4{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new Lf(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>Et.fromTimestamp(new Gn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>zg(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return zg(t).J((l,h)=>{const p=Rw(h);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>se.waitFor(s)).next(()=>r)}forEachTarget(t,e){return zg(t).J((i,r)=>{const s=Rw(r);e(s)})}bn(t){return eH(t).get("targetGlobalKey").next(e=>(Tt(null!==e),e))}Pn(t,e){return eH(t).put("targetGlobalKey",e)}vn(t,e){return zg(t).put(HU(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Sf(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return zg(t).J({range:r,index:"queryTargetsIndex"},(l,h,p)=>{const _=Rw(h);bw(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=td(t);return e.forEach(l=>{const h=Gr(l.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,l))}),se.waitFor(r)}removeMatchingKeys(t,e,i){const r=td(t);return se.forEach(e,s=>{const l=Gr(s.path);return se.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=td(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=td(t);let s=Ut();return r.J({range:i,H:!0},(l,h,p)=>{const _=_l(l[1]),b=new Ge(_);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=Gr(e.path),r=IDBKeyRange.bound([i],[D2(i)],!1,!0);let s=0;return td(t).J({index:"documentTargetsIndex",H:!0,range:r},([l,h],p,_)=>{0!==l&&(s++,_.done())}).next(()=>s>0)}te(t,e){return zg(t).get(e).next(i=>i?Rw(i):null)}}function zg(n){return er(n,"targets")}function eH(n){return er(n,"targetGlobal")}function td(n){return er(n,"targetDocuments")}function tH([n,t],[e,i]){const r=Rt(n,e);return 0===r?Rt(t,i):r}class v4{constructor(t){this.Sn=t,this.buffer=new wn(tH),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();tH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class b4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,K.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){qu(i)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Wu(i)}yield e.kn(3e5)}))}}class w4{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return se.resolve(_s.ot);const i=new v4(e);return this.Mn.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Mn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(KU)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KU):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let i,r,s,l,h,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(t,i,e))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(_=Date.now(),hO()<=kr.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class C4{constructor(t,e){this.db=t,this.garbageCollector=new w4(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return wT(t,i)}removeReference(t,e,i){return wT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return wT(t,e)}Un(t,e){return function(i,r){let s=!1;return JU(i).Y(l=>XU(i,l,r).next(h=>(h&&(s=!0),se.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(t,(l,h)=>{if(h<=e){const p=this.Un(t,l).next(_=>{if(!_)return s++,i.getEntry(t,l).next(()=>(i.removeEntry(l,Et.min()),td(t).delete([0,Gr(l.path)])))});r.push(p)}}).next(()=>se.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return wT(t,e)}Ln(t,e){const i=td(t);let r,s=_s.ot;return i.J({index:"documentTargetsIndex"},([l,h],{path:p,sequenceNumber:_})=>{0===l?(s!==_s.ot&&e(new Ge(_l(r)),s),s=_,r=p):s=_s.ot}).next(()=>{s!==_s.ot&&e(new Ge(_l(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function wT(n,t){return td(n).put((i=n.currentSequenceNumber,{targetId:0,path:Gr(t.path),sequenceNumber:i}));var i}class nH{constructor(){this.changes=new Xu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?se.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class E4{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Vf(t).put(i)}removeEntry(t,e,i){return Vf(t).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],mT(s),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=Rn.newInvalidDocument(e);return Vf(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lw(e))},(r,s)=>{i=this.Kn(e,s)}).next(()=>i)}Gn(t,e){let i={size:0,document:Rn.newInvalidDocument(e)};return Vf(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lw(e))},(r,s)=>{i={document:this.Kn(e,s),size:vT(s)}}).next(()=>i)}getEntries(t,e){let i=vs();return this.Qn(t,e,(r,s)=>{const l=this.Kn(r,s);i=i.insert(r,l)}).next(()=>i)}jn(t,e){let i=vs(),r=new li(Ge.comparator);return this.Qn(t,e,(s,l)=>{const h=this.Kn(s,l);i=i.insert(s,h),r=r.insert(s,vT(l))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return se.resolve();let r=new wn(oH);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Lw(r.first()),Lw(r.last())),l=r.getIterator();let h=l.getNext();return Vf(t).J({index:"documentKeyIndex",range:s},(p,_,b)=>{const D=Ge.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&oH(h,D)<0;)i(h,null),h=l.getNext();h&&h.isEqual(D)&&(i(h,_),h=l.hasNext()?l.getNext():null),h?b.q(Lw(h)):b.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),mT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vf(t).K(IDBKeyRange.bound(r,s,!0)).next(l=>{let h=vs();for(const p of l){const _=this.Kn(Ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(_.key,_)}return h})}getAllFromCollectionGroup(t,e,i,r){let s=vs();const l=sH(e,i),h=sH(e,qs.max());return Vf(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(p,_,b)=>{const D=this.Kn(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(D.key,D),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new D4(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return rH(t).get("remoteDocumentGlobalKey").next(e=>(Tt(!!e),e))}qn(t,e){return rH(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function c4(n,t){let e;if(t.document)e=AU(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ge.fromSegments(t.noDocument.path),r=Rf(t.noDocument.readTime);e=Rn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return at();{const i=Ge.fromSegments(t.unknownDocument.path),r=Rf(t.unknownDocument.version);e=Rn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Gn(i[0],i[1]);return Et.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(Et.min()))return i}return Rn.newInvalidDocument(t)}}function iH(n){return new E4(n)}class D4 extends nH{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new Xu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new wn((s,l)=>Rt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.Hn.get(s);if(e.push(this.zn.removeEntry(t,s,h.readTime)),l.isValidDocument()){const p=UU(this.zn.wt,l);r=r.add(s.path.popLast()),i+=vT(p)-h.size,e.push(this.zn.addEntry(t,s,p))}else if(i-=h.size,this.trackRemovals){const p=UU(this.zn.wt,l.convertToNoDocument(Et.min()));e.push(this.zn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.zn.updateMetadata(t,i)),se.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((s,l)=>{this.Hn.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function rH(n){return er(n,"remoteDocumentGlobal")}function Vf(n){return er(n,"remoteDocumentsV14")}function Lw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sH(n,t){const e=t.documentKey.path.toArray();return[n,mT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function oH(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Rt(e[s],i[s]),r)return r;return r=Rt(e.length,i.length),r||(r=Rt(e[e.length-2],i[i.length-2]),r||Rt(e[e.length-1],i[i.length-1]))}class I4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class aH{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Ew(i.mutation,r,Ys.empty(),Gn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ut()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ut()){const r=ml();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let l=Dw();return s.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=ml();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ut()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((l,h)=>{e.set(l,h)})})}computeViews(t,e,i,r){let s=vs();const l=Iw(),h=Iw();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Ec)?s=s.insert(_.key,_):void 0!==b&&(l.set(_.key,b.mutation.getFieldMask()),Ew(b.mutation,_,b.mutation.getFieldMask(),Gn.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>l.set(_,b)),e.forEach((_,b)=>{var D;return h.set(_,new I4(b,null!==(D=l.get(_))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Iw();let r=new li((l,h)=>l-h),s=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const h of l)h.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||Ys.empty();b=h.applyToLocalView(_,b),i.set(p,b);const D=(r.get(h.batchId)||Ut()).add(p);r=r.insert(h.batchId,D)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,b=p.value,D=gU();b.forEach(A=>{if(!s.has(A)){const x=aU(e.get(A),i.get(A));null!==x&&D.set(A,x),s=s.add(A)}}),l.push(this.documentOverlayCache.saveOverlays(t,_,D))}return se.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ge.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):EO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):se.resolve(ml());let h=-1,p=s;return l.next(_=>se.forEach(_,(b,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(b)?se.resolve():this.getBaseDocument(t,b,D).next(A=>{p=p.insert(b,A)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,Ut())).next(b=>({batchId:h,changes:mU(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ge(e)).next(i=>{let r=Dw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=Dw();return this.indexManager.getCollectionParents(t,r).next(l=>se.forEach(l,h=>{const p=(_=e,b=h.child(r),new Cc(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,D)=>{s=s.insert(b,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((h,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,Rn.newInvalidDocument(_)))});let l=Dw();return r.forEach((h,p)=>{const _=s.get(h);void 0!==_&&Ew(_.mutation,p,Ys.empty(),Gn.now()),IO(e,p)&&(l=l.insert(h,p))}),l})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):se.resolve(Rn.newInvalidDocument(e))}}class T4{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return se.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Ji(i.createTime)}),se.resolve()}getNamedQuery(t,e){return se.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:PO(i.bundledQuery),readTime:Ji(i.readTime)}),se.resolve();var i}}class A4{constructor(){this.overlays=new li(Ge.comparator),this.Xn=new Map}getOverlay(t,e){return se.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ml();return se.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ie(t,e,s)}),se.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),se.resolve()}getOverlaysForCollection(t,e,i){const r=ml(),s=e.length+1,l=new Ge(e.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return se.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new li((_,b)=>_-b);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=ml(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const h=ml(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>h.set(_,b)),!(h.size()>=r)););return se.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new OO(e,i));let s=this.Xn.get(e);void 0===s&&(s=Ut(),this.Xn.set(e,s)),this.Xn.set(e,s.add(i.key))}}class LO{constructor(){this.Zn=new wn(tr.ts),this.es=new wn(tr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new tr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new tr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Ge(new en([])),i=new tr(e,t),r=new tr(e,t+1),s=[];return this.es.forEachInRange([i,r],l=>{this.rs(l),s.push(l.key)}),s}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Ge(new en([])),i=new tr(e,t),r=new tr(e,t+1);let s=Ut();return this.es.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(t){const e=new tr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class tr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Ge.comparator(t.key,e.key)||Rt(t.ls,e.ls)}static ns(t,e){return Rt(t.ls,e.ls)||Ge.comparator(t.key,e.key)}}class S4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new wn(tr.ts)}checkEmpty(t){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.fs;this.fs++;const l=new kO(s,e,i,r);this.mutationQueue.push(l);for(const h of r)this.ds=this.ds.add(new tr(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return se.resolve(l)}lookupMutationBatch(t,e){return se.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),s=r<0?0:r;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new tr(e,0),r=new tr(e,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],l=>{const h=this._s(l.ls);s.push(h)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new wn(Rt);return e.forEach(r=>{const s=new tr(r,0),l=new tr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,l],h=>{i=i.add(h.ls)})}),se.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ge.isDocumentKey(s)||(s=s.child(""));const l=new tr(new Ge(s),0);let h=new wn(Rt);return this.ds.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.ls)),!0)},l),se.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Tt(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return se.forEach(e.mutations,r=>{const s=new tr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new tr(e,0),r=this.ds.firstAfterOrEqual(i);return se.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return se.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class M4{constructor(t){this.ps=t,this.docs=new li(Ge.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,l=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return se.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(e))}getEntries(t,e){let i=vs();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Rn.newInvalidDocument(r))}),se.resolve(i)}getAllFromCollection(t,e,i){let r=vs();const s=new Ge(e.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:h,value:{document:p}}=l.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||mO(T2(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return se.resolve(r)}getAllFromCollectionGroup(t,e,i,r){at()}Is(t,e){return se.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new x4(this)}getSize(t){return se.resolve(this.size)}}class x4 extends nH{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),se.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class k4{constructor(t){this.persistence=t,this.Ts=new Xu(e=>Sf(e),bw),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Es=0,this.As=new LO,this.targetCount=0,this.Rs=Lf.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),se.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Lf(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,se.resolve()}updateTargetData(t,e){return this.vn(e),se.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Ts.forEach((l,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(l),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),se.waitFor(s).next(()=>r)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return se.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),se.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(l=>{s.push(r.markPotentiallyOrphaned(t,l))}),se.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),se.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return se.resolve(i)}containsKey(t,e){return se.resolve(this.As.containsKey(e))}}class lH{constructor(t,e){this.bs={},this.overlays={},this.Ps=new _s(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new k4(this),this.indexManager=new g4,this.remoteDocumentCache=new M4(i=>this.referenceDelegate.Ss(i)),this.wt=new BU(e),this.Ds=new T4(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new A4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new S4(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){Ne("MemoryPersistence","Starting transaction:",t);const r=new R4(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(t,e){return se.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class R4 extends S2{constructor(t){super(),this.currentSequenceNumber=t}}class CT{constructor(t){this.persistence=t,this.ks=new LO,this.Ms=null}static Os(t){return new CT(t)}get Fs(){if(this.Ms)return this.Ms;throw at()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),se.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),se.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Fs,i=>{const r=Ge.fromPath(i);return this.$s(t,r).next(s=>{s||e.removeEntry(r,Et.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return se.or([()=>se.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class O4{constructor(t){this.wt=t}M(t,e,i,r){const s=new nT("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PU,{unique:!0}),h.createObjectStore("documentMutations"),cH(t),function(h){h.createObjectStore("remoteDocuments")}(t));let l=se.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),cH(t)),l=l.next(()=>function(h){const p=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(h,p){return p.store("mutations").K().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PU,{unique:!0});const b=p.store("mutations"),D=_.map(A=>b.put(A));return se.waitFor(D)})}(t,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Bs(s))),i<6&&r>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(s)))),i<7&&r>=7&&(l=l.next(()=>this.Us(s))),i<8&&r>=8&&(l=l.next(()=>this.qs(t,s))),i<9&&r>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.Ks(s))),i<11&&r>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:r4});p.createIndex("collectionPathOverlayIndex",s4,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",o4,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:qY});p.createIndex("documentKeyIndex",YY),p.createIndex("collectionGroupIndex",ZY)}(t)).next(()=>this.Gs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.Qs(t,s))),i<15&&r>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:e4}).createIndex("sequenceNumberIndex",t4,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:n4}).createIndex("documentKeyIndex",i4,{unique:!1})}(t))),l}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=vT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>se.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",l).next(h=>se.forEach(h,p=>{Tt(p.userId===s.userId);const _=Of(this.wt,p);return QU(t,s.userId,_).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((l,h)=>{const p=new en(l),_=[0,Gr(p)];s.push(e.get(_).next(b=>b?se.resolve():e.put({targetId:0,path:Gr(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(s))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:JY});const i=e.store("collectionParents"),r=new FO,s=l=>{if(r.add(l)){const h=l.lastSegment(),p=l.popLast();return i.put({collectionId:h,parent:Gr(p)})}};return e.store("remoteDocuments").J({H:!0},(l,h)=>{const p=new en(l);return s(p.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([l,h,p],_)=>{const b=_l(h);return s(b.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const s=Rw(r),l=HU(this.wt,s);return e.put(l)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((s,l)=>{const h=e.store("remoteDocumentsV14"),p=(_=l,_.document?new Ge(en.fromString(_.document.name).popFirst(5)):_.noDocument?Ge.fromSegments(_.noDocument.path):_.unknownDocument?Ge.fromSegments(_.unknownDocument.path):at()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(h.put(b))}).next(()=>se.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=iH(this.wt),s=new lH(CT.Os,this.wt.ne);return i.K().next(l=>{const h=new Map;return l.forEach(p=>{var _;let b=null!==(_=h.get(p.userId))&&void 0!==_?_:Ut();Of(this.wt,p).keys().forEach(D=>b=b.add(D)),h.set(p.userId,b)}),se.forEach(h,(p,_)=>{const b=new Qi(_),D=gT.se(this.wt,b),A=s.getIndexManager(b),x=bT.se(b,this.wt,A,s.referenceDelegate);return new aH(r,x,D,A).recalculateAndSaveOverlaysForDocumentKeys(new xO(e,_s.ot),p).next()})})}}function cH(n){n.createObjectStore("targetDocuments",{keyPath:QY}).createIndex("documentTargetsIndex",XY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KY,{unique:!0}),n.createObjectStore("targetGlobal")}const VO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class BO{constructor(t,e,i,r,s,l,h,p,_,b,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=s,this.window=l,this.document=h,this.Ws=_,this.zs=b,this.Hs=D,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=A=>Promise.resolve(),!BO.V())throw new xe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C4(this,r),this.ei=e+"main",this.wt=new BU(p),this.ni=new ya(this.ei,this.Hs,new O4(this.wt)),this.Vs=new y4(this.referenceDelegate,this.wt),this.remoteDocumentCache=iH(this.wt),this.Ds=new u4,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===b&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,VO);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new _s(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,K.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,K.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,K.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ET(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(qu(t))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Vw(t).get("owner").next(e=>se.resolve(this.di(e)))}_i(t){return ET(t).delete(this.clientId)}wi(){var t=this;return(0,K.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=er(i,"clientMetadata");return r.K().next(s=>{const l=t.gi(s,18e5),h=s.filter(p=>-1===l.indexOf(p));return se.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?se.resolve(!0):Vw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new xe(de.FAILED_PRECONDITION,VO);return!1}}return!(!this.networkEnabled||!this.inForeground)||ET(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const l=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||l&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ne("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,K.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new xO(e,_s.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>ET(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return bT.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new _4(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return gT.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){Ne("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(l=this.Hs)?l4:14===l?VU:13===l?LU:12===l?a4:11===l?FU:void at();var l;let h;return this.ni.runTransaction(t,r,s,p=>(h=new xO(p,this.Ps?this.Ps.next():_s.ot),"readwrite-primary"===e?this.ai(h).next(_=>!!_||this.hi(h)).next(_=>{if(!_)throw gi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new xe(de.FAILED_PRECONDITION,A2);return i(h)}).next(_=>this.fi(h).next(()=>_)):this.bi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}bi(t){return Vw(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(de.FAILED_PRECONDITION,VO)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vw(t).put("owner",e)}static V(){return ya.V()}li(t){const e=Vw(t);return e.get("owner").next(i=>this.di(i)?(Ne("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):se.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(gi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,H.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return Ne("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return gi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){gi("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Vw(n){return er(n,"owner")}function ET(n){return er(n,"clientMetadata")}function UO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class HO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Ut(),r=Ut();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new HO(t,e.fromCache,i,r)}}class uH{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(s=>s||this.xi(t,e,r,i)).next(s=>s||this.Ni(t,e))}Ci(t,e){if(Z2(e))return se.resolve(null);let i=ys(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=lT(e,null,"F"),i=ys(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=Ut(...s);return this.Di.getDocuments(t,l).next(h=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.ki(e,h);return this.Mi(e,_,l,p.readTime)?this.Ci(t,lT(e,null,"F")):this.Oi(t,_,e,p)}))})))}xi(t,e,i,r){return Z2(e)||r.isEqual(Et.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(s=>{const l=this.ki(e,s);return this.Mi(e,l,i,r)?this.Ni(t,e):(hO()<=kr.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),DO(e)),this.Oi(t,l,e,I2(r,-1)))})}ki(t,e){let i=new wn(X2(t));return e.forEach((r,s)=>{IO(t,s)&&(i=i.add(s))}),i}Mi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(t,e){return hO()<=kr.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",DO(e)),this.Di.getDocumentsMatchingQuery(t,e,qs.min())}Oi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class P4{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new li(Rt),this.Bi=new Xu(s=>Sf(s),bw),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aH(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function dH(n,t,e,i){return new P4(n,t,e,i)}function hH(n,t){return jO.apply(this,arguments)}function jO(){return jO=(0,K.Z)(function*(n,t){const e=Ze(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],h=[];let p=Ut();for(const _ of r){l.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){h.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({Ki:_,removedBatchIds:l,addedBatchIds:h}))})})}),jO.apply(this,arguments)}function N4(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Ui.newChangeBuffer({trackRemovals:!0});return function(l,h,p,_){const b=p.batch,D=b.keys();let A=se.resolve();return D.forEach(x=>{A=A.next(()=>_.getEntry(h,x)).next(O=>{const q=p.docVersions.get(x);Tt(null!==q),O.version.compareTo(q)<0&&(b.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),_.addEntry(O)))})}),A.next(()=>l.mutationQueue.removeMutationBatch(h,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let h=Ut();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function fH(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function F4(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((b,D)=>{const A=r.get(D);if(!A)return;h.push(e.Vs.removeMatchingKeys(s,b.removedDocuments,D).next(()=>e.Vs.addMatchingKeys(s,b.addedDocuments,D)));let x=A.withSequenceNumber(s.currentSequenceNumber);var O,q,oe;t.targetMismatches.has(D)?x=x.withResumeToken(Pi.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(b.resumeToken,i)),r=r.insert(D,x),q=x,oe=b,(0===(O=A).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(s,x))});let p=vs(),_=Ut();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),h.push(pH(s,l,t.documentUpdates).next(b=>{p=b.Gi,_=b.Qi})),!i.isEqual(Et.min())){const b=e.Vs.getLastRemoteSnapshotVersion(s).next(D=>e.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(b)}return se.waitFor(h).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.$i=r,s))}function pH(n,t,e){let i=Ut(),r=Ut();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let l=vs();return e.forEach((h,p)=>{const _=s.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(h,p.readTime),l=l.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),l=l.insert(h,p)):Ne("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{Gi:l,Qi:r}})}function L4(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Gg(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(s=>s?(r=s,se.resolve(r)):e.Vs.allocateTargetId(i).next(l=>(r=new Ju(t,l,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function Wg(n,t,e){return $O.apply(this,arguments)}function $O(){return $O=(0,K.Z)(function*(n,t,e){const i=Ze(n),r=i.$i.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!qu(l))throw l;Ne("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),$O.apply(this,arguments)}function DT(n,t,e){const i=Ze(n);let r=Et.min(),s=Ut();return i.persistence.runTransaction("Execute query","readonly",l=>function(h,p,_){const b=Ze(h),D=b.Bi.get(_);return void 0!==D?se.resolve(b.$i.get(D)):b.Vs.getTargetData(p,_)}(i,l,ys(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(l,h.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(l,t,e?r:Et.min(),e?s:Ut())).next(h=>(_H(i,Q2(t),h),{documents:h,ji:s})))}function mH(n,t){const e=Ze(n),i=Ze(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.te(s,t).next(l=>l?l.target:null))}function gH(n,t){const e=Ze(n),i=e.Li.get(t)||Et.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,I2(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(_H(e,t,r),r))}function _H(n,t,e){let i=Et.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(t,i)}function zO(){return zO=(0,K.Z)(function*(n,t,e,i){const r=Ze(n);let s=Ut(),l=vs();for(const _ of e){const b=t.Wi(_.metadata.name);_.document&&(s=s.add(b));const D=t.zi(_);D.setReadTime(t.Hi(_.metadata.readTime)),l=l.insert(b,D)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield Gg(r,(_=i,ys(Ng(en.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>pH(_,h,l).next(b=>(h.apply(_),b)).next(b=>r.Vs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Vs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Gi,b.Qi)).next(()=>b.Gi)))}),zO.apply(this,arguments)}function B4(n,t){return GO.apply(this,arguments)}function GO(){return GO=(0,K.Z)(function*(n,t,e=Ut()){const i=yield Gg(n,ys(PO(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Ji(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.Ds.saveNamedQuery(s,t);const h=i.withResumeToken(Pi.EMPTY_BYTE_STRING,l);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(s,h).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,t))})}),GO.apply(this,arguments)}function yH(n,t){return`firestore_clients_${n}_${t}`}function vH(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function WO(n,t){return`firestore_targets_${n}_${t}`}class IT{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new xe(r.error.code,r.error.message))),l?new IT(t,e,r.state,s):(gi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Bw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new xe(i.error.code,i.error.message))),s?new Bw(t,i.state,r):(gi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class TT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=hT();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=P2(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new TT(t,s):(gi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class qO{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new qO(e.clientId,e.onlineState):(gi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class YO{constructor(){this.activeTargetIds=hT()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZO{constructor(t,e,i,r,s){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new li(Rt),this.started=!1,this.ir=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=yH(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new YO),this.cr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,K.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const s=t.getItem(yH(t.persistenceKey,r));if(s){const l=TT.Ji(r,s);l&&(t.sr=t.sr.insert(l.clientId,l))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(WO(this.persistenceKey,t));if(i){const r=Bw.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(WO(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ne("SharedClientState","READ",t,e),e}setItem(t,e){Ne("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,K.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(s){let l=_s.ot;if(null!=s)try{const h=JSON.parse(s);Tt("number"==typeof h),l=h}catch(h){gi("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(i.newValue);r!==_s.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Nr(s)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new IT(this.currentUser,t,e,i),s=vH(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Yi())}pr(t){const e=vH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=WO(this.persistenceKey,t),s=new Bw(t,e,i);this.setItem(r,s.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return TT.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return IT.Ji(new Qi(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return Bw.Ji(r,e)}wr(t){return qO.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,K.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),s=this.gr(i),l=[],h=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Or(l,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=hT();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class bH{constructor(){this.Fr=new YO,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new YO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class U4{Br(t){}shutdown(){}}class wH{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const H4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class j4{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class $4 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,s){const l=this.oo(t,e);Ne("RestConnection","Sending: ",l,i);const h={};return this.uo(h,r,s),this.co(t,l,h,i).then(p=>(Ne("RestConnection","Received: ",p),p),p=>{throw wf("RestConnection",`${t} failed with error: `,p,"url: ",l,"request:",i),p})}ao(t,e,i,r,s,l){return this.ro(t,e,i,r,s)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+xg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}oo(t,e){return`${this.so}/v1/${e}:${H4[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((s,l)=>{const h=new Hq;h.listenOnce(Vq.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case dO.NO_ERROR:const _=h.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(_)),s(_);break;case dO.TIMEOUT:Ne("Connection",'RPC "'+t+'" timed out'),l(new xe(de.DEADLINE_EXCEEDED,"Request time out"));break;case dO.HTTP_ERROR:const b=h.getStatus();if(Ne("Connection",'RPC "'+t+'" failed with status:',b,"response text:",h.getResponseText()),b>0){const D=h.getResponseJson().error;if(D&&D.status&&D.message){const A=function(x){const O=x.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(O)>=0?O:de.UNKNOWN}(D.status);l(new xe(A,D.message))}else l(new xe(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new xe(de.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ne("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);h.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Fq(),l=Lq(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Uq({})),this.uo(h.initMessageHeaders,e,i),(0,H.uI)()||(0,H.b$)()||(0,H.d)()||(0,H.w1)()||(0,H.Mn)()||(0,H.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ne("Connection","Creating WebChannel: "+p,h);const _=s.createWebChannel(p,h);let b=!1,D=!1;const A=new j4({jr:O=>{D?Ne("Connection","Not sending because WebChannel is closed:",O):(b||(Ne("Connection","Opening WebChannel transport."),_.open(),b=!0),Ne("Connection","WebChannel sending:",O),_.send(O))},Wr:()=>_.close()}),x=(O,q,oe)=>{O.listen(q,ze=>{try{oe(ze)}catch(qe){setTimeout(()=>{throw qe},0)}})};return x(_,JI.EventType.OPEN,()=>{D||Ne("Connection","WebChannel transport opened.")}),x(_,JI.EventType.CLOSE,()=>{D||(D=!0,Ne("Connection","WebChannel transport closed"),A.eo())}),x(_,JI.EventType.ERROR,O=>{D||(D=!0,wf("Connection","WebChannel transport errored:",O),A.eo(new xe(de.UNAVAILABLE,"The operation could not be completed")))}),x(_,JI.EventType.MESSAGE,O=>{var q;if(!D){const oe=O.data[0];Tt(!!oe);const ze=oe,qe=ze.error||(null===(q=ze[0])||void 0===q?void 0:q.error);if(qe){Ne("Connection","WebChannel received error:",qe);const ot=qe.status;let Qe=function(bt){const Zt=Ti[bt];if(void 0!==Zt)return fU(Zt)}(ot),dt=qe.message;void 0===Qe&&(Qe=de.INTERNAL,dt="Unknown error status: "+ot+" with message "+qe.message),D=!0,A.eo(new xe(Qe,dt)),_.close()}else Ne("Connection","WebChannel received:",oe),A.no(oe)}}),x(l,Bq.STAT_EVENT,O=>{O.stat===v2.PROXY?Ne("Connection","Detected buffering proxy"):O.stat===v2.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.Zr()},0),A}}function CH(){return typeof window<"u"?window:null}function AT(){return typeof document<"u"?document:null}function Uw(n){return new PY(n,!0)}class KO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class EH{constructor(t,e,i,r,s,l,h,p){this.js=t,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new KO(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,K.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,K.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,K.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(gi(e.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new xe(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,K.Z)(function*(){t.state=0,t.start()}))}qo(t){return Ne("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z4 extends EH{constructor(t,e,i,r,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.wt=s}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function LY(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:at(),r=t.targetChange.targetIds||[],s=function(p,_){return p.dt?(Tt(void 0===_||"string"==typeof _),Pi.fromBase64String(_||"")):(Tt(void 0===_||_ instanceof Uint8Array),Pi.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,h=l&&function(p){const _=void 0===p.code?de.UNKNOWN:fU(p.code);return new xe(_,p.message||"")}(l);e=new yU(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=gl(n,i.document.name),s=Ji(i.document.updateTime),l=new _r({mapValue:{fields:i.document.fields}}),h=Rn.newFoundDocument(r,s,l);e=new fT(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=gl(n,i.document),s=i.readTime?Ji(i.readTime):Et.min(),l=Rn.newNoDocument(r,s);e=new fT([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=gl(n,i.document);e=new fT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return at();{const i=t.filter,s=new TY(i.count||0);e=new _U(i.targetId,s)}}var p;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return Et.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Et.min():s.readTime?Ji(s.readTime):Et.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=xw(this.wt),e.addTarget=function(r,s){let l;const h=s.target;return l=oT(h)?{documents:SU(r,h)}:{query:MU(r,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=CU(r,s.resumeToken):s.snapshotVersion.compareTo(Et.min())>0&&(l.readTime=Sw(r,s.snapshotVersion.toTimestamp())),l}(this.wt,t);const i=function BY(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=xw(this.wt),e.removeTarget=t,this.Oo(e)}}class G4 extends EH{constructor(t,e,i,r,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function VY(n,t){return n&&n.length>0?(Tt(void 0!==t),n.map(e=>function(i,r){let s=Ji(i.updateTime?i.updateTime:r);return s.isEqual(Et.min())&&(s=Ji(r)),new EY(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ji(t.commitTime);return this.listener.Jo(i,e)}return Tt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=xw(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>kw(this.wt,i))};this.Oo(e)}}class W4 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new xe(de.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.bo.ao(t,e,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(de.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class q4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(gi(e),this.su=!1):Ne("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Y4{constructor(t,e,i,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(h=>{i.enqueueAndForget((0,K.Z)(function*(){var p;nd(l)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,K.Z)(function*(_){const b=Ze(_);b.lu.add(4),yield qg(b),b._u.set("Unknown"),b.lu.delete(4),yield Hw(b)}),function(_){return p.apply(this,arguments)})(l))}))}),this._u=new q4(i,r)}}function Hw(n){return QO.apply(this,arguments)}function QO(){return QO=(0,K.Z)(function*(n){if(nd(n))for(const t of n.fu)yield t(!0)}),QO.apply(this,arguments)}function qg(n){return XO.apply(this,arguments)}function XO(){return XO=(0,K.Z)(function*(n){for(const t of n.fu)yield t(!1)}),XO.apply(this,arguments)}function ST(n,t){const e=Ze(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),tP(e)?eP(e):Zg(e).Co()&&JO(e,t))}function jw(n,t){const e=Ze(n),i=Zg(e);e.hu.delete(t),i.Co()&&DH(e,t),0===e.hu.size&&(i.Co()?i.ko():nd(e)&&e._u.set("Unknown"))}function JO(n,t){n.wu.Nt(t.targetId),Zg(n).Qo(t)}function DH(n,t){n.wu.Nt(t),Zg(n).jo(t)}function eP(n){n.wu=new kY({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),Zg(n).start(),n._u.iu()}function tP(n){return nd(n)&&!Zg(n).Do()&&n.hu.size>0}function nd(n){return 0===Ze(n).lu.size}function IH(n){n.wu=void 0}function Z4(n){return nP.apply(this,arguments)}function nP(){return nP=(0,K.Z)(function*(n){n.hu.forEach((t,e)=>{JO(n,t)})}),nP.apply(this,arguments)}function K4(n,t){return iP.apply(this,arguments)}function iP(){return iP=(0,K.Z)(function*(n,t){IH(n),tP(n)?(n._u.uu(t),eP(n)):n._u.set("Unknown")}),iP.apply(this,arguments)}function Q4(n,t,e){return rP.apply(this,arguments)}function rP(){return rP=(0,K.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof yU&&2===t.state&&t.cause)try{yield(i=(0,K.Z)(function*(r,s){const l=s.cause;for(const h of s.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,l),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield MT(n,i)}else if(t instanceof fT?n.wu.Ut(t):t instanceof _U?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(Et.min()))try{const i=yield fH(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const l=r.wu.Yt(s);return l.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const _=r.hu.get(p);_&&r.hu.set(p,_.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach(h=>{const p=r.hu.get(h);if(!p)return;r.hu.set(h,p.withResumeToken(Pi.EMPTY_BYTE_STRING,p.snapshotVersion)),DH(r,h);const _=new Ju(p.target,h,1,p.sequenceNumber);JO(r,_)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){Ne("RemoteStore","Failed to raise snapshot:",i),yield MT(n,i)}var i}),rP.apply(this,arguments)}function MT(n,t,e){return sP.apply(this,arguments)}function sP(){return sP=(0,K.Z)(function*(n,t,e){if(!qu(t))throw t;n.lu.add(1),yield qg(n),n._u.set("Offline"),e||(e=()=>fH(n.localStore)),n.asyncQueue.enqueueRetryable((0,K.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield Hw(n)}))}),sP.apply(this,arguments)}function TH(n,t){return t().catch(e=>MT(n,e,t))}function Yg(n){return oP.apply(this,arguments)}function oP(){return oP=(0,K.Z)(function*(n){const t=Ze(n),e=id(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;X4(t);)try{const r=yield L4(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,J4(t,r)}catch(r){yield MT(t,r)}AH(t)&&SH(t)}),oP.apply(this,arguments)}function X4(n){return nd(n)&&n.au.length<10}function J4(n,t){n.au.push(t);const e=id(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function AH(n){return nd(n)&&!id(n).Do()&&n.au.length>0}function SH(n){id(n).start()}function e8(n){return aP.apply(this,arguments)}function aP(){return aP=(0,K.Z)(function*(n){id(n).Xo()}),aP.apply(this,arguments)}function t8(n){return lP.apply(this,arguments)}function lP(){return lP=(0,K.Z)(function*(n){const t=id(n);for(const e of n.au)t.Ho(e.mutations)}),lP.apply(this,arguments)}function n8(n,t,e){return cP.apply(this,arguments)}function cP(){return cP=(0,K.Z)(function*(n,t,e){const i=n.au.shift(),r=RO.from(i,t,e);yield TH(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Yg(n)}),cP.apply(this,arguments)}function i8(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,K.Z)(function*(n,t){var e;t&&id(n).zo&&(yield(e=(0,K.Z)(function*(i,r){if(hU(s=r.code)&&s!==de.ABORTED){const l=i.au.shift();id(i).No(),yield TH(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Yg(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),AH(n)&&SH(n)}),uP.apply(this,arguments)}function MH(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,K.Z)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const i=nd(e);e.lu.add(3),yield qg(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield Hw(e)}),dP.apply(this,arguments)}function hP(n,t){return fP.apply(this,arguments)}function fP(){return fP=(0,K.Z)(function*(n,t){const e=Ze(n);t?(e.lu.delete(2),yield Hw(e)):t||(e.lu.add(2),yield qg(e),e._u.set("Unknown"))}),fP.apply(this,arguments)}function Zg(n){return n.mu||(n.mu=function(t,e,i){const r=Ze(t);return r.tu(),new z4(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:Z4.bind(null,n),Jr:K4.bind(null,n),Go:Q4.bind(null,n)}),n.fu.push(function(){var t=(0,K.Z)(function*(e){e?(n.mu.No(),tP(n)?eP(n):n._u.set("Unknown")):(yield n.mu.stop(),IH(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function id(n){return n.gu||(n.gu=function(t,e,i){const r=Ze(t);return r.tu(),new G4(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:e8.bind(null,n),Jr:i8.bind(null,n),Yo:t8.bind(null,n),Jo:n8.bind(null,n)}),n.fu.push(function(){var t=(0,K.Z)(function*(e){e?(n.gu.No(),yield Yg(n)):(yield n.gu.stop(),n.au.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class pP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,s){const l=Date.now()+i,h=new pP(t,e,l,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(n,t){if(gi("AsyncQueue",`${t}: ${n}`),qu(n))return new xe(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Qg{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ge.comparator(e.key,i.key):(e,i)=>Ge.comparator(e.key,i.key),this.keyedMap=Dw(),this.sortedSet=new li(this.comparator)}static emptySet(t){return new Qg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Qg;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class xH{constructor(){this.yu=new li(Ge.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):at():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Xg{constructor(t,e,i,r,s,l,h,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(l=>{s.push({type:0,doc:l})}),new Xg(t,e,Qg.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ww(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class r8{constructor(){this.Iu=void 0,this.listeners=[]}}class s8{constructor(){this.queries=new Xu(t=>K2(t),ww),this.onlineState="Unknown",this.Tu=new Set}}function mP(n,t){return gP.apply(this,arguments)}function gP(){return gP=(0,K.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new r8),r)try{s.Iu=yield e.onListen(i)}catch(l){const h=Kg(l,`Initialization of query '${DO(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Eu(e.onlineState),s.Iu&&t.Au(s.Iu)&&vP(e)}),gP.apply(this,arguments)}function _P(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,K.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),yP.apply(this,arguments)}function o8(n,t){const e=Ze(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const h of l.listeners)h.Au(r)&&(i=!0);l.Iu=r}}i&&vP(e)}function a8(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function vP(n){n.Tu.forEach(t=>{t.next()})}class bP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Xg(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Xg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class l8{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class kH{constructor(t){this.wt=t}Wi(t){return gl(this.wt,t)}zi(t){return t.metadata.exists?AU(this.wt,t.document,!1):Rn.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Ji(t)}}class c8{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RH(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=en.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new kH(this.wt);for(const r of t)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const l of r.metadata.queries){const h=(e.get(l)||Ut()).add(s);e.set(l,h)}}return e}complete(){var t=this;return(0,K.Z)(function*(){const e=yield function V4(n,t,e,i){return zO.apply(this,arguments)}(t.localStore,new kH(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield B4(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function RH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OH{constructor(t){this.key=t}}class PH{constructor(t){this.key=t}}class NH{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Ut(),this.mutatedKeys=Ut(),this.Lu=X2(t),this.Uu=new Qg(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new xH,r=e?e.Uu:this.Uu;let s=e?e.mutatedKeys:this.mutatedKeys,l=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,D)=>{const A=r.get(b),x=IO(this.query,D)?D:null,O=!!A&&this.mutatedKeys.has(A.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let oe=!1;A&&x?A.data.isEqual(x.data)?O!==q&&(i.track({type:3,doc:x}),oe=!0):this.Qu(A,x)||(i.track({type:2,doc:x}),oe=!0,(p&&this.Lu(x,p)>0||_&&this.Lu(x,_)<0)&&(h=!0)):!A&&x?(i.track({type:0,doc:x}),oe=!0):A&&!x&&(i.track({type:1,doc:A}),oe=!0,(p||_)&&(h=!0)),oe&&(x?(l=l.add(x),s=q?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Uu:l,Gu:i,Mi:h,mutatedKeys:s}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const s=t.Gu.pu();s.sort((_,b)=>function(D,A){const x=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return x(D)-x(A)}(_.type,b.type)||this.Lu(_.doc,b.doc)),this.ju(i);const l=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,p=h!==this.$u;return this.$u=h,0!==s.length||p?{snapshot:new Xg(this.query,t.Uu,r,s,t.mutatedKeys,0===h,p,!1),zu:l}:{zu:l}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new xH,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Ut(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new PH(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new OH(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Ut();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return Xg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class u8{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class d8{constructor(t){this.key=t,this.Xu=!1}}class h8{constructor(t,e,i,r,s,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Zu={},this.tc=new Xu(h=>K2(h),ww),this.ec=new Map,this.nc=new Set,this.sc=new li(Ge.comparator),this.ic=new Map,this.rc=new LO,this.oc={},this.uc=new Map,this.cc=Lf.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function f8(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,K.Z)(function*(n,t){const e=zP(n);let i,r;const s=e.tc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const l=yield Gg(e.localStore,ys(t));e.isPrimaryClient&&ST(e.remoteStore,l);const h=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield CP(e,t,i,"current"===h)}return r}),wP.apply(this,arguments)}function CP(n,t,e,i){return EP.apply(this,arguments)}function EP(){return EP=(0,K.Z)(function*(n,t,e,i){n.hc=(b,D,A)=>{return(x=(0,K.Z)(function*(O,q,oe,ze){let qe=q.view.Ku(oe);qe.Mi&&(qe=yield DT(O.localStore,q.query,!1).then(({documents:dt})=>q.view.Ku(dt,qe)));const ot=ze&&ze.targetChanges.get(q.targetId),Qe=q.view.applyChanges(qe,O.isPrimaryClient,ot);return OP(O,q.targetId,Qe.zu),Qe.snapshot}),function(O,q,oe,ze){return x.apply(this,arguments)})(n,b,D,A);var x};const r=yield DT(n.localStore,t,!0),s=new NH(t,r.ji),l=s.Ku(r.documents),h=Aw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(l,n.isPrimaryClient,h);OP(n,e,p.zu);const _=new u8(t,e,s);return n.tc.set(t,_),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),p.snapshot}),EP.apply(this,arguments)}function p8(n,t){return DP.apply(this,arguments)}function DP(){return DP=(0,K.Z)(function*(n,t){const e=Ze(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(s=>!ww(s,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Wg(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),jw(e.remoteStore,i.targetId),Jg(e,i.targetId)}).catch(Wu))):(Jg(e,i.targetId),yield Wg(e.localStore,i.targetId,!0))}),DP.apply(this,arguments)}function IP(){return IP=(0,K.Z)(function*(n,t,e){const i=GP(n);try{const r=yield function(s,l){const h=Ze(s),p=Gn.now(),_=l.reduce((A,x)=>A.add(x.key),Ut());let b,D;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=vs(),O=Ut();return h.Ui.getEntries(A,_).next(q=>{x=q,x.forEach((oe,ze)=>{ze.isValidDocument()||(O=O.add(oe))})}).next(()=>h.localDocuments.getOverlayedDocuments(A,x)).next(q=>{b=q;const oe=[];for(const ze of l){const qe=IY(ze,b.get(ze.key).overlayedDocument);null!=qe&&oe.push(new Ec(ze.key,qe,H2(qe.value.mapValue),ei.exists(!0)))}return h.mutationQueue.addMutationBatch(A,p,oe,l)}).next(q=>{D=q;const oe=q.applyToLocalDocumentSet(b,O);return h.documentOverlayCache.saveOverlays(A,q.batchId,oe)})}).then(()=>({batchId:D.batchId,changes:mU(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,h){let p=s.oc[s.currentUser.toKey()];p||(p=new li(Rt)),p=p.insert(l,h),s.oc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Dc(i,r.changes),yield Yg(i.remoteStore)}catch(r){const s=Kg(r,"Failed to persist write");e.reject(s)}}),IP.apply(this,arguments)}function FH(n,t){return TP.apply(this,arguments)}function TP(){return TP=(0,K.Z)(function*(n,t){const e=Ze(n);try{const i=yield F4(e.localStore,t);t.targetChanges.forEach((r,s)=>{const l=e.ic.get(s);l&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Xu=!0:r.modifiedDocuments.size>0?Tt(l.Xu):r.removedDocuments.size>0&&(Tt(l.Xu),l.Xu=!1))}),yield Dc(e,i,t)}catch(i){yield Wu(i)}}),TP.apply(this,arguments)}function LH(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((s,l)=>{const h=l.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(s,l){const h=Ze(s);h.onlineState=l;let p=!1;h.queries.forEach((_,b)=>{for(const D of b.listeners)D.Eu(l)&&(p=!0)}),p&&vP(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function g8(n,t,e){return AP.apply(this,arguments)}function AP(){return AP=(0,K.Z)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),s=r&&r.key;if(s){let l=new li(Ge.comparator);l=l.insert(s,Rn.newNoDocument(s,Et.min()));const h=Ut().add(s),p=new Tw(Et.min(),new Map,new wn(Rt),l,h);yield FH(i,p),i.sc=i.sc.remove(s),i.ic.delete(t),PP(i)}else yield Wg(i.localStore,t,!1).then(()=>Jg(i,t,e)).catch(Wu)}),AP.apply(this,arguments)}function _8(n,t){return SP.apply(this,arguments)}function SP(){return SP=(0,K.Z)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield N4(e.localStore,t);RP(e,i,null),kP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Dc(e,r)}catch(r){yield Wu(r)}}),SP.apply(this,arguments)}function y8(n,t,e){return MP.apply(this,arguments)}function MP(){return MP=(0,K.Z)(function*(n,t,e){const i=Ze(n);try{const r=yield function(s,l){const h=Ze(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,l).next(b=>(Tt(null!==b),_=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(i.localStore,t);RP(i,t,e),kP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Dc(i,r)}catch(r){yield Wu(r)}}),MP.apply(this,arguments)}function xP(){return xP=(0,K.Z)(function*(n,t){const e=Ze(n);nd(e.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=Ze(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=Kg(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),xP.apply(this,arguments)}function kP(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function RP(n,t,e){const i=Ze(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function Jg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||VH(n,i)})}function VH(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(jw(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),PP(n))}function OP(n,t,e){for(const i of e)i instanceof OH?(n.rc.addReference(i.key,t),b8(n,i)):i instanceof PH?(Ne("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||VH(n,i.key)):at()}function b8(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(Ne("SyncEngine","New document in limbo: "+e),n.nc.add(i),PP(n))}function PP(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Ge(en.fromString(t)),i=n.cc.next();n.ic.set(i,new d8(e)),n.sc=n.sc.insert(e,i),ST(n.remoteStore,new Ju(ys(Ng(e.path)),i,2,_s.ot))}}function Dc(n,t,e){return NP.apply(this,arguments)}function NP(){return NP=(0,K.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[],l=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,p)=>{l.push(i.hc(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const b=HO.Vi(p.targetId,_);s.push(b)}}))}),yield Promise.all(l),i.Zu.Go(r),yield(h=(0,K.Z)(function*(p,_){const b=Ze(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>se.forEach(_,A=>se.forEach(A.Pi,x=>b.persistence.referenceDelegate.addReference(D,A.targetId,x)).next(()=>se.forEach(A.vi,x=>b.persistence.referenceDelegate.removeReference(D,A.targetId,x)))))}catch(D){if(!qu(D))throw D;Ne("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const A=D.targetId;if(!D.fromCache){const x=b.$i.get(A),q=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);b.$i=b.$i.insert(A,q)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),NP.apply(this,arguments)}function w8(n,t){return FP.apply(this,arguments)}function FP(){return FP=(0,K.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Ne("SyncEngine","User change. New user:",t.toKey());const i=yield hH(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(l=>{l.forEach(h=>{h.reject(new xe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Dc(e,i.Ki)}var r}),FP.apply(this,arguments)}function C8(n,t){const e=Ze(n),i=e.ic.get(t);if(i&&i.Xu)return Ut().add(i.key);{let r=Ut();const s=e.ec.get(t);if(!s)return r;for(const l of s){const h=e.tc.get(l);r=r.unionWith(h.view.qu)}return r}}function E8(n,t){return LP.apply(this,arguments)}function LP(){return LP=(0,K.Z)(function*(n,t){const e=Ze(n),i=yield DT(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&OP(e,t.targetId,r.zu),r}),LP.apply(this,arguments)}function D8(n,t){return VP.apply(this,arguments)}function VP(){return VP=(0,K.Z)(function*(n,t){const e=Ze(n);return gH(e.localStore,t).then(i=>Dc(e,i))}),VP.apply(this,arguments)}function I8(n,t,e,i){return BP.apply(this,arguments)}function BP(){return BP=(0,K.Z)(function*(n,t,e,i){const r=Ze(n),s=yield function(l,h){const p=Ze(l),_=Ze(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.yn(b,h).next(D=>D?p.localDocuments.getDocuments(b,D):se.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield Yg(r.remoteStore):"acknowledged"===e||"rejected"===e?(RP(r,t,i||null),kP(r,t),h=t,Ze(Ze(r.localStore).mutationQueue).In(h)):at(),yield Dc(r,s)):Ne("SyncEngine","Cannot apply mutation batch with id: "+t)}),BP.apply(this,arguments)}function UP(){return UP=(0,K.Z)(function*(n,t){const e=Ze(n);if(zP(e),GP(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield BH(e,i.toArray());e.ac=!0,yield hP(e.remoteStore,!0);for(const s of r)ST(e.remoteStore,s)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((s,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Jg(e,l),Wg(e.localStore,l,!0))),jw(e.remoteStore,l)}),yield r,yield BH(e,i),function(s){const l=Ze(s);l.ic.forEach((h,p)=>{jw(l.remoteStore,p)}),l.rc.cs(),l.ic=new Map,l.sc=new li(Ge.comparator)}(e),e.ac=!1,yield hP(e.remoteStore,!1)}}),UP.apply(this,arguments)}function BH(n,t,e){return HP.apply(this,arguments)}function HP(){return HP=(0,K.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[];for(const l of t){let h;const p=i.ec.get(l);if(p&&0!==p.length){h=yield Gg(i.localStore,ys(p[0]));for(const _ of p){const b=i.tc.get(_),D=yield E8(i,b);D.snapshot&&s.push(D.snapshot)}}else{const _=yield mH(i.localStore,l);h=yield Gg(i.localStore,_),yield CP(i,UH(_),l,!1)}r.push(h)}return i.Zu.Go(s),r}),HP.apply(this,arguments)}function UH(n){return Y2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function A8(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).Ri()}function S8(n,t,e,i){return jP.apply(this,arguments)}function jP(){return jP=(0,K.Z)(function*(n,t,e,i){const r=Ze(n);if(r.ac)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const l=yield gH(r.localStore,Q2(s[0])),h=Tw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Dc(r,l,h);break}case"rejected":yield Wg(r.localStore,t,!0),Jg(r,t,i);break;default:at()}}),jP.apply(this,arguments)}function M8(n,t,e){return $P.apply(this,arguments)}function $P(){return $P=(0,K.Z)(function*(n,t,e){const i=zP(n);if(i.ac){for(const r of t){if(i.ec.has(r)){Ne("SyncEngine","Adding an already active target "+r);continue}const s=yield mH(i.localStore,r),l=yield Gg(i.localStore,s);yield CP(i,UH(s),l.targetId,!1),ST(i.remoteStore,l)}for(const r of e)i.ec.has(r)&&(yield Wg(i.localStore,r,!1).then(()=>{jw(i.remoteStore,r),Jg(i,r)}).catch(Wu))}}),$P.apply(this,arguments)}function zP(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=FH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=g8.bind(null,t),t.Zu.Go=o8.bind(null,t.eventManager),t.Zu.lc=a8.bind(null,t.eventManager),t}function GP(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=y8.bind(null,t),t}class HH{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,K.Z)(function*(){e.wt=Uw(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return dH(this.persistence,new uH,t.initialUser,this.wt)}_c(t){return new lH(CT.Os,this.wt)}dc(t){return new bH}terminate(){var t=this;return(0,K.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class jH extends HH{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield GP(i.yc.syncEngine),yield Yg(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return dH(this.persistence,new uH,t.initialUser,this.wt)}mc(t,e){return new b4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new iY(e,this.persistence);return new nY(t.asyncQueue,i)}_c(t){const e=UO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new BO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,CH(),AT(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new bH}}class k8 extends jH{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,K.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof ZO&&(i.sharedClientState.syncEngine={kr:I8.bind(null,r),Mr:S8.bind(null,r),Or:M8.bind(null,r),Ri:A8.bind(null,r),Nr:D8.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,K.Z)(function*(l){yield function T8(n,t){return UP.apply(this,arguments)}(i.yc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}dc(t){const e=CH();if(!ZO.V(e))throw new xe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=UO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ZO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class WP{initialize(t,e){var i=this;return(0,K.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>LH(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=w8.bind(null,i.syncEngine),yield hP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new s8}createDatastore(t){const e=Uw(t.databaseInfo.databaseId),i=new $4(t.databaseInfo);return new W4(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>LH(this.syncEngine,h,0),l=wH.V()?new wH:new U4,new Y4(e,i,r,s,l);var e,i,r,s,l}createSyncEngine(t,e){return function(i,r,s,l,h,p,_){const b=new h8(i,r,s,l,h,p);return _&&(b.ac=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,K.Z)(function*(e){const i=Ze(e);Ne("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield qg(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function $H(n,t=10240){let e=0;return{read:()=>(0,K.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,K.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):gi("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class R8{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Xi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,K.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,K.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,K.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const s=yield t.vc(r);return new l8(JSON.parse(s),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,K.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,K.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,K.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class O8{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,K.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,K.Z)(function*(s,l){const h=Ze(s),p=xw(h.wt)+"/documents",_={documents:l.map(x=>Mw(h.wt,x))},b=yield h.ao("BatchGetDocuments",p,_,l.length),D=new Map;b.forEach(x=>{const O=function FY(n,t){return"found"in t?function(e,i){Tt(!!i.found);const r=gl(e,i.found.name),s=Ji(i.found.updateTime),l=new _r({mapValue:{fields:i.found.fields}});return Rn.newFoundDocument(r,s,l)}(n,t):"missing"in t?function(e,i){Tt(!!i.missing),Tt(!!i.readTime);const r=gl(e,i.missing),s=Ji(i.readTime);return Rn.newNoDocument(r,s)}(n,t):at()}(h.wt,x);D.set(O.key.toString(),O)});const A=[];return l.forEach(x=>{const O=D.get(x.toString());Tt(!!O),A.push(O)}),A}),function(s,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ug(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,K.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ge.fromPath(r);t.mutations.push(new TO(s,t.precondition(s)))}),yield(i=(0,K.Z)(function*(r,s){const l=Ze(r),h=xw(l.wt)+"/documents",p={writes:s.map(_=>kw(l.wt,_))};yield l.ro("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw at();e=Et.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new xe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ei.updateTime(e):ei.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Et.min()))throw new xe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(e)}return ei.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class P8{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new KO(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,K.Z)(function*(){const e=new O8(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Nc(s)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!mw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!hU(e)}return!1}}class N8{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=E2.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,K.Z)(function*(h){Ne("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,K.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Kg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function zH(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,K.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,K.Z)(function*(s){i.isEqual(s)||(yield hH(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),qP.apply(this,arguments)}function GH(n,t){return YP.apply(this,arguments)}function YP(){return YP=(0,K.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield ZP(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>MH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>MH(t.remoteStore,s)),n.onlineComponents=t}),YP.apply(this,arguments)}function ZP(n){return KP.apply(this,arguments)}function KP(){return KP=(0,K.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield zH(n,new HH)),n.offlineComponents}),KP.apply(this,arguments)}function kT(n){return QP.apply(this,arguments)}function QP(){return QP=(0,K.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield GH(n,new WP)),n.onlineComponents}),QP.apply(this,arguments)}function WH(n){return ZP(n).then(t=>t.persistence)}function RT(n){return ZP(n).then(t=>t.localStore)}function qH(n){return kT(n).then(t=>t.remoteStore)}function XP(n){return kT(n).then(t=>t.syncEngine)}function e_(n){return JP.apply(this,arguments)}function JP(){return JP=(0,K.Z)(function*(n){const t=yield kT(n),e=t.eventManager;return e.onListen=f8.bind(null,t.syncEngine),e.onUnlisten=p8.bind(null,t.syncEngine),e}),JP.apply(this,arguments)}function YH(n,t,e={}){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(r,s,l,h,p){const _=new xT({next:D=>{s.enqueueAndForget(()=>_P(r,b));const A=D.docs.has(l);!A&&D.fromCache?p.reject(new xe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&D.fromCache&&h&&"server"===h.source?p.reject(new xe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new bP(Ng(l.path),_,{includeMetadataChanges:!0,Du:!0});return mP(r,b)}(yield e_(n),n.asyncQueue,t,e,i)})),i.promise}function ZH(n,t,e={}){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function(r,s,l,h,p){const _=new xT({next:D=>{s.enqueueAndForget(()=>_P(r,b)),D.fromCache&&"server"===h.source?p.reject(new xe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),b=new bP(l,_,{includeMetadataChanges:!0,Du:!0});return mP(r,b)}(yield e_(n),n.asyncQueue,t,e,i)})),i.promise}const KH=new Map;function eN(n,t,e){if(!e)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function QH(n,t,e,i){if(!0===t&&!0===i)throw new xe(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function XH(n){if(!Ge.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JH(n){if(Ge.isDocumentKey(n))throw new xe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":at()}function Yt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=OT(n);throw new xe(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function ej(n,t){if(t<=0)throw new xe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class tj{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,QH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $w{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tj({}),this._settingsFrozen=!1,t instanceof wc?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new xe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(r.options.projectId)}(t))}get app(){if(!this._app)throw new xe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tj(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zq;switch(e.type){case"gapi":const i=e.client;return Tt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Yq(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=KH.get(t);e&&(Ne("ComponentProvider","Removing Datastore"),KH.delete(t),e.terminate())}(this),Promise.resolve()}}class jn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jn(this.firestore,t,this._key)}}class Or{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Or(this.firestore,t,this._query)}}class yl extends Or{constructor(t,e,i){super(t,e,Ng(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jn(this.firestore,null,new Ge(t))}withConverter(t){return new yl(this.firestore,t,this._path)}}function nj(n,t,...e){if(n=(0,H.m9)(n),eN("collection","path",t),n instanceof $w){const i=en.fromString(t,...e);return JH(i),new yl(n,null,i)}{if(!(n instanceof jn||n instanceof yl))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(t,...e));return JH(i),new yl(n.firestore,null,i)}}function PT(n,t,...e){if(n=(0,H.m9)(n),1===arguments.length&&(t=E2.I()),eN("doc","path",t),n instanceof $w){const i=en.fromString(t,...e);return XH(i),new jn(n,null,new Ge(i))}{if(!(n instanceof jn||n instanceof yl))throw new xe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(en.fromString(t,...e));return XH(i),new jn(n.firestore,n instanceof yl?n.converter:null,new Ge(i))}}function ij(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),(n instanceof jn||n instanceof yl)&&(t instanceof jn||t instanceof yl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function rj(n,t){return n=(0,H.m9)(n),t=(0,H.m9)(t),n instanceof Or&&t instanceof Or&&n.firestore===t.firestore&&ww(n._query,t._query)&&n.converter===t.converter}class W8{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new KO(this,"async_queue_retry"),this.Kc=()=>{const e=AT();e&&Ne("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=AT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=AT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Xi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,K.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!qu(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,gi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=pP.createAndSchedule(this,t,e,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&at()}verifyOperationInProgress(){}zc(){var t=this;return(0,K.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function tN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class q8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Wn extends $w{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new W8,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sj(this),this._firestoreClient.terminate()}}function Z8(n=(0,xt.getApp)()){return(0,xt._getProvider)(n,"firestore").getImmediate()}function Ai(n){return n._firestoreClient||sj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sj(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new oY(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new N8(n._authCredentials,n._appCheckCredentials,n._queue,i)}function oj(n,t,e){const i=new Xi;return n.asyncQueue.enqueue((0,K.Z)(function*(){try{yield zH(n,e),yield GH(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(l=s).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw s;wf("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var l})).then(()=>i.promise)}function aj(n){if(n._initialized||n._terminated)throw new xe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ic{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vl(Pi.fromBase64String(t))}catch(e){throw new xe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new vl(Pi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Bf{constructor(t){this._methodName=t}}class NT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}const s5=/^__.*__$/;class o5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ec(t,this.data,this.fieldMask,e,this.fieldTransforms):new Bg(t,this.data,e,this.fieldTransforms)}}class lj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ec(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class FT{constructor(t,e,i,r,s,l){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new FT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return BT(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(cj(this.Zc)&&s5.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class a5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||Uw(t)}aa(t,e,i,r=!1){return new FT({Zc:t,methodName:e,ca:i,path:ai.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Uf(n){const t=n._freezeSettings(),e=Uw(n._databaseId);return new a5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function LT(n,t,e,i,r,s={}){const l=n.aa(s.merge||s.mergeFields?2:0,t,e,r);sN("Data must be an object, but it was:",l,i);const h=hj(i,l);let p,_;if(s.merge)p=new Ys(l.fieldMask),_=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const D of s.mergeFields){const A=oN(t,D,e);if(!l.contains(A))throw new xe(de.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);pj(b,A)||b.push(A)}p=new Ys(b),_=l.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,_=l.fieldTransforms;return new o5(new _r(h),p,_)}class zw extends Bf{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zw}}function uj(n,t,e){return new FT({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class nN extends Bf{_toFieldTransform(t){return new Cw(t.path,new Lg)}isEqual(t){return t instanceof nN}}class l5 extends Bf{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=uj(this,t,!0),i=this.ha.map(s=>Hf(s,e)),r=new Mf(i);return new Cw(t.path,r)}isEqual(t){return this===t}}class c5 extends Bf{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=uj(this,t,!0),i=this.ha.map(s=>Hf(s,e)),r=new xf(i);return new Cw(t.path,r)}isEqual(t){return this===t}}class u5 extends Bf{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Vg(t.wt,tU(t.wt,this.la));return new Cw(t.path,e)}isEqual(t){return this===t}}function iN(n,t,e,i){const r=n.aa(1,t,e);sN("Data must be an object, but it was:",r,i);const s=[],l=_r.empty();Df(i,(p,_)=>{const b=VT(t,p,e);_=(0,H.m9)(_);const D=r.ia(b);if(_ instanceof zw)s.push(b);else{const A=Hf(_,D);null!=A&&(s.push(b),l.set(b,A))}});const h=new Ys(s);return new lj(l,h,r.fieldTransforms)}function rN(n,t,e,i,r,s){const l=n.aa(1,t,e),h=[oN(t,i,e)],p=[r];if(s.length%2!=0)throw new xe(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)h.push(oN(t,s[A])),p.push(s[A+1]);const _=[],b=_r.empty();for(let A=h.length-1;A>=0;--A)if(!pj(_,h[A])){const x=h[A];let O=p[A];O=(0,H.m9)(O);const q=l.ia(x);if(O instanceof zw)_.push(x);else{const oe=Hf(O,q);null!=oe&&(_.push(x),b.set(x,oe))}}const D=new Ys(_);return new lj(b,D,l.fieldTransforms)}function dj(n,t,e,i=!1){return Hf(e,n.aa(i?4:3,t))}function Hf(n,t){if(fj(n=(0,H.m9)(n)))return sN("Unsupported field value:",t,n),hj(n,t);if(n instanceof Bf)return function(e,i){if(!cj(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const l of e){let h=Hf(l,i.ra(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,H.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tU(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Gn.fromDate(e);return{timestampValue:Sw(i.wt,r)}}if(e instanceof Gn){const r=new Gn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sw(i.wt,r)}}if(e instanceof NT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vl)return{bytesValue:CU(i.wt,e._byteString)};if(e instanceof jn){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:AO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${OT(e)}`)}(n,t)}function hj(n,t){const e={};return k2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Df(n,(i,r)=>{const s=Hf(r,t.ea(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function fj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof NT||n instanceof vl||n instanceof jn||n instanceof Bf)}function sN(n,t,e){if(!fj(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=OT(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function oN(n,t,e){if((t=(0,H.m9)(t))instanceof Ic)return t._internalPath;if("string"==typeof t)return VT(n,t);throw BT("Field path arguments must be of type string or ",n,!1,void 0,e)}const d5=new RegExp("[~\\*/\\[\\]]");function VT(n,t,e){if(t.search(d5)>=0)throw BT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ic(...t.split("."))._internalPath}catch{throw BT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function BT(n,t,e,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new xe(de.INVALID_ARGUMENT,h+n+p)}function pj(n,t){return n.some(e=>e.isEqual(t))}class Gw{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new h5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(UT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class h5 extends Gw{data(){return super.data()}}function UT(n,t){return"string"==typeof t?VT(n,t):t instanceof Ic?t._internalPath:t._delegate._internalPath}class jf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tc extends Gw{constructor(t,e,i,r,s,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(UT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Ww extends Tc{data(t={}){return super.data(t)}}class rd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new jf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ww(this._firestore,this._userDataWriter,i.key,i,new jf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Ww(i._firestore,i._userDataWriter,l.doc.key,l.doc,new jf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const h=new Ww(i._firestore,i._userDataWriter,l.doc.key,l.doc,new jf(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),_=s.indexOf(l.doc.key)),{type:f5(l.type),doc:h,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function f5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function mj(n,t){return n instanceof Tc&&t instanceof Tc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof rd&&t instanceof rd&&n._firestore===t._firestore&&rj(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function gj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qw{}function sd(n,...t){for(const e of t)n=e._apply(n);return n}class p5 extends qw{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Uf(t.firestore),i=function(r,s,l,h,p,_,b){let D;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){Cj(b,_);const x=[];for(const O of b)x.push(wj(h,r,O));D={arrayValue:{values:x}}}else D=wj(h,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||Cj(b,_),D=dj(l,"where",b,"in"===_||"not-in"===_);const A=yr.create(p,_,D);return function(x,O){if(O.ht()){const oe=CO(x);if(null!==oe&&!oe.isEqual(O.field))throw new xe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${oe.toString()}' and '${O.field.toString()}'`);const ze=wO(x);null!==ze&&Ej(0,O.field,ze)}const q=function(oe,ze){for(const qe of oe.filters)if(ze.indexOf(qe.op)>=0)return qe.op;return null}(x,function(oe){switch(oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(O.op));if(null!==q)throw new xe(de.INVALID_ARGUMENT,q===O.op?`Invalid query. You cannot use more than one '${O.op.toString()}' filter.`:`Invalid query. You cannot use '${O.op.toString()}' filters with '${q.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new Or(t.firestore,t.converter,function(r,s){const l=r.filters.concat([s]);return new Cc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),l,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class g5 extends qw{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Pg(r,s);return function(h,p){if(null===wO(h)){const _=CO(h);null!==_&&Ej(0,_,p.field)}}(i,l),l}(t._query,this.fa,this.wa);return new Or(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Cc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class _j extends qw{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new Or(t.firestore,t.converter,lT(t._query,this.ma,this.ga))}}class yj extends qw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=bj(t,this.type,this.ya,this.pa);return new Or(t.firestore,t.converter,(r=e,new Cc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class vj extends qw{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=bj(t,this.type,this.ya,this.pa);return new Or(t.firestore,t.converter,(r=e,new Cc((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function bj(n,t,e,i){if(e[0]=(0,H.m9)(e[0]),e[0]instanceof Gw)return function(r,s,l,h,p){if(!h)throw new xe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const _=[];for(const b of Fg(r))if(b.field.isKeyField())_.push(Af(s,h.key));else{const D=h.data.field(b.field);if(yO(D))throw new xe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const A=b.field.canonicalString();throw new xe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}_.push(D)}return new Qu(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Uf(n.firestore);return function(s,l,h,p,_,b){const D=s.explicitOrderBy;if(_.length>D.length)throw new xe(de.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let x=0;x<_.length;x++){const O=_[x];if(D[x].field.isKeyField()){if("string"!=typeof O)throw new xe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof O}`);if(!EO(s)&&-1!==O.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${O}' contains a slash.`);const q=s.path.child(en.fromString(O));if(!Ge.isDocumentKey(q))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const oe=new Ge(q);A.push(Af(l,oe))}else{const q=dj(h,p,O);A.push(q)}}return new Qu(A,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function wj(n,t,e){if("string"==typeof(e=(0,H.m9)(e))){if(""===e)throw new xe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EO(t)&&-1!==e.indexOf("/"))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(en.fromString(e));if(!Ge.isDocumentKey(i))throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Af(n,new Ge(i))}if(e instanceof jn)return Af(n,e._key);throw new xe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OT(e)}.`)}function Cj(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new xe(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ej(n,t,e){if(!e.isEqual(t))throw new xe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const D5={maxAttempts:5};class aN{convertValue(t,e="none"){switch(Tf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ci(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(If(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw at()}}convertObject(t,e){const i={};return Df(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new NT(ci(t.latitude),ci(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=O2(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(pw(t));default:return null}}convertTimestamp(t){const e=Yu(t);return new Gn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=en.fromString(t);Tt(RU(i));const r=new wc(i.get(1),i.get(3)),s=new Ge(i.popFirst(5));return r.isEqual(e)||gi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function HT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class I5 extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new vl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new jn(this.firestore,null,e)}}class Dj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Uf(t)}set(t,e,i){this._verifyNotCommitted();const r=od(t,this._firestore),s=HT(r.converter,e,i),l=LT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,ei.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=od(t,this._firestore);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof Ic?rN(this._dataReader,"WriteBatch.update",s._key,e,i,r):iN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(l.toMutation(s._key,ei.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=od(t,this._firestore);return this._mutations=this._mutations.concat(new Ug(e._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function od(n,t){if((n=(0,H.m9)(n)).firestore!==t)throw new xe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $f extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new vl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new jn(this.firestore,null,e)}}function Ij(n,t,e){n=Yt(n,jn);const i=Yt(n.firestore,Wn),r=HT(n.converter,t,e);return t_(i,[LT(Uf(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,ei.none())])}function Tj(n,t,e,...i){n=Yt(n,jn);const r=Yt(n.firestore,Wn),s=Uf(r);let l;return l="string"==typeof(t=(0,H.m9)(t))||t instanceof Ic?rN(s,"updateDoc",n._key,t,e,i):iN(s,"updateDoc",n._key,t),t_(r,[l.toMutation(n._key,ei.exists(!0))])}function Aj(n,...t){var e,i,r;n=(0,H.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||tN(t[l])||(s=t[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(tN(t[l])){const D=t[l];t[l]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,_,b;if(n instanceof jn)_=Yt(n.firestore,Wn),b=Ng(n._key.path),p={next:D=>{t[l]&&t[l](lN(_,n,D))},error:t[l+1],complete:t[l+2]};else{const D=Yt(n,Or);_=Yt(D.firestore,Wn),b=D._query;const A=new $f(_);p={next:x=>{t[l]&&t[l](new rd(_,A,D,x))},error:t[l+1],complete:t[l+2]},gj(n._query)}return function(D,A,x,O){const q=new xT(O),oe=new bP(A,q,x);return D.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return mP(yield e_(D),oe)})),()=>{q.Tc(),D.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return _P(yield e_(D),oe)}))}}(Ai(_),b,h,p)}function t_(n,t){return function(e,i){const r=new Xi;return e.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function m8(n,t,e){return IP.apply(this,arguments)}(yield XP(e),i,r)})),r.promise}(Ai(n),t)}function lN(n,t,e){const i=e.docs.get(t._key),r=new $f(n);return new Tc(n,r,t._key,i,new jf(e.hasPendingWrites,e.fromCache),t.converter)}class N5 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Uf(t)}get(t){const e=od(t,this._firestore),i=new I5(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return at();const s=r[0];if(s.isFoundDocument())return new Gw(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Gw(this._firestore,i,e._key,null,e.converter);throw at()})}set(t,e,i){const r=od(t,this._firestore),s=HT(r.converter,e,i),l=LT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const s=od(t,this._firestore);let l;return l="string"==typeof(e=(0,H.m9)(e))||e instanceof Ic?rN(this._dataReader,"Transaction.update",s._key,e,i,r):iN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,l),this}delete(t){const e=od(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=od(t,this._firestore),i=new $f(this._firestore);return super.get(t).then(r=>new Tc(this._firestore,i,e._key,r._document,new jf(!1,!1),e.converter))}}function cN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Mj(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function xj(){if(!function rY(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){xg=xt.SDK_VERSION,(0,xt._registerComponent)(new ps.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Wn(r,new Wq(e.getProvider("auth-internal")),new Zq(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,xt.registerVersion)(b2,"3.4.14",n),(0,xt.registerVersion)(b2,"3.4.14","esm2017")}();class Yw{constructor(t){this._delegate=t}static fromBase64String(t){return xj(),new Yw(vl.fromBase64String(t))}static fromUint8Array(t){return Mj(),new Yw(vl.fromUint8Array(t))}toBase64(){return xj(),this._delegate.toBase64()}toUint8Array(){return Mj(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uN(n){return function z5(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class G5{enableIndexedDbPersistence(t,e){return function K8(n,t){aj(n=Yt(n,Wn));const e=Ai(n),i=n._freezeSettings(),r=new WP;return oj(e,r,new jH(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Q8(n){aj(n=Yt(n,Wn));const t=Ai(n),e=n._freezeSettings(),i=new WP;return oj(t,i,new k8(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function X8(n){if(n._initialized&&!n._terminated)throw new xe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,K.Z)(function*(){try{yield(e=(0,K.Z)(function*(i){if(!ya.V())return Promise.resolve();const r=i+"main";yield ya.delete(r)}),function(i){return e.apply(this,arguments)})(UO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class kj{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof wc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&wf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function z8(n,t,e,i={}){var r;const s=(n=Yt(n,$w))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&wf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let l,h;if("string"==typeof i.mockUserToken)l=i.mockUserToken,h=Qi.MOCK_USER;else{l=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new xe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qi(p)}n._authCredentials=new Gq(new w2(l,h))}}(this._delegate,t,e,i)}enableNetwork(){return function e5(n){return function F8(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const t=yield WH(n),e=yield qH(n);return t.setNetworkEnabled(!0),function(i){const r=Ze(i);return r.lu.delete(0),Hw(r)}(e)}))}(Ai(n=Yt(n,Wn)))}(this._delegate)}disableNetwork(){return function t5(n){return function L8(n){return n.asyncQueue.enqueue((0,K.Z)(function*(){const t=yield WH(n),e=yield qH(n);return t.setNetworkEnabled(!1),(i=(0,K.Z)(function*(r){const s=Ze(r);s.lu.add(0),yield qg(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ai(n=Yt(n,Wn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,QH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function J8(n){return function(t){const e=new Xi;return t.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return function v8(n,t){return xP.apply(this,arguments)}(yield XP(t),e)})),e.promise}(Ai(n=Yt(n,Wn)))}(this._delegate)}onSnapshotsInSync(t){return function P5(n,t){return function U8(n,t){const e=new xT(t);return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return i=yield e_(n),r=e,Ze(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return i=yield e_(n),r=e,void Ze(i).Tu.delete(r);var i,r}))}}(Ai(n=Yt(n,Wn)),tN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new n_(this,nj(this._delegate,t))}catch(e){throw Wr(e,"collection()","Firestore.collection()")}}doc(t){try{return new Po(this,PT(this._delegate,t))}catch(e){throw Wr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new qr(this,function G8(n,t){if(n=Yt(n,$w),eN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Or(n,null,(e=t,new Cc(en.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Wr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function F5(n,t,e){n=Yt(n,Wn);const i=Object.assign(Object.assign({},D5),e);return function(r){if(r.maxAttempts<1)throw new xe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function H8(n,t,e){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){const r=yield(s=n,kT(s).then(l=>l.datastore));var s;new P8(n.asyncQueue,r,e,t,i).run()})),i.promise}(Ai(n),r=>t(new N5(n,r)),i)}(this._delegate,e=>t(new Rj(this,e)))}batch(){return Ai(this._delegate),new Oj(new Dj(this._delegate,t=>t_(this._delegate,t)))}loadBundle(t){return function n5(n,t){const e=Ai(n=Yt(n,Wn)),i=new q8;return function j8(n,t,e,i){const r=function(s,l){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return $H(p,_);if(p instanceof ArrayBuffer)return $H(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new R8(p,l);var p}(e,Uw(t));n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){!function x8(n,t,e){const i=Ze(n);var r;(r=(0,K.Z)(function*(s,l,h){try{const p=yield l.getMetadata();if(yield function(A,x){const O=Ze(A),q=Ji(x.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",oe=>O.Ds.getBundleMetadata(oe,x.id)).then(oe=>!!oe&&oe.createTime.compareTo(q)>=0)}(s.localStore,p))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(A=p).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);h._updateProgress(RH(p));const _=new c8(p,s.localStore,l.wt);let b=yield l.fc();for(;b;){const A=yield _.Nu(b);A&&h._updateProgress(A),b=yield l.fc()}const D=yield _.complete();return yield Dc(s,D.Ou,void 0),yield function(A,x){const O=Ze(A);return O.persistence.runTransaction("Save bundle","readwrite",q=>O.Ds.saveBundleMetadata(q,x))}(s.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Mu)}catch(p){return wf("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var A}),function(s,l,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield XP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function r5(n,t){return function $8(n,t){return n.asyncQueue.enqueue((0,K.Z)(function*(){return function(e,i){const r=Ze(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield RT(n),t)}))}(Ai(n=Yt(n,Wn)),t).then(e=>e?new Or(n,null,e.query):null)}(this._delegate,t).then(e=>e?new qr(this,e):null)}}class jT extends aN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yw(new vl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Po.forKey(e,this.firestore,null)}}class Rj{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new jT(t)}get(t){const e=Gf(t);return this._delegate.get(e).then(i=>new Zw(this._firestore,new Tc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Gf(t);return i?(cN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Gf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Gf(t);return this._delegate.delete(e),this}}class Oj{constructor(t){this._delegate=t}set(t,e,i){const r=Gf(t);return i?(cN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Gf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Gf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class zf{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Ww(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Kw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=zf.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new zf(t,new jT(t),e),r.set(e,s)),s}}zf.INSTANCES=new WeakMap;class Po{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Po(e,new jn(e._delegate,i,new Ge(t)))}static forKey(t,e,i){return new Po(e,new jn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new n_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new n_(this.firestore,nj(this._delegate,t))}catch(e){throw Wr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,H.m9)(t))instanceof jn&&ij(this._delegate,t)}set(t,e){e=cN("DocumentReference.set",e);try{return e?Ij(this._delegate,t,e):Ij(this._delegate,t)}catch(i){throw Wr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?Tj(this._delegate,t):Tj(this._delegate,t,e,...i)}catch(r){throw Wr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function R5(n){return t_(Yt(n.firestore,Wn),[new Ug(n._key,ei.none())])}(this._delegate)}onSnapshot(...t){const e=Pj(t),i=Nj(t,r=>new Zw(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Aj(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function A5(n){n=Yt(n,jn);const t=Yt(n.firestore,Wn),e=Ai(t),i=new $f(t);return function V8(n,t){const e=new Xi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(r,s,l){try{const h=yield function(p,_){const b=Ze(p);return b.persistence.runTransaction("read document","readonly",D=>b.localDocuments.getDocument(D,_))}(r,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new xe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Kg(h,`Failed to get document '${s} from cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield RT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Tc(t,i,n._key,r,new jf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function S5(n){n=Yt(n,jn);const t=Yt(n.firestore,Wn);return YH(Ai(t),n._key,{source:"server"}).then(e=>lN(t,n,e))}(this._delegate):function T5(n){n=Yt(n,jn);const t=Yt(n.firestore,Wn);return YH(Ai(t),n._key).then(e=>lN(t,n,e))}(this._delegate),e.then(i=>new Zw(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Po(this.firestore,this._delegate.withConverter(t?zf.getInstance(this.firestore,t):null))}}function Wr(n,t,e){return n.message=n.message.replace(t,e),n}function Pj(n){for(const t of n)if("object"==typeof t&&!uN(t))return t;return{}}function Nj(n,t){var e,i;let r;return r=uN(n[0])?n[0]:uN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Zw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Po(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return mj(this._delegate,t._delegate)}}class Kw extends Zw{data(t){const e=this._delegate.data(t);return function $q(n,t){n||at()}(void 0!==e),e}}class qr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new jT(t)}where(t,e,i){try{return new qr(this.firestore,sd(this._delegate,function m5(n,t,e){const i=t,r=UT("where",n);return new p5(r,i,e)}(t,e,i)))}catch(r){throw Wr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new qr(this.firestore,sd(this._delegate,function _5(n,t="asc"){const e=t,i=UT("orderBy",n);return new g5(i,e)}(t,e)))}catch(i){throw Wr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new qr(this.firestore,sd(this._delegate,function y5(n){return ej("limit",n),new _j("limit",n,"F")}(t)))}catch(e){throw Wr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new qr(this.firestore,sd(this._delegate,function v5(n){return ej("limitToLast",n),new _j("limitToLast",n,"L")}(t)))}catch(e){throw Wr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new qr(this.firestore,sd(this._delegate,function b5(...n){return new yj("startAt",n,!0)}(...t)))}catch(e){throw Wr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new qr(this.firestore,sd(this._delegate,function w5(...n){return new yj("startAfter",n,!1)}(...t)))}catch(e){throw Wr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new qr(this.firestore,sd(this._delegate,function C5(...n){return new vj("endBefore",n,!1)}(...t)))}catch(e){throw Wr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new qr(this.firestore,sd(this._delegate,function E5(...n){return new vj("endAt",n,!0)}(...t)))}catch(e){throw Wr(e,"endAt()","Query.endAt()")}}isEqual(t){return rj(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function x5(n){n=Yt(n,Or);const t=Yt(n.firestore,Wn),e=Ai(t),i=new $f(t);return function B8(n,t){const e=new Xi;return n.asyncQueue.enqueueAndForget((0,K.Z)(function*(){return(i=(0,K.Z)(function*(r,s,l){try{const h=yield DT(r,s,!0),p=new NH(s,h.ji),_=p.Ku(h.documents),b=p.applyChanges(_,!1);l.resolve(b.snapshot)}catch(h){const p=Kg(h,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield RT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new rd(t,i,n,r))}(this._delegate):"server"===t?.source?function k5(n){n=Yt(n,Or);const t=Yt(n.firestore,Wn),e=Ai(t),i=new $f(t);return ZH(e,n._query,{source:"server"}).then(r=>new rd(t,i,n,r))}(this._delegate):function M5(n){n=Yt(n,Or);const t=Yt(n.firestore,Wn),e=Ai(t),i=new $f(t);return gj(n._query),ZH(e,n._query).then(r=>new rd(t,i,n,r))}(this._delegate),e.then(i=>new dN(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Pj(t),i=Nj(t,r=>new dN(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Aj(this._delegate,e,i)}withConverter(t){return new qr(this.firestore,this._delegate.withConverter(t?zf.getInstance(this.firestore,t):null))}}class q5{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Kw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new qr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Kw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new q5(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Kw(this._firestore,i))})}isEqual(t){return mj(this._delegate,t._delegate)}}class n_ extends qr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Po(this.firestore,t):null}doc(t){try{return new Po(this.firestore,void 0===t?PT(this._delegate):PT(this._delegate,t))}catch(e){throw Wr(e,"doc()","CollectionReference.doc()")}}add(t){return function O5(n,t){const e=Yt(n.firestore,Wn),i=PT(n),r=HT(n.converter,t);return t_(e,[LT(Uf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ei.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Po(this.firestore,e))}isEqual(t){return ij(this._delegate,t._delegate)}withConverter(t){return new n_(this.firestore,this._delegate.withConverter(t?zf.getInstance(this.firestore,t):null))}}function Gf(n){return Yt(n,jn)}class hN{constructor(...t){this._delegate=new Ic(...t)}static documentId(){return new hN(ai.keyField().canonicalString())}isEqual(t){return(t=(0,H.m9)(t))instanceof Ic&&this._delegate._internalPath.isEqual(t._internalPath)}}class Wf{constructor(t){this._delegate=t}static serverTimestamp(){const t=function V5(){return new nN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Wf(t)}static delete(){const t=function L5(){return new zw("deleteField")}();return t._methodName="FieldValue.delete",new Wf(t)}static arrayUnion(...t){const e=function B5(...n){return new l5("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Wf(e)}static arrayRemove(...t){const e=function U5(...n){return new c5("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Wf(e)}static increment(t){const e=function H5(n){return new u5("increment",n)}(t);return e._methodName="FieldValue.increment",new Wf(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Y5={Firestore:kj,GeoPoint:NT,Timestamp:Gn,Blob:Yw,Transaction:Rj,WriteBatch:Oj,DocumentReference:Po,DocumentSnapshot:Zw,Query:qr,QueryDocumentSnapshot:Kw,QuerySnapshot:dN,CollectionReference:n_,FieldPath:hN,FieldValue:Wf,setLogLevel:function W5(n){!function jq(n){Gu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function K5(n){(function Z5(n,t){n.INTERNAL.registerComponent(new ps.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Y5)))})(n,(t,e)=>new kj(t,e,new G5)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(te.Z);class Q5 extends rt.x{constructor(t=1/0,e=1/0,i=Hy){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;e||(i.push(t),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!t.closed;l+=i?1:2)t.next(s[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=e.now();let h=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)h=p;h&&i.splice(0,h+1)}}}var Fj=N(3099);function Lj(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Fj.B)({connector:()=>new Q5(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Vj(n,t){return(0,si.m)(t)?Kn(()=>n,t):Kn(()=>n)}class qf{constructor(t){return t}}class $T{constructor(){return(0,xt.getApps)()}}const fN=new c.OlP("angularfire2._apps"),J5={provide:qf,useFactory:function X5(n){return n&&1===n.length?n[0]:new qf((0,xt.getApp)())},deps:[[new c.FiY,fN]]},eZ={provide:$T,deps:[[new c.FiY,fN]]};function tZ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new qf(i)}}let nZ=(()=>{class n{constructor(e){(0,xt.registerVersion)("angularfire",Dg.full,"core"),(0,xt.registerVersion)("angularfire",Dg.full,"app"),(0,xt.registerVersion)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[J5,eZ]}),n})();function iZ(n,...t){return{ngModule:nZ,providers:[{provide:fN,useFactory:tZ(n),multi:!0,deps:[c.R0b,c.zs3,o,...t]}]}}const rZ=T(xt.initializeApp,!0),Bj=new Map,sZ={activated:!1,tokenObservers:[]},oZ={initialized:!1,enabled:!1};function nr(n){return Bj.get(n)||sZ}function va(n,t){Bj.set(n,t)}function zT(){return oZ}class dZ{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,K.Z)(function*(){e.stop();try{e.pending=new H.BH,yield function hZ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new H.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Yr=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hj(n){if(!nr(n).activated)throw Yr.create("use-before-activation",{appName:n.name})}function gN(n,t){return _N.apply(this,arguments)}function _N(){return _N=(0,K.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const x=yield l.getHeartbeatsHeader();x&&(s["X-Firebase-Client"]=x)}const h={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,h)}catch(x){throw Yr.create("fetch-network-error",{originalErrorMessage:null===(i=x)||void 0===i?void 0:i.message})}if(200!==p.status)throw Yr.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(x){throw Yr.create("fetch-parse-error",{originalErrorMessage:null===(r=x)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const D=1e3*Number(b[1]),A=Date.now();return{token:_.token,expireTimeMillis:A+D,issuedAtTimeMillis:A}}),_N.apply(this,arguments)}function gZ(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Qw="firebase-app-check-store";let qT=null;function $j(){return qT||(qT=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Yr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qw,{keyPath:"compositeKey"})}}catch(i){t(Yr.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),qT)}function yN(){return yN=(0,K.Z)(function*(n,t){const i=(yield $j()).transaction(Qw,"readwrite"),s=i.objectStore(Qw).put({compositeKey:n,value:t});return new Promise((l,h)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var _;h(Yr.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),yN.apply(this,arguments)}const Xw=new kr.Yd("@firebase/app-check");function qj(n,t){return(0,H.hl)()?function bZ(n,t){return function zj(n,t){return yN.apply(this,arguments)}(function Wj(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Xw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Yj(){return zT().enabled}function Zj(){return CN.apply(this,arguments)}function CN(){return CN=(0,K.Z)(function*(){const n=zT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),CN.apply(this,arguments)}const TZ={error:"UNKNOWN_ERROR"};function AZ(n){return H.US.encodeString(JSON.stringify(n),!1)}function YT(n){return EN.apply(this,arguments)}function EN(){return EN=(0,K.Z)(function*(n,t=!1){const e=n.app;Hj(e);const i=nr(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&ZT(p)&&(r=p)}if(!t&&r&&ZT(r))return{token:r.token};let h,l=!1;if(Yj()){i.exchangeTokenPromise||(i.exchangeTokenPromise=gN(gZ(e,yield Zj()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),l=!0);const p=yield i.exchangeTokenPromise;return yield qj(e,p),va(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),l=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Xw.warn(p.message):Xw.error(p),s=p}return r?(h={token:r.token},va(e,Object.assign(Object.assign({},i),{token:r})),yield qj(e,r)):h=MZ(s),l&&Qj(e,h),h}),EN.apply(this,arguments)}function IN(n,t){const e=nr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),va(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Kj(n){const{app:t}=n,e=nr(t);let i=e.tokenRefresher;i||(i=function SZ(n){const{app:t}=n;return new dZ((0,K.Z)(function*(){let i;if(i=nr(t).token?yield YT(n,!0):yield YT(n),i.error)throw i.error}),()=>!0,()=>{const e=nr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),va(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Qj(n,t){const e=nr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function ZT(n){return n.expireTimeMillis-Date.now()>0}function MZ(n){return{token:AZ(TZ),error:n}}class xZ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=nr(this.app);for(const e of t)IN(this.app,e.next);return Promise.resolve()}}const s$="app-check-internal";!function zZ(){(0,xt._registerComponent)(new ps.wA("app-check",n=>function kZ(n,t){return new xZ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(s$).initialize()})),(0,xt._registerComponent)(new ps.wA(s$,n=>function RZ(n){return{getToken:t=>YT(n,t),addTokenListener:t=>function DN(n,t,e,i){const{app:r}=n,s=nr(r),l={next:e,error:i,type:t};if(va(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&ZT(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),Kj(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Kj(n))}(n,"INTERNAL",t),removeTokenListener:t=>IN(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xt.registerVersion)("@firebase/app-check","0.5.12")}();class i_{constructor(){return jb("app-check")}}typeof window<"u"&&window,N(127);const a$=new c.OlP("angularfire2.auth.use-emulator"),l$=new c.OlP("angularfire2.auth.settings"),c$=new c.OlP("angularfire2.auth.tenant-id"),u$=new c.OlP("angularfire2.auth.langugage-code"),d$=new c.OlP("angularfire2.auth.use-device-language"),h$=new c.OlP("angularfire.auth.persistence"),f$=(n,t,e,i,r,s,l,h)=>(0,R.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[_,b]of Object.entries(l))p.settings[_]=b;return h&&p.setPersistence(h),p},[e,i,r,s,l,h]);let p$=(()=>{class n{constructor(e,i,r,s,l,h,p,_,b,D,A,x){const O=new rt.x,q=Ve(void 0).pipe((0,pf.Q)(l.outsideAngular),Kn(()=>s.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,st.U)(()=>(0,R.on)(e,s,i)),(0,st.U)(oe=>f$(oe,s,h,_,b,D,p,A)),Lj({bufferSize:1,refCount:!1}));if(Rd(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ve(null);else{q.pipe(go()).subscribe();const ze=q.pipe(Kn(Qe=>Qe.getRedirectResult().then(dt=>dt,()=>null)),v,Lj({bufferSize:1,refCount:!1})),qe=q.pipe(Kn(Qe=>new Bn.y(dt=>({unsubscribe:s.runOutsideAngular(()=>Qe.onAuthStateChanged(bt=>dt.next(bt),bt=>dt.error(bt),()=>dt.complete()))})))),ot=q.pipe(Kn(Qe=>new Bn.y(dt=>({unsubscribe:s.runOutsideAngular(()=>Qe.onIdTokenChanged(bt=>dt.next(bt),bt=>dt.error(bt),()=>dt.complete()))}))));this.authState=ze.pipe(Vj(qe),(0,ff.R)(l.outsideAngular),(0,pf.Q)(l.insideAngular)),this.user=ze.pipe(Vj(ot),(0,ff.R)(l.outsideAngular),(0,pf.Q)(l.insideAngular)),this.idToken=this.user.pipe(Kn(Qe=>Qe?(0,Xt.D)(Qe.getIdToken()):Ve(null))),this.idTokenResult=this.user.pipe(Kn(Qe=>Qe?(0,Xt.D)(Qe.getIdTokenResult()):Ve(null))),this.credential=(0,fs.T)(ze,O,this.authState.pipe(Jt(Qe=>!Qe))).pipe((0,st.U)(Qe=>Qe?.user?Qe:null),(0,ff.R)(l.outsideAngular),(0,pf.Q)(l.insideAngular))}return(0,R.pX)(this,q,s,{spy:{apply:(oe,ze,qe)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&qe.then(ot=>O.next(ot))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(R.Dh),c.LFG(R.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(o),c.LFG(a$,8),c.LFG(l$,8),c.LFG(c$,8),c.LFG(u$,8),c.LFG(d$,8),c.LFG(h$,8),c.LFG(i_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function m$(n,t){return function KZ(n,t=ec){return new Bn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function xN(n,t){return m$(n,t).pipe((0,st.U)(e=>({payload:e,type:"query"})))}function QT(n,t){return xN(n,t).pipe(hi(void 0),M(),(0,st.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,h)=>{const p=r.find(b=>b.doc.ref.isEqual(l.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function g$(n,t,e){return QT(n,e).pipe(ta((i,r)=>function XZ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function JZ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return kN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return kN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return kN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),ym(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function kN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function _$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class y${constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=QT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,st.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(hi(void 0),M(),Jt(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),v)}auditTrail(t){return this.stateChanges(t).pipe(ta((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=_$(t);return g$(this.query,e,this.afs.schedulers.outsideAngular).pipe(v)}valueChanges(t={}){return xN(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),v)}get(t){return(0,Xt.D)(this.query.get(t)).pipe(v)}add(t){return this.ref.add(t)}doc(t){return new v$(this.ref.doc(t),this.afs)}}class v${constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=b$(i,e);return new y$(r,s,this.afs)}snapshotChanges(){return function QZ(n,t){return m$(n,t).pipe(hi(void 0),M(),(0,st.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(v)}valueChanges(t={}){return this.snapshotChanges().pipe((0,st.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Xt.D)(this.ref.get(t)).pipe(v)}}class eK{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?QT(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Jt(e=>e.length>0),v):QT(this.query,this.afs.schedulers.outsideAngular).pipe(v)}auditTrail(t){return this.stateChanges(t).pipe(ta((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=_$(t);return g$(this.query,e,this.afs.schedulers.outsideAngular).pipe(v)}valueChanges(t={}){return xN(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),v)}get(t){return(0,Xt.D)(this.query.get(t)).pipe(v)}}const tK=new c.OlP("angularfire2.enableFirestorePersistence"),nK=new c.OlP("angularfire2.firestore.persistenceSettings"),iK=new c.OlP("angularfire2.firestore.settings"),rK=new c.OlP("angularfire2.firestore.use-emulator");function b$(n,t=(e=>e)){return{query:t(n),ref:n}}let Jw=(()=>{class n{constructor(e,i,r,s,l,h,p,_,b,D,A,x,O,q,oe,ze,qe){this.schedulers=p;const ot=(0,R.on)(e,h,i),Qe=b;D&&f$(ot,h,A,O,q,oe,x,ze),[this.firestore,this.persistenceEnabled$]=(0,R.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const dt=h.runOutsideAngular(()=>ot.firestore());if(s&&dt.settings(s),Qe&&dt.useEmulator(...Qe),r&&!Rd(l)){const bt=()=>{try{return(0,Xt.D)(dt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),Ve(!1)}};return[dt,h.runOutsideAngular(bt)]}return[dt,Ve(!1)]},[s,Qe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:l}=b$(r,i),h=this.schedulers.ngZone.run(()=>s);return new y$(h,l,this)}collectionGroup(e,i){const r=i||(l=>l),s=this.firestore.collectionGroup(e);return new eK(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new v$(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(R.Dh),c.LFG(R.xv,8),c.LFG(tK,8),c.LFG(iK,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(o),c.LFG(nK,8),c.LFG(rK,8),c.LFG(p$,8),c.LFG(a$,8),c.LFG(l$,8),c.LFG(c$,8),c.LFG(u$,8),c.LFG(d$,8),c.LFG(h$,8),c.LFG(i_,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const sK=["mat-button",""],oK=["*"],lK=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],cK=xu(KE(QE(class{constructor(n){this._elementRef=n}})));let ad=(()=>{class n extends cK{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of lK)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(xi),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(eD,5),2&e){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:sK,ngContentSelectors:oK,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[eD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),w$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Bm,Tn,Tn]}),n})();const uK=["connectionContainer"],dK=["inputContainer"],hK=["label"];function fK(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function pK(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function mK(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function gK(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function _K(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function yK(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.updateOutlineGap())}),c.YNc(2,mK,4,1,"ng-container",12),c.YNc(3,gK,1,0,"ng-content",12),c.YNc(4,_K,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function vK(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function bK(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function wK(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function CK(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function EK(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,CK,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const DK=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],IK=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],TK=new c.OlP("MatError"),AK={transitionMessages:fa("transitionMessages",[$s("enter",hn({opacity:1,transform:"translateY(0%)"})),xr("void => enter",[hn({opacity:0,transform:"translateY(-5px)"}),fr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let RN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();const SK=new c.OlP("MatHint");let e0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),MK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const xK=new c.OlP("MatPrefix"),C$=new c.OlP("MatSuffix");let E$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:C$,useExisting:n}])]}),n})(),D$=0;const RK=xu(class{constructor(n){this._elementRef=n}},"primary"),OK=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ON=new c.OlP("MatFormField");let PN=(()=>{class n extends RK{constructor(e,i,r,s,l,h,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=l,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new rt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+D$++,this._labelId="mat-form-field-label-"+D$++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Dn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(hi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(yn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(hi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(hi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(yn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Du(this._label.nativeElement,"transitionend").pipe(gn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<b.length;D++)b[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let l=0,h=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(b),A=e.children,x=this._getStartEnd(A[0].getBoundingClientRect());let O=0;for(let q=0;q<A.length;q++)O+=A[q].offsetWidth;l=Math.abs(x-D)-5,h=O>0?.75*O+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${l}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Mr,8),c.Y36(OK,8),c.Y36(oi),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,RN,5),c.Suo(r,RN,7),c.Suo(r,e0,5),c.Suo(r,e0,7),c.Suo(r,MK,5),c.Suo(r,TK,5),c.Suo(r,SK,5),c.Suo(r,xK,5),c.Suo(r,C$,5)),2&e){let s;c.iGM(s=c.CRH())&&(i._controlNonStatic=s.first),c.iGM(s=c.CRH())&&(i._controlStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildNonStatic=s.first),c.iGM(s=c.CRH())&&(i._labelChildStatic=s.first),c.iGM(s=c.CRH())&&(i._placeholderChild=s.first),c.iGM(s=c.CRH())&&(i._errorChildren=s),c.iGM(s=c.CRH())&&(i._hintChildren=s),c.iGM(s=c.CRH())&&(i._prefixChildren=s),c.iGM(s=c.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(c.Gf(uK,7),c.Gf(dK,5),c.Gf(hK,5)),2&e){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:ON,useExisting:n}]),c.qOj],ngContentSelectors:IK,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(c.F$t(DK),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),c.YNc(3,fK,9,0,"ng-container",3),c.YNc(4,pK,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,yK,5,16,"label",8),c.qZA()(),c.YNc(10,vK,2,0,"div",9),c.qZA(),c.YNc(11,bK,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,wK,2,1,"div",12),c.YNc(14,EK,5,2,"div",13),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[Lr,ns,Ia,OM],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[AK.transitionMessages]},changeDetection:0}),n})(),NN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,Tn,$y,Tn]}),n})();const T$=Ql({passive:!0});let PK=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return cr.E;const i=Us(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new rt.x,l="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,T$),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,T$)}}),s}stopMonitoring(e){const i=Us(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oi),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function S$(...n){const t=(0,Xo.jO)(n),{args:e,keys:i}=Rp(n),r=new Bn.y(s=>{const{length:l}=e;if(!l)return void s.complete();const h=new Array(l);let p=l,_=l;for(let b=0;b<l;b++){let D=!1;(0,mo.Xf)(e[b]).subscribe((0,bn.x)(s,A=>{D||(D=!0,_--),h[b]=A},()=>p--,void 0,()=>{(!p||!D)&&(_||s.next(i?Jo(i,h):h),s.complete())}))}});return t?r.pipe(po(t)):r}let M$=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Yf=(()=>{class n extends M${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ba=new c.OlP("NgValueAccessor"),FK={provide:ba,useExisting:(0,c.Gpc)(()=>r_),multi:!0},VK=new c.OlP("CompositionEventMode");let r_=(()=>{class n extends M${constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LK(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(VK,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([FK]),c.qOj]}),n})();function ld(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function k$(n){return null!=n&&"number"==typeof n.length}const vr=new c.OlP("NgValidators"),cd=new c.OlP("NgAsyncValidators"),UK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class R${static min(t){return function O$(n){return t=>{if(ld(t.value)||ld(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function P$(n){return t=>{if(ld(t.value)||ld(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function N$(n){return ld(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function F$(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function L$(n){return ld(n.value)||UK.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function V$(n){return t=>ld(t.value)||!k$(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function B$(n){return t=>k$(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function U$(n){if(!n)return XT;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ld(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return W$(t)}static composeAsync(t){return q$(t)}}function XT(n){return null}function H$(n){return null!=n}function j$(n){return(0,c.QGY)(n)?(0,Xt.D)(n):n}function $$(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function z$(n,t){return t.map(e=>e(n))}function G$(n){return n.map(t=>function HK(n){return!n.validate}(t)?t:e=>t.validate(e))}function W$(n){if(!n)return null;const t=n.filter(H$);return 0==t.length?null:function(e){return $$(z$(e,t))}}function FN(n){return null!=n?W$(G$(n)):null}function q$(n){if(!n)return null;const t=n.filter(H$);return 0==t.length?null:function(e){return S$(z$(e,t).map(j$)).pipe((0,st.U)($$))}}function LN(n){return null!=n?q$(G$(n)):null}function Y$(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Z$(n){return n._rawValidators}function K$(n){return n._rawAsyncValidators}function VN(n){return n?Array.isArray(n)?n:[n]:[]}function JT(n,t){return Array.isArray(n)?n.includes(t):n===t}function Q$(n,t){const e=VN(t);return VN(n).forEach(r=>{JT(e,r)||e.push(r)}),e}function X$(n,t){return VN(t).filter(e=>!JT(n,e))}class J${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=LN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zr extends J${get formDirective(){return null}get path(){return null}}class Ac extends J${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let eA=(()=>{class n extends class e3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ac,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})();const t0="VALID",nA="INVALID",s_="PENDING",n0="DISABLED";function jN(n){return(iA(n)?n.validators:n)||null}function n3(n){return Array.isArray(n)?FN(n):n||null}function $N(n,t){return(iA(t)?t.asyncValidators:n)||null}function r3(n){return Array.isArray(n)?LN(n):n||null}function iA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class a3{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=n3(this._rawValidators),this._composedAsyncValidatorFn=r3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===t0}get invalid(){return this.status===nA}get pending(){return this.status==s_}get disabled(){return this.status===n0}get enabled(){return this.status!==n0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=n3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=r3(t)}addValidators(t){this.setValidators(Q$(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Q$(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X$(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X$(t,this._rawAsyncValidators))}hasValidator(t){return JT(this._rawValidators,t)}hasAsyncValidator(t){return JT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=s_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=n0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=t0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===t0||this.status===s_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?n0:t0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=s_,this._hasOwnPendingAsyncValidator=!0;const e=j$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?n0:this.errors?nA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(s_)?s_:this._anyControlsHaveStatus(nA)?nA:t0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){iA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class zN extends a3{constructor(t,e,i){super(jN(e),$N(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function o3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function s3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function r0(n,t){GN(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function QK(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&l3(n,t)})}(n,t),function JK(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function XK(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&l3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function KK(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function sA(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),aA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function oA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function GN(n,t){const e=Z$(n);null!==t.validator?n.setValidators(Y$(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=K$(n);null!==t.asyncValidator?n.setAsyncValidators(Y$(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();oA(t._rawValidators,r),oA(t._rawAsyncValidators,r)}function aA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Z$(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=K$(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return oA(t._rawValidators,i),oA(t._rawAsyncValidators,i),e}function l3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function c3(n,t){GN(n,t)}function d3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const r7={provide:Zr,useExisting:(0,c.Gpc)(()=>lA)},s0=(()=>Promise.resolve(null))();let lA=(()=>{class n extends Zr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new zN({},FN(e),LN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){s0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),r0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){s0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){s0.then(()=>{const i=this._findContainer(e.path),r=new zN({});c3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){s0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){s0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,d3(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(vr,10),c.Y36(cd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([r7]),c.qOj]}),n})();function h3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function f3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const p3=class extends a3{constructor(t=null,e,i){super(jN(e),$N(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=f3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){h3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){h3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){f3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},a7={provide:Ac,useExisting:(0,c.Gpc)(()=>o0)},_3=(()=>Promise.resolve(null))();let o0=(()=>{class n extends Ac{constructor(e,i,r,s,l){super(),this._changeDetectorRef=l,this.control=new p3,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function qN(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===r_?e=s:function n7(n){return Object.getPrototypeOf(n.constructor)===Yf}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function WN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){r0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){_3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,c.D6c)(i);_3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function rA(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Zr,9),c.Y36(vr,10),c.Y36(cd,10),c.Y36(ba,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([a7]),c.qOj,c.TTD]}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const p7={provide:Zr,useExisting:(0,c.Gpc)(()=>cA)};let cA=(()=>{class n extends Zr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(aA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return r0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){sA(e.control||null,e,!1),function i7(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,d3(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(sA(i||null,e),(n=>n instanceof p3)(r)&&(r0(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);c3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function e7(n,t){return aA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){GN(this.form,this),this._oldForm&&aA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(vr,10),c.Y36(cd,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([p7]),c.qOj,c.TTD]}),n})(),R7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[v3]}),n})(),O7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[R7]}),n})();const L3=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),N7=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let F7=0;const L7=Ox(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new rt.x}});let JN=(()=>{class n extends L7{constructor(e,i,r,s,l,h,p,_,b,D){super(h,s,l,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=D,this._uid="mat-input-"+F7++,this.focused=!1,this.stateChanges=new rt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>NC().has(O)),this._iOSKeyupListener=O=>{const q=O.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,x=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===x,this._isTextarea="textarea"===x,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Dn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(R$.required)??!1}set required(e){this._required=Dn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&NC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Dn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){N7.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(oi),c.Y36(Ac,10),c.Y36(lA,8),c.Y36(cA,8),c.Y36(pv),c.Y36(L3,10),c.Y36(PK),c.Y36(c.R0b),c.Y36(ON,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:RN,useExisting:n}]),c.qOj,c.TTD]}),n})(),V7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pv],imports:[A$,NN,Tn,A$,NN]}),n})();const B7=["primaryValueBar"],U7=xu(class{constructor(n){this._elementRef=n}},"primary"),H7=new c.OlP("mat-progress-bar-location",{providedIn:"root",factory:function j7(){const n=(0,c.f3M)(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),$7=new c.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let z7=0,e1=(()=>{class n extends U7{constructor(e,i,r,s,l,h){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=h,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._animationEndSubscription=Un.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+z7++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,l&&(l.color&&(this.color=this.defaultColor=l.color),this.mode=l.mode||this.mode)}get value(){return this._value}set value(e){this._value=V3(bm(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=V3(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Du(e,"transitionend").pipe(Jt(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.QbO,8),c.Y36(H7,8),c.Y36($7,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&c.Gf(B7,5),2&e){let r;c.iGM(r=c.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(c.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),c.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.O4$(),c.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),c._UZ(4,"circle",3),c.qZA()(),c._UZ(5,"rect",4),c.qZA(),c.kcU(),c._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),c.qZA()),2&e&&(c.xp6(3),c.Q6J("id",i.progressbarId),c.xp6(2),c.uIk("fill",i._rectangleFillValue),c.xp6(1),c.Q6J("ngStyle",i._bufferTransform()),c.xp6(1),c.Q6J("ngStyle",i._primaryTransform()))},dependencies:[Oc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function V3(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let G7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,Tn,Tn]}),n})();function W7(n,t){1&n&&c._UZ(0,"mat-progress-bar",11)}let q7=(()=>{class n{constructor(e,i){this.dialogRef=e,this.firestore=i,this.loading=!1}ngOnInit(){}saveUser(){this.firestore.collection("users").doc(this.userId).update(this.user.toJSON()).then(()=>{this.loading=!1,this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nf),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dialog-edit-address"]],decls:25,vars:9,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"full-width"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"mr-16"],["appearance","outline"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,W7,1,0,"mat-progress-bar",1),c.TgZ(2,"h1",2),c._uU(3,"Edit Address"),c.qZA(),c.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"Street + House No."),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(s){return i.user.street=s}),c.qZA()()(),c.TgZ(10,"div")(11,"mat-form-field",6)(12,"mat-label"),c._uU(13,"Zip code"),c.qZA(),c.TgZ(14,"input",5),c.NdJ("ngModelChange",function(s){return i.user.zipCode=s}),c.qZA()(),c.TgZ(15,"mat-form-field",7)(16,"mat-label"),c._uU(17,"City"),c.qZA(),c.TgZ(18,"input",5),c.NdJ("ngModelChange",function(s){return i.user.city=s}),c.qZA()()(),c.TgZ(19,"div")(20,"div",8)(21,"button",9),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(22,"Cancel"),c.qZA(),c.TgZ(23,"button",10),c.NdJ("click",function(){return i.saveUser()}),c._uU(24,"Safe"),c.qZA()()()()()),2&e&&(c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(8),c.Q6J("disabled",i.loading)("ngModel",i.user.street),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.zipCode),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.city),c.xp6(3),c.Q6J("disabled",i.loading),c.xp6(2),c.Q6J("disabled",i.loading))},dependencies:[Lr,ad,dc,Ev,Dv,PN,e0,JN,r_,eA,o0,e1],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:unset!important}"]}),n})();const Y7=["mat-calendar-body",""];function Z7(n,t){if(1&n&&(c.TgZ(0,"tr",2)(1,"td",3),c._uU(2),c.qZA()()),2&n){const e=c.oxw();c.xp6(1),c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e.numCols),c.xp6(1),c.hij(" ",e.label," ")}}function K7(n,t){if(1&n&&(c.TgZ(0,"td",3),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e._firstRowOffset),c.xp6(1),c.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Q7(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"td",7)(1,"button",8),c.NdJ("click",function(r){const l=c.CHM(e).$implicit,h=c.oxw(2);return c.KtG(h._cellClicked(l,r))})("focus",function(r){const l=c.CHM(e).$implicit,h=c.oxw(2);return c.KtG(h._emitActiveDateChange(l,r))}),c.TgZ(2,"div",9),c._uU(3),c.qZA(),c._UZ(4,"div",10),c.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw().index,s=c.oxw();c.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),c.uIk("data-mat-row",r)("data-mat-col",i),c.xp6(1),c.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),c.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),c.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),c.xp6(1),c.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),c.xp6(1),c.hij(" ",e.displayValue," ")}}function X7(n,t){if(1&n&&(c.TgZ(0,"tr",4),c.YNc(1,K7,2,6,"td",5),c.YNc(2,Q7,5,47,"td",6),c.qZA()),2&n){const e=t.$implicit,i=t.index,r=c.oxw();c.xp6(1),c.Q6J("ngIf",0===i&&r._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",e)}}function J7(n,t){if(1&n&&(c.TgZ(0,"th",5)(1,"span",6),c._uU(2),c.qZA(),c.TgZ(3,"span",7),c._uU(4),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e.long),c.xp6(2),c.Oqu(e.narrow)}}const eQ=["*"];function tQ(n,t){}function nQ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s.activeDate=r)})("_userSelection",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._dateSelected(r))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function iQ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s.activeDate=r)})("monthSelected",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._goToDateInView(r,"month"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function rQ(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s.activeDate=r)})("yearSelected",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._goToDateInView(r,"year"))}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function sQ(n,t){}const oQ=["button"];function aQ(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const lQ=[[["","matDatepickerToggleIcon",""]]],cQ=["[matDatepickerToggleIcon]"];let a0=(()=>{class n{constructor(){this.changes=new rt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t1{constructor(t,e,i,r,s={},l=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=l,this.rawValue=h}}let o_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this.activeDateChange=new c.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return n1(e,this.startValue,this.endValue)}_isRangeEnd(e){return r1(e,this.startValue,this.endValue)}_isInRange(e){return s1(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return n1(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const l=this.rows[i-1];s=l&&l[l.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const l=this.rows[i+1];s=l&&l[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return r1(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return s1(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return n1(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return r1(e,this.previewStart,this.previewEnd)}_isInPreview(e){return s1(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(B3(e)?i=e:B3(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:Y7,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(c.YNc(0,Z7,3,6,"tr",0),c.YNc(1,X7,3,2,"tr",1)),2&e&&(c.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",i.rows))},dependencies:[jo,es,Lr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function B3(n){return"TD"===n.nodeName}function n1(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function r1(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function s1(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class ws{constructor(t,e){this.start=t,this.end=e}}let ud=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new rt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),uQ=(()=>{class n extends ud{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ki))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const U3={provide:ud,deps:[[new c.FiY,new c.tp0,ud],ki],useFactory:function hQ(n,t){return n||new uQ(t)}},uA=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let H3=(()=>{class n{constructor(e,i,r,s,l){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=l,this._rerenderSubscription=Un.w0.EMPTY,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(hi(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,l;this._selected instanceof ws?(s=this._getDateInCurrentMonth(this._selected.start),l=this._getDateInCurrentMonth(this._selected.end)):s=l=this._getDateInCurrentMonth(this._selected),(s!==i||l!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!ol(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((l,h)=>({long:l,narrow:i[h]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(l),p=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(l,"month"):void 0;this._weeks[this._weeks.length-1].push(new t1(r+1,i[r],p,h,_,this._getCellCompareValue(l),l))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof ws?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(lc,8),c.Y36(ki,8),c.Y36(Mr,8),c.Y36(uA,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(o_,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c.YNc(3,J7,5,2,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA()(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngForOf",i._weekdays),c.xp6(3),c.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[es,o_],encapsulation:2,changeDetection:0}),n})(),j3=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Un.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),$3(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(hi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(l=>this._createCellForYear(l))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return l0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new t1(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ws){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(ki,8),c.Y36(Mr,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(o_,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[o_],encapsulation:2,changeDetection:0}),n})();function $3(n,t,e,i,r){const s=n.getYear(t),l=n.getYear(e),h=z3(n,i,r);return Math.floor((s-h)/24)===Math.floor((l-h)/24)}function l0(n,t,e,i){return function gQ(n,t){return(n%t+t)%t}(n.getYear(t)-z3(n,e,i),24)}function z3(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let G3=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Un.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(hi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),l=this.dateClass?this.dateClass(r,"year"):void 0;return new t1(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),l)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof ws?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(lc,8),c.Y36(ki,8),c.Y36(Mr,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&c.Gf(o_,5),2&e){let r;c.iGM(r=c.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(c.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),c._UZ(3,"th",2),c.qZA()(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),c.qZA()()),2&e&&(c.xp6(4),c.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[o_],encapsulation:2,changeDetection:0}),n})(),_Q=0,yQ=(()=>{class n{constructor(e,i,r,s,l){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+_Q++,this.calendar.stateChanges.subscribe(()=>l.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-l0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),l=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,l)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):$3(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(a0),c.Y36((0,c.Gpc)(()=>l1)),c.Y36(ki,8),c.Y36(lc,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:eQ,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.currentPeriodClicked()}),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"polygon",4),c.qZA()(),c.kcU(),c._UZ(7,"div",5),c.Hsn(8),c.TgZ(9,"button",6),c.NdJ("click",function(){return i.previousClicked()}),c.qZA(),c.TgZ(10,"button",7),c.NdJ("click",function(){return i.nextClicked()}),c.qZA()()()),2&e&&(c.xp6(2),c.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),c.xp6(1),c.uIk("id",i._buttonDescriptionId),c.xp6(1),c.Oqu(i.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==i.calendar.currentView),c.xp6(4),c.Q6J("disabled",!i.previousEnabled()),c.uIk("aria-label",i.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!i.nextEnabled()),c.uIk("aria-label",i.nextButtonLabel))},dependencies:[ad],encapsulation:2,changeDetection:0}),n})(),l1=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this.stateChanges=new rt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof ws?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new da(this.headerComponent||yQ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof ws||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(a0),c.Y36(ki,8),c.Y36(lc,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(c.Gf(H3,5),c.Gf(G3,5),c.Gf(j3,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.monthView=r.first),c.iGM(r=c.CRH())&&(i.yearView=r.first),c.iGM(r=c.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[c._Bn([U3]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(c.YNc(0,tQ,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,nQ,1,8,"mat-month-view",2),c.YNc(3,iQ,1,6,"mat-year-view",3),c.YNc(4,rQ,1,6,"mat-multi-year-view",4),c.qZA()),2&e&&(c.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",i.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},dependencies:[ns,Ia,Tm,qh,H3,G3,j3],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const W3={transformPanel:fa("transformPanel",[xr("void => enter-dropdown",fr("120ms cubic-bezier(0, 0, 0.2, 1)",cc([hn({opacity:0,transform:"scale(1, 0.8)"}),hn({opacity:1,transform:"scale(1, 1)"})]))),xr("void => enter-dialog",fr("150ms cubic-bezier(0, 0, 0.2, 1)",cc([hn({opacity:0,transform:"scale(0.7)"}),hn({transform:"none",opacity:1})]))),xr("* => void",fr("100ms linear",hn({opacity:0})))]),fadeInCalendar:fa("fadeInCalendar",[$s("void",hn({opacity:0})),$s("enter",hn({opacity:1})),xr("void => *",fr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let vQ=0;const q3=new c.OlP("mat-datepicker-scroll-strategy"),wQ={provide:q3,deps:[js],useFactory:function bQ(n){return()=>n.scrollStrategies.reposition()}},CQ=xu(class{constructor(n){this._elementRef=n}});let EQ=(()=>{class n extends CQ{constructor(e,i,r,s,l,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=l,this._subscriptions=new Un.w0,this._animationDone=new rt.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof ws;if(s&&this._rangeSelectionStrategy){const l=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(l,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ud),c.Y36(ki),c.Y36(uA,8),c.Y36(a0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&c.Gf(l1,5),2&e){let r;c.iGM(r=c.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&c.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(c.d8E("@transformPanel",i._animationState),c.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0)(1,"mat-calendar",1),c.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),c.qZA(),c.YNc(2,sQ,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),c._uU(4),c.qZA()()),2&e){let r;c.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),c.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),c.xp6(1),c.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),c.xp6(1),c.Q6J("cdkPortalOutlet",i._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!i._closeButtonFocused),c.Q6J("color",i.color||"primary"),c.xp6(1),c.Oqu(i._closeButtonText)}},dependencies:[jo,ad,WM,qh,l1],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[W3.transformPanel,W3.fadeInCalendar]},changeDetection:0}),n})(),Y3=(()=>{class n{constructor(e,i,r,s,l,h,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=l,this._dir=h,this._model=p,this._inputStateChanges=Un.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+vQ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new rt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Dn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Dn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Dn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function wu(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Dn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof rv&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=pu(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(gn(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new da(EQ,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Yh({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const l=s.keyCode;(38===l||40===l||37===l||39===l||33===l||34===l)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(gn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",l="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:l,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:l},{originX:r,originY:l,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:l}])}_getCloseStream(e){return(0,fs.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Jt(i=>27===i.keyCode&&!ol(i)||this.datepickerInput&&ol(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(js),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(q3),c.Y36(ki,8),c.Y36(Mr,8),c.Y36(ud))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),Z3=(()=>{class n extends Y3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([U3,{provide:Y3,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class dA{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let DQ=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new rt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Un.w0.EMPTY,this._localeSubscription=Un.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!l||this._matchesFilter(l)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMinDate();return!h||!l||this._dateAdapter.compareDate(h,l)<=0?null:{matDatepickerMin:{min:h,actual:l}}},this._maxValidator=s=>{const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),h=this._getMaxDate();return!h||!l||this._dateAdapter.compareDate(h,l)>=0?null:{matDatepickerMax:{max:h,actual:l}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Dn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new dA(this,this._elementRef.nativeElement)),this.dateChange.emit(new dA(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function IQ(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new dA(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new dA(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ki,8),c.Y36(lc,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const TQ={provide:ba,useExisting:(0,c.Gpc)(()=>hA),multi:!0},AQ={provide:vr,useExisting:(0,c.Gpc)(()=>hA),multi:!0};let hA=(()=>{class n extends DQ{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Un.w0.EMPTY,this._validator=R$.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ki,8),c.Y36(lc,8),c.Y36(ON,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(c.Ikx("disabled",i.disabled),c.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([TQ,AQ,{provide:L3,useExisting:n}]),c.qOj]}),n})(),SQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),K3=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Un.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Dn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Ve(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ve(),r=this.datepicker?(0,fs.T)(this.datepicker.openedStream,this.datepicker.closedStream):Ve();this._stateChanges.unsubscribe(),this._stateChanges=(0,fs.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(a0),c.Y36(c.sBO),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,SQ,5),2&e){let s;c.iGM(s=c.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&c.Gf(oQ,5),2&e){let r;c.iGM(r=c.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i._open(s)}),2&e&&(c.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:cQ,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(c.F$t(lQ),c.TgZ(0,"button",0,1),c.YNc(2,aQ,2,0,"svg",2),c.Hsn(3),c.qZA()),2&e&&(c.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),c.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),c.xp6(2),c.Q6J("ngIf",!i._customIcon))},dependencies:[Lr,ad],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),MQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[a0,wQ],imports:[Ss,w$,hr,Sm,Su,Tn,oc]}),n})();function xQ(n,t){1&n&&c._UZ(0,"mat-progress-bar",16)}let kQ=(()=>{class n{constructor(e,i){this.dialogRef=e,this.firestore=i,this.loading=!1,this.birthdate=new Date}ngOnInit(){}saveUser(){this.loading=!0,this.firestore.collection("users").doc(this.userId).update(this.user.toJSON()).then(()=>{this.loading=!1,this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nf),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dialog-edit-user"]],decls:33,vars:13,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"mr-16"],["matInput","","placeholder","First Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Last Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"full-width"],["matInput","","placeholder","E-Mail",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker1",""],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0),c.YNc(1,xQ,1,0,"mat-progress-bar",1),c.TgZ(2,"h1",2),c._uU(3,"Edit User"),c.qZA(),c.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"First Name"),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(s){return i.user.firstName=s}),c.qZA()(),c.TgZ(10,"mat-form-field",6)(11,"mat-label"),c._uU(12,"Last Name"),c.qZA(),c.TgZ(13,"input",7),c.NdJ("ngModelChange",function(s){return i.user.lastName=s}),c.qZA()()(),c.TgZ(14,"div")(15,"mat-form-field",8)(16,"mat-label"),c._uU(17,"E-Mail"),c.qZA(),c.TgZ(18,"input",9),c.NdJ("ngModelChange",function(s){return i.user.email=s}),c.qZA()()(),c.TgZ(19,"div")(20,"mat-form-field",8)(21,"mat-label"),c._uU(22,"Birth Date"),c.qZA(),c.TgZ(23,"input",10),c.NdJ("ngModelChange",function(s){return i.birthdate=s}),c.qZA(),c._UZ(24,"mat-datepicker-toggle",11)(25,"mat-datepicker",null,12),c.qZA()(),c.TgZ(27,"div")(28,"div",13)(29,"button",14),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(30,"Cancel"),c.qZA(),c.TgZ(31,"button",15),c.NdJ("click",function(){return i.saveUser()}),c._uU(32,"Safe"),c.qZA()()()()()),2&e){const r=c.MAs(26);c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(8),c.Q6J("disabled",i.loading)("ngModel",i.user.firstName),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.lastName),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.email),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.birthdate)("matDatepicker",r),c.xp6(1),c.Q6J("for",r),c.xp6(5),c.Q6J("disabled",i.loading),c.xp6(2),c.Q6J("disabled",i.loading)}},dependencies:[Lr,ad,dc,Ev,Dv,PN,e0,E$,JN,Z3,hA,K3,r_,eA,o0,e1],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:unset!important}"]}),n})();class RQ{}class dd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class OQ{encodeKey(t){return Q3(t)}encodeValue(t){return Q3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const NQ=/%(\d[a-f0-9])/gi,FQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Q3(n){return encodeURIComponent(n).replace(NQ,(t,e)=>FQ[e]??t)}function fA(n){return`${n}`}class hd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new OQ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PQ(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(l)||[];p.push(h),e.set(l,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(fA):[fA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new hd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(fA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(fA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class LQ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function X3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function J3(n){return typeof Blob<"u"&&n instanceof Blob}function ez(n){return typeof FormData<"u"&&n instanceof FormData}class c0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function VQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new dd),this.context||(this.context=new LQ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+l}}else this.params=new hd,this.urlWithParams=e}serializeBody(){return null===this.body?null:X3(this.body)||J3(this.body)||ez(this.body)||function BQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ez(this.body)?null:J3(this.body)?this.body.type||null:X3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((D,A)=>D.set(A,t.setHeaders[A]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((D,A)=>D.set(A,t.setParams[A]),_)),new c0(e,i,s,{params:_,headers:p,context:b,reportProgress:h,responseType:r,withCredentials:l})}}var br=(()=>((br=br||{})[br.Sent=0]="Sent",br[br.UploadProgress=1]="UploadProgress",br[br.ResponseHeader=2]="ResponseHeader",br[br.DownloadProgress=3]="DownloadProgress",br[br.Response=4]="Response",br[br.User=5]="User",br))();class c1 extends class UQ{constructor(t,e=200,i="OK"){this.headers=t.headers||new dd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=br.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new c1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function u1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nz=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof c0)s=e;else{let p,_;p=r.headers instanceof dd?r.headers:new dd(r.headers),r.params&&(_=r.params instanceof hd?r.params:new hd({fromObject:r.params})),s=new c0(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=Ve(s).pipe(dn(p=>this.handler.handle(p)));if(e instanceof c0||"events"===r.observe)return l;const h=l.pipe(Jt(p=>p instanceof c1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,st.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,st.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new hd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,u1(r,i))}post(e,i,r={}){return this.request("POST",e,u1(r,i))}put(e,i,r={}){return this.request("PUT",e,u1(r,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(RQ))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jQ=["*"];let pA;function u0(n){return function $Q(){if(void 0===pA&&(pA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(pA=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return pA}()?.createHTML(n)||n}function iz(n){return Error(`Unable to find icon with the name "${n}"`)}function rz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function sz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Kf{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let mA=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Kf(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw sz(r);const h=u0(l);return this._addSvgIconConfig(e,i,new Kf("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Kf(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(c.q3G.HTML,i);if(!s)throw sz(i);const l=u0(s);return this._addSvgIconSetConfig(e,new Kf("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw rz(e);const r=this._cachedIconsByUrl.get(i);return r?Ve(gA(r)):this._loadSvgIconFromConfig(new Kf(e,null)).pipe(En(s=>this._cachedIconsByUrl.set(i,s)),(0,st.U)(s=>gA(s)))}getNamedSvgIcon(e,i=""){const r=oz(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):Vr(iz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ve(gA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,st.U)(i=>gA(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ve(r):S$(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Si(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),Ve(null)})))).pipe((0,st.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw iz(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(l,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(En(i=>e.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ve(null):this._fetchIcon(e).pipe(En(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const h=this._svgElementFromString(u0("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(u0("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:l,value:h}=r[s];"id"!==l&&i.setAttribute(l,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function zQ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!l)throw rz(i);const h=this._inProgressUrlFetches.get(l);if(h)return h;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,st.U)(_=>u0(_)),Br(()=>this._inProgressUrlFetches.delete(l)),(0,Fj.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(oz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return WQ(s)?new Kf(s.url,null,s.options):new Kf(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(nz,8),c.LFG(Qo),c.LFG(he,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gA(n){return n.cloneNode(!0)}function oz(n,t){return n+":"+t}function WQ(n){return!(!n.url||!n.options)}const qQ=xu(class{constructor(n){this._elementRef=n}}),YQ=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),ZQ=new c.OlP("mat-icon-location",{providedIn:"root",factory:function KQ(){const n=(0,c.f3M)(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),az=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QQ=az.map(n=>`[${n}]`).join(", "),XQ=/^url\(['"]?#(.*?)['"]?\)$/;let d1=(()=>{class n extends qQ{constructor(e,i,r,s,l,h){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Un.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Dn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(QQ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)az.forEach(l=>{const h=i[s],p=h.getAttribute(l),_=p?p.match(XQ):null;if(_){let b=r.get(h);b||(b=[],r.set(h,b)),b.push({name:l,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(gn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(mA),c.$8M("aria-hidden"),c.Y36(ZQ),c.Y36(c.qLn),c.Y36(YQ,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:jQ,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),JQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tn,Tn]}),n})();const e9=["*",[["mat-card-footer"]]],t9=["*","mat-card-footer"];let n9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),i9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),lz=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:t9,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(e9),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),r9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tn,Tn]}),n})();function cz(n,t){return t?e=>Oa(t.pipe(gn(1),function s9(){return(0,Cn.e)((n,t)=>{n.subscribe((0,bn.x)(t,vm.Z))})}()),e.pipe(cz(n))):(0,Di.z)((e,i)=>n(e,i).pipe(gn(1),Os(e)))}function uz(n,t=ec){const e=Hs(n,t);return cz(()=>e)}const o9=["mat-menu-item",""];function a9(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"polygon",3),c.qZA())}const dz=["*"];function l9(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._handleKeydown(r))})("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){c.CHM(e);const s=c.oxw();return c.KtG(s._onAnimationDone(r))}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA()()}if(2&n){const e=c.oxw();c.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),c.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const _A={transformMenu:fa("transformMenu",[$s("void",hn({opacity:0,transform:"scale(0.8)"})),xr("void => enter",fr("120ms cubic-bezier(0, 0, 0.2, 1)",hn({opacity:1,transform:"scale(1)"}))),xr("* => void",fr("100ms 25ms linear",hn({opacity:0})))]),fadeInItems:fa("fadeInItems",[$s("showing",hn({opacity:1})),xr("void => *",[hn({opacity:0}),fr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},c9=new c.OlP("MatMenuContent"),h1=new c.OlP("MAT_MENU_PANEL"),u9=QE(KE(class{}));let yA=(()=>{class n extends u9{constructor(e,i,r,s,l){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new rt.x,this._focused=new rt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(he),c.Y36(xi),c.Y36(h1,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(c.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),c.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:o9,ngContentSelectors:dz,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(c.F$t(),c.Hsn(0),c._UZ(1,"div",0),c.YNc(2,a9,2,0,"svg",1)),2&e&&(c.xp6(1),c.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),c.xp6(1),c.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Lr,eD],encapsulation:2,changeDetection:0}),n})();const hz=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function d9(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let h9=0,d0=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._tabSubscription=Un.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new rt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+h9++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Dn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Dn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new BM(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(hi(this._directDescendantItems),Kn(e=>(0,fs.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(hi(this._directDescendantItems),Kn(i=>(0,fs.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:ol(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(gn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(hi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(hz),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,c9,5),c.Suo(r,yA,5),c.Suo(r,yA,4)),2&e){let s;c.iGM(s=c.CRH())&&(i.lazyContent=s.first),c.iGM(s=c.CRH())&&(i._allItems=s),c.iGM(s=c.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&c.Gf(c.Rgc,5),2&e){let r;c.iGM(r=c.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),f9=(()=>{class n extends d0{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(hz),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:h1,useExisting:n}]),c.qOj],ngContentSelectors:dz,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(c.F$t(),c.YNc(0,l9,3,6,"ng-template"))},dependencies:[jo],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[_A.transformMenu,_A.fadeInItems]},changeDetection:0}),n})();const fz=new c.OlP("mat-menu-scroll-strategy"),m9={provide:fz,deps:[js],useFactory:function p9(n){return()=>n.scrollStrategies.reposition()}},pz=Ql({passive:!0});let g9=(()=>{class n{constructor(e,i,r,s,l,h,p,_,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=p,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Un.w0.EMPTY,this._hoverSubscription=Un.w0.EMPTY,this._menuCloseSubscription=Un.w0.EMPTY,this._handleTouchStart=D=>{Im(D)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=l instanceof d0?l:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,pz),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,pz),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof d0&&(e._startAnimation(),e._directDescendantItems.changes.pipe(yn(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof d0?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Jt(r=>"void"===r.toState),gn(1),yn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Yh({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",l="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,l)):e.setPositionClasses(s,l)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[l,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,_]=[l,h],[b,D]=[r,s],A=0;if(this.triggersSubmenu()){if(D=r="before"===e.xPosition?"start":"end",s=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const x=this._parentMaterialMenu.items.first;this._parentInnerPadding=x?x._getHostElement().offsetTop:0}A="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===l?"bottom":"top",_="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:b,overlayY:l,offsetY:A},{originX:s,originY:p,overlayX:D,overlayY:l,offsetY:A},{originX:r,originY:_,overlayX:b,overlayY:h,offsetY:-A},{originX:s,originY:_,overlayX:D,overlayY:h,offsetY:-A}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ve(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Jt(l=>l!==this._menuItemInstance),Jt(()=>this._menuOpen)):Ve();return(0,fs.T)(e,r,s,i)}_handleMousedown(e){Yy(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Jt(e=>e===this._menuItemInstance&&!e.disabled),uz(0,rc)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof d0&&this.menu._isAnimating?this.menu._animationDone.pipe(gn(1),uz(0,rc),yn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Au(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(js),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36(fz),c.Y36(h1,8),c.Y36(yA,10),c.Y36(Mr,8),c.Y36(xi),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&c.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),_9=(()=>{class n extends g9{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),n})(),y9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[m9],imports:[Ss,Tn,Bm,hr,oc,Tn]}),n})(),v9=(()=>{class n{constructor(e,i,r){this.route=e,this.firestore=i,this.dialog=r,this.userId="",this.user=new fu}ngOnInit(){this.route.paramMap.subscribe(e=>{this.userId=e.get("id"),console.log("GOT ID",this.userId),this.getUser()})}getUser(){this.firestore.collection("users").doc(this.userId).valueChanges().subscribe(e=>{this.user=new fu(e),console.log("retrivec user",this.user)})}editMenu(){const e=this.dialog.open(q7);e.componentInstance.user=new fu(this.user.toJSON()),e.componentInstance.userId=this.userId}editUserDetail(){const e=this.dialog.open(kQ);e.componentInstance.user=new fu(this.user.toJSON()),e.componentInstance.userId=this.userId}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ke),c.Y36(Jw),c.Y36(Hm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user-detail"]],decls:27,vars:8,consts:[[1,"user-deatil-header"],["mat-icon-button","",1,"pin-right-upper-corner",3,"matMenuTriggerFor"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["src","./assets/img/profile.png","alt",""],[1,"user-details"],[1,"mt-32"],["addressMenu","matMenu"]],template:function(e,i){if(1&e&&(c.TgZ(0,"mat-card",0)(1,"button",1)(2,"mat-icon"),c._uU(3,"more_vert"),c.qZA()(),c.TgZ(4,"mat-menu",null,2)(6,"button",3),c.NdJ("click",function(){return i.editUserDetail()}),c._uU(7,"Edit"),c.qZA()(),c._UZ(8,"img",4),c.TgZ(9,"div",5)(10,"h2"),c._uU(11),c.qZA(),c._uU(12),c.qZA()(),c.TgZ(13,"mat-card",6)(14,"button",1)(15,"mat-icon"),c._uU(16,"more_vert"),c.qZA()(),c.TgZ(17,"mat-menu",null,7)(19,"button",3),c.NdJ("click",function(){return i.editMenu()}),c._uU(20,"Edit"),c.qZA()(),c.TgZ(21,"mat-card-title"),c._uU(22,"Address"),c.qZA(),c.TgZ(23,"mat-card-content"),c._uU(24),c._UZ(25,"br"),c._uU(26),c.qZA()()),2&e){const r=c.MAs(5),s=c.MAs(18);c.xp6(1),c.Q6J("matMenuTriggerFor",r),c.xp6(10),c.AsE(" ",i.user.firstName," ",i.user.lastName," "),c.xp6(1),c.hij(" ",i.user.email," "),c.xp6(2),c.Q6J("matMenuTriggerFor",s),c.xp6(10),c.hij(" ",i.user.street,""),c.xp6(2),c.AsE(" ",i.user.zipCode," ",i.user.city," ")}},dependencies:[d1,ad,lz,n9,i9,f9,yA,_9],styles:[".user-deatil-header[_ngcontent-%COMP%]{min-height:250px;background-color:#ff291b;color:#fff;display:flex;align-items:flex-end}.user-deatil-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:100%;object-fit:cover}.user-details[_ngcontent-%COMP%]{margin-left:32px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;height:100px}.user-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.pin-right-upper-corner[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"]}),n})();function b9(n,t){1&n&&c._UZ(0,"mat-progress-bar",17)}let w9=(()=>{class n{constructor(e,i){this.dialogRef=e,this.firestore=i,this.user=new fu,this.birthdate=new Date,this.loading=!1}ngOnInit(){}saveUser(){this.user.birthdate=this.birthdate.getTime(),console.log("user",this.user),this.loading=!0,this.firestore.collection("users").add(this.user.toJSON()).then(e=>{this.loading=!1,console.log("adding user finished",e),this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nf),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dialog-add-user"]],decls:46,vars:19,consts:[[1,"dialog-container"],["mode","indeterminate",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",1,"mr-16"],["matInput","","placeholder","First Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline"],["matInput","","placeholder","Last Name",3,"disabled","ngModel","ngModelChange"],["appearance","outline",1,"full-width"],["matInput","","placeholder","E-Mail",3,"disabled","ngModel","ngModelChange"],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","matDatepicker","ngModelChange"],["matSuffix","",3,"for"],["picker1",""],["matInput","","placeholder","Placeholder",3,"disabled","ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"disabled","click"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["mode","indeterminate"]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0),c.YNc(1,b9,1,0,"mat-progress-bar",1),c.TgZ(2,"h1",2),c._uU(3,"Add user"),c.qZA(),c.TgZ(4,"div",3)(5,"div")(6,"mat-form-field",4)(7,"mat-label"),c._uU(8,"First Name"),c.qZA(),c.TgZ(9,"input",5),c.NdJ("ngModelChange",function(s){return i.user.firstName=s}),c.qZA()(),c.TgZ(10,"mat-form-field",6)(11,"mat-label"),c._uU(12,"Last Name"),c.qZA(),c.TgZ(13,"input",7),c.NdJ("ngModelChange",function(s){return i.user.lastName=s}),c.qZA()()(),c.TgZ(14,"div")(15,"mat-form-field",8)(16,"mat-label"),c._uU(17,"E-Mail"),c.qZA(),c.TgZ(18,"input",9),c.NdJ("ngModelChange",function(s){return i.user.email=s}),c.qZA()()(),c.TgZ(19,"div")(20,"mat-form-field",8)(21,"mat-label"),c._uU(22,"Birth Date"),c.qZA(),c.TgZ(23,"input",10),c.NdJ("ngModelChange",function(s){return i.birthdate=s}),c.qZA(),c._UZ(24,"mat-datepicker-toggle",11)(25,"mat-datepicker",null,12),c.qZA()(),c.TgZ(27,"div")(28,"mat-form-field",8)(29,"mat-label"),c._uU(30,"Street + House No."),c.qZA(),c.TgZ(31,"input",13),c.NdJ("ngModelChange",function(s){return i.user.street=s}),c.qZA()()(),c.TgZ(32,"div")(33,"mat-form-field",4)(34,"mat-label"),c._uU(35,"Zip code"),c.qZA(),c.TgZ(36,"input",13),c.NdJ("ngModelChange",function(s){return i.user.zipCode=s}),c.qZA()(),c.TgZ(37,"mat-form-field",6)(38,"mat-label"),c._uU(39,"City"),c.qZA(),c.TgZ(40,"input",13),c.NdJ("ngModelChange",function(s){return i.user.city=s}),c.qZA()()(),c.TgZ(41,"div",14)(42,"button",15),c.NdJ("click",function(){return i.dialogRef.close()}),c._uU(43,"Cancel"),c.qZA(),c.TgZ(44,"button",16),c.NdJ("click",function(){return i.saveUser()}),c._uU(45,"Safe"),c.qZA()()()()),2&e){const r=c.MAs(26);c.xp6(1),c.Q6J("ngIf",i.loading),c.xp6(8),c.Q6J("disabled",i.loading)("ngModel",i.user.firstName),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.lastName),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.email),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.birthdate)("matDatepicker",r),c.xp6(1),c.Q6J("for",r),c.xp6(7),c.Q6J("disabled",i.loading)("ngModel",i.user.street),c.xp6(5),c.Q6J("disabled",i.loading)("ngModel",i.user.zipCode),c.xp6(4),c.Q6J("disabled",i.loading)("ngModel",i.user.city),c.xp6(2),c.Q6J("disabled",i.loading),c.xp6(2),c.Q6J("disabled",i.loading)}},dependencies:[Lr,ad,dc,Ev,Dv,PN,e0,E$,JN,Z3,hA,K3,r_,eA,o0,e1],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:unset!important}"]}),n})();const C9=["tooltip"],mz="tooltip-panel",gz=Ql({passive:!0}),_z=new c.OlP("mat-tooltip-scroll-strategy"),T9={provide:_z,deps:[js],useFactory:function I9(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},A9=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function S9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let M9=(()=>{class n{constructor(e,i,r,s,l,h,p,_,b,D,A,x){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=l,this._platform=h,this._ariaDescriber=p,this._focusMonitor=_,this._dir=D,this._defaultOptions=A,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new rt.x,this._scrollStrategy=b,this._document=x,A&&(A.position&&(this.position=A.position),A.touchGestures&&(this.touchGestures=A.touchGestures)),D.change.pipe(yn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Dn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=bm(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=bm(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(yn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,gz)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new da(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(yn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(yn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${mz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(yn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(yn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(yn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!ol(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(gn(1),yn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let l;if(l="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",l!==this._currentPosition){const h=this._overlayRef;if(h){const p=`${this._cssClassPrefix}-${mz}-`;h.removePanelClass(p+this._currentPosition),h.addPanelClass(p+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,gz)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),x9=(()=>{class n extends M9{constructor(e,i,r,s,l,h,p,_,b,D,A,x){super(e,i,r,s,l,h,p,_,b,D,A,x),this._tooltipComponent=R9}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(js),c.Y36(c.SBq),c.Y36(Wh),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(oi),c.Y36(LM),c.Y36(xi),c.Y36(_z),c.Y36(Mr,8),c.Y36(A9,8),c.Y36(he))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),k9=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new rt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(i);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n}),n})(),R9=(()=>{class n extends k9{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(FM),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&c.Gf(C9,7),2&e){let r;c.iGM(r=c.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),c.ALo(2,"async"),c._uU(3),c.qZA()),2&e){let r;c.ekj("mat-tooltip-handset",null==(r=c.lcZ(2,4,i._isHandset))?null:r.matches),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message)}},dependencies:[jo,E_],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),O9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[T9],imports:[Sm,Ss,hr,Tn,Tn,oc]}),n})();const P9=function(n){return[n]};function N9(n,t){if(1&n&&(c.TgZ(0,"tr",3)(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA()()),2&n){const e=t.$implicit;c.Q6J("routerLink",c.VKq(5,P9,"/user/"+e.customIdName)),c.xp6(2),c.AsE("",e.firstName," ",e.lastName,""),c.xp6(2),c.Oqu(e.email),c.xp6(2),c.Oqu(e.city)}}const F9=[{path:"",component:OC},{path:"dashboard",component:OC},{path:"user",component:(()=>{class n{constructor(e,i){this.dialog=e,this.firestore=i,this.user=new fu,this.allUsers=[]}ngOnInit(){this.firestore.collection("users").valueChanges({idField:"customIdName"}).subscribe(e=>{console.log("Receive Changes From Firestore",e),this.allUsers=e})}openDialog(){this.dialog.open(w9)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Hm),c.Y36(Jw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user"]],decls:13,vars:1,consts:[[1,"user-table"],[3,"routerLink",4,"ngFor","ngForOf"],["mat-fab","","color","primary","matTooltip","Add User",1,"add-user-button",3,"click"],[3,"routerLink"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-card")(1,"table",0)(2,"tr")(3,"th"),c._uU(4,"Name"),c.qZA(),c.TgZ(5,"th"),c._uU(6,"E-mail"),c.qZA(),c.TgZ(7,"th"),c._uU(8,"City"),c.qZA()(),c.YNc(9,N9,7,7,"tr",1),c.qZA()(),c.TgZ(10,"button",2),c.NdJ("click",function(){return i.openDialog()}),c.TgZ(11,"mat-icon"),c._uU(12,"add"),c.qZA()()),2&e&&(c.xp6(9),c.Q6J("ngForOf",i.allUsers))},dependencies:[es,bh,d1,ad,x9,lz],styles:["mat-card[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.add-user-button[_ngcontent-%COMP%]{position:absolute;right:56px;bottom:56px}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:2px solid rgba(0,0,0,.4);cursor:pointer}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{cursor:unset}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child:hover{background-color:unset}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:0}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:48px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:16px}.user-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#0000000a}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#0006;font-size:14px;font-weight:500;text-align:start}"]}),n})()},{path:"user/:id",component:v9}];let L9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ty.forRoot(F9),Ty]}),n})();const V9=["*",[["mat-toolbar-row"]]],B9=["*","mat-toolbar-row"],U9=xu(class{constructor(n){this._elementRef=n}});let yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),H9=(()=>{class n extends U9{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(oi),c.Y36(he))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,yz,5),2&e){let s;c.iGM(s=c.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:B9,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(V9),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),j9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tn,Tn]}),n})();const vz=["*"],$9=["content"];function z9(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function G9(n,t){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const W9=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],q9=["mat-drawer","mat-drawer-content","*"],Y9={transformDrawer:fa("transform",[$s("open, open-instant",hn({transform:"none",visibility:"visible"})),$s("void",hn({"box-shadow":"none",visibility:"hidden"})),xr("void => open-instant",fr("0ms")),xr("void <=> open, open-instant => void",fr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Z9=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function K9(){return!1}}),bz=new c.OlP("MAT_DRAWER_CONTAINER");let f1=(()=>{class n extends km{constructor(e,i,r,s,l){super(r,s,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Cz)),c.Y36(c.SBq),c.Y36(Wh),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:km,useExisting:n}]),c.qOj],ngContentSelectors:vz,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),wz=(()=>{class n{constructor(e,i,r,s,l,h,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=l,this._interactivityChecker=h,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new rt.x,this._animationEnd=new rt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Jt(b=>b),(0,st.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Jt(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Os(void 0)),this._closedStream=this.openedChange.pipe(Jt(b=>!b),(0,st.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Jt(b=>b.fromState!==b.toState&&"void"===b.toState),Os(void 0)),this._destroyed=new rt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new rt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Du(this._elementRef.nativeElement,"keydown").pipe(Jt(b=>27===b.keyCode&&!this.disableClose&&!ol(b)),yn(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(ym((b,D)=>b.fromState===D.fromState&&b.toState===D.toState)).subscribe(b=>{const{fromState:D,toState:A}=b;(0===A.indexOf("open")&&"void"===D||"void"===A&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Dn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Dn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Dn(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(gn(1)).subscribe(l=>s(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Oh),c.Y36(xi),c.Y36(oi),c.Y36(c.R0b),c.Y36(Rh),c.Y36(he,8),c.Y36(bz,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&c.Gf($9,5),2&e){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&c.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:vz,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[km],encapsulation:2,data:{animation:[Y9.transformDrawer]},changeDetection:0}),n})(),Cz=(()=>{class n{constructor(e,i,r,s,l,h=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new rt.x,this._doCheckSubject=new rt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new rt.x,e&&e.change.pipe(yn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(yn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Dn(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:Dn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(hi(this._allDrawers),yn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(hi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_m(10),yn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Jt(i=>i.fromState!==i.toState),yn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(yn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(yn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(gn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(yn((0,fs.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Mr,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(Rm),c.Y36(Z9),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,f1,5),c.Suo(r,wz,5)),2&e){let s;c.iGM(s=c.CRH())&&(i._content=s.first),c.iGM(s=c.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&c.Gf(f1,5),2&e){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:bz,useExisting:n}])],ngContentSelectors:q9,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(c.F$t(W9),c.YNc(0,z9,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,G9,2,0,"mat-drawer-content",1)),2&e&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[Lr,f1],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,Tn,oc,oc,Tn]}),n})(),X9=(()=>{class n{constructor(){this.title="simple-crm"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:23,vars:1,consts:[["autosize","",1,"mat-drawer-container"],["mode","side",1,"sidenav",3,"opened"],["drawer",""],[1,"logo-container"],["src","./assets/img/crm2.png","alt","",1,"logo"],[1,"menu-items"],["routerLink","/"],["routerLink","/user"],[1,"example-sidenav-content"],["color","primary"],[1,"menu-icon",3,"click"],[1,"router-container"]],template:function(e,i){if(1&e){const r=c.EpF();c.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"ul",5)(6,"li",6)(7,"mat-icon"),c._uU(8,"fact_check"),c.qZA(),c._uU(9,"Dashboard "),c.qZA(),c.TgZ(10,"li",7)(11,"mat-icon"),c._uU(12,"perm_identity"),c.qZA(),c._uU(13,"User "),c.qZA()()(),c.TgZ(14,"div",8)(15,"mat-toolbar",9)(16,"mat-toolbar-row")(17,"mat-icon",10),c.NdJ("click",function(){c.CHM(r);const l=c.MAs(2);return c.KtG(l.toggle())}),c._uU(18,"menu"),c.qZA(),c.TgZ(19,"span"),c._uU(20,"Simple CRM"),c.qZA()()(),c.TgZ(21,"div",11),c._UZ(22,"router-outlet"),c.qZA()()()}2&e&&(c.xp6(1),c.Q6J("opened",!0))},dependencies:[ph,bh,H9,yz,wz,Cz,d1],styles:[".mat-drawer-container[_ngcontent-%COMP%]{height:100vh}.menu-icon[_ngcontent-%COMP%]{cursor:pointer}.sidenav[_ngcontent-%COMP%]{width:300px}.logo-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.04);padding-left:16px;padding-right:16px;min-height:55px;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%], mat-toolbar-row[_ngcontent-%COMP%]{min-height:56px;height:56px}.menu-items[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;height:48px;display:flex;align-items:center;cursor:pointer}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:16px}.menu-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#0000000a}.router-container[_ngcontent-%COMP%]{padding-left:56px;padding-right:56px;padding-top:16px}.logo[_ngcontent-%COMP%]{width:55px;height:55px}"]}),n})();function Ez(n){return new c.vHH(3e3,!1)}function OX(){return typeof window<"u"&&typeof window.document<"u"}function p1(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function fd(n){switch(n.length){case 0:return new ef;case 1:return n[0];default:return new Ou(n)}}function Dz(n,t,e,i,r=new Map,s=new Map){const l=[],h=[];let p=-1,_=null;if(i.forEach(b=>{const D=b.get("offset"),A=D==p,x=A&&_||new Map;b.forEach((O,q)=>{let oe=q,ze=O;if("offset"!==q)switch(oe=t.normalizePropertyName(oe,l),ze){case"!":ze=r.get(q);break;case xo:ze=s.get(q);break;default:ze=t.normalizeStyleValue(q,oe,ze,l)}x.set(oe,ze)}),A||h.push(x),_=x,p=D}),l.length)throw function wX(n){return new c.vHH(3502,!1)}();return h}function m1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&g1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&g1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&g1(e,"destroy",n)))}}function g1(n,t,e){const s=_1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function _1(n,t,e,i,r="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Ks(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Iz(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let y1=(n,t)=>!1,Tz=(n,t,e)=>[],Az=null;function v1(n){const t=n.parentNode||n.host;return t===Az?null:t}(p1()||typeof Element<"u")&&(OX()?(Az=(()=>document.documentElement)(),y1=(n,t)=>{for(;t;){if(t===n)return!0;t=v1(t)}return!1}):y1=(n,t)=>n.contains(t),Tz=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Qf=null,Sz=!1;const Mz=y1,xz=Tz;let kz=(()=>{class n{validateStyleProperty(e){return function NX(n){Qf||(Qf=function FX(){return typeof document<"u"?document.body:null}()||{},Sz=!!Qf.style&&"WebkitAppearance"in Qf.style);let t=!0;return Qf.style&&!function PX(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Qf.style,!t&&Sz&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Qf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Mz(e,i)}getParentElement(e){return v1(e)}query(e,i,r){return xz(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,l,h=[],p){return new ef(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),b1=(()=>{class n{}return n.NOOP=new kz,n})();const w1="ng-enter",vA="ng-leave",bA="ng-trigger",wA=".ng-trigger",Oz="ng-animating",C1=".ng-animating";function pd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:E1(parseFloat(t[1]),t[2])}function E1(n,t){return"s"===t?1e3*n:n}function CA(n,t,e){return n.hasOwnProperty("duration")?n:function BX(n,t,e){let r,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(Ez()),{duration:0,delay:0,easing:""};r=E1(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=E1(parseFloat(p),h[4]));const _=h[5];_&&(l=_)}else r=n;if(!e){let h=!1,p=t.length;r<0&&(t.push(function J9(){return new c.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function eX(){return new c.vHH(3101,!1)}()),h=!0),h&&t.splice(p,0,Ez())}return{duration:r,delay:s,easing:l}}(n,t,e)}function h0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Pz(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function md(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Fz(n,t,e){return e?t+":"+e+";":""}function Lz(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Fz(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Fz(0,$X(e),n.style[e]));n.setAttribute("style",t)}function bl(n,t,e){n.style&&(t.forEach((i,r)=>{const s=I1(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),p1()&&Lz(n))}function Xf(n,t){n.style&&(t.forEach((e,i)=>{const r=I1(i);n.style[r]=""}),p1()&&Lz(n))}function f0(n){return Array.isArray(n)?1==n.length?n[0]:tD(n):n}const D1=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vz(n){let t=[];if("string"==typeof n){let e;for(;e=D1.exec(n);)t.push(e[1]);D1.lastIndex=0}return t}function EA(n,t,e){const i=n.toString(),r=i.replace(D1,(s,l)=>{let h=t[l];return null==h&&(e.push(function nX(n){return new c.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function DA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const jX=/-+([a-z0-9])/g;function I1(n){return n.replace(jX,(...t)=>t[1].toUpperCase())}function $X(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function iX(n){return new c.vHH(3004,!1)}()}}function Bz(n,t){return window.getComputedStyle(n)[t]}function ZX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function KX(n,t,e){if(":"==n[0]){const p=function QX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function _X(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function gX(n){return new c.vHH(3015,!1)}()),t;const r=i[1],s=i[2],l=i[3];t.push(Uz(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&t.push(Uz(l,r))}(i,e,t)):e.push(n),e}const SA=new Set(["true","1"]),MA=new Set(["false","0"]);function Uz(n,t){const e=SA.has(n)||MA.has(n),i=SA.has(t)||MA.has(t);return(r,s)=>{let l="*"==n||n==r,h="*"==t||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?SA.has(n):MA.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?SA.has(t):MA.has(t)),l&&h}}const XX=new RegExp("s*:selfs*,?","g");function T1(n,t,e,i){return new JX(n).build(t,e,i)}class JX{constructor(t){this._driver=t}build(t,e,i){const r=new nJ(e);return this._resetContextStyleTimingState(r),Qs(this,f0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function sX(){return new c.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,e);i+=p.queryCount,r+=p.depCount,l.push(p)}else e.errors.push(function oX(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{Vz(p).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}),s.size&&(DA(s.values()),e.errors.push(function aX(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Qs(this,f0(t.animation),e);return{type:1,matchers:ZX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Jf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Qs(this,i,e)),options:Jf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=i;const h=Qs(this,l,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:Jf(t.options)}}visitAnimate(t,e){const i=function rJ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return A1(CA(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=A1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=CA(e,t);return A1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:hn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,h=!1;if(!l){h=!0;const _={};i.easing&&(_.easing=i.easing),l=hn(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,e);p.isEmptyStep=h,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===xo?i.push(h):e.errors.push(new c.vHH(3002,!1)):i.push(Pz(h));let s=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let D=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function cX(n,t,e,i,r){return new c.vHH(3010,!1)}()),D=!1),s=b.startTime),D&&_.set(p,{startTime:s,endTime:r}),e.options&&function HX(n,t,e){const i=t.params||{},r=Vz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function tX(n){return new c.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function uX(){return new c.vHH(3011,!1)}()),i;let s=0;const l=[];let h=!1,p=!1,_=0;const b=t.steps.map(ze=>{const qe=this._makeStyleAst(ze,e);let ot=null!=qe.offset?qe.offset:function iJ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(qe.styles),Qe=0;return null!=ot&&(s++,Qe=qe.offset=ot),p=p||Qe<0||Qe>1,h=h||Qe<_,_=Qe,l.push(Qe),qe});p&&e.errors.push(function dX(){return new c.vHH(3012,!1)}()),h&&e.errors.push(function hX(){return new c.vHH(3200,!1)}());const D=t.steps.length;let A=0;s>0&&s<D?e.errors.push(function fX(){return new c.vHH(3202,!1)}()):0==s&&(A=1/(D-1));const x=D-1,O=e.currentTime,q=e.currentAnimateTimings,oe=q.duration;return b.forEach((ze,qe)=>{const ot=A>0?qe==x?1:A*qe:l[qe],Qe=ot*oe;e.currentTime=O+q.delay+Qe,q.duration=Qe,this._validateStyleAst(ze,e),ze.offset=ot,i.styles.push(ze)}),i}visitReference(t,e){return{type:8,animation:Qs(this,f0(t.animation),e),options:Jf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function eJ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(XX,"")),n=n.replace(/@\*/g,wA).replace(/@\w+/g,e=>wA+"-"+e.slice(1)).replace(/:animating/g,C1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ks(e.collectedStyles,e.currentQuerySelector,new Map);const h=Qs(this,f0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:t.selector,options:Jf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function pX(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:CA(t.timings,e.errors,!0);return{type:12,animation:Qs(this,f0(t.animation),e),timings:i,options:null}}}class nJ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jf(n){return n?(n=h0(n)).params&&(n.params=function tJ(n){return n?h0(n):null}(n.params)):n={},n}function A1(n,t,e){return{duration:n,delay:t,easing:e}}function S1(n,t,e,i,r,s,l=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:h}}class xA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const aJ=new RegExp(":enter","g"),cJ=new RegExp(":leave","g");function M1(n,t,e,i,r,s=new Map,l=new Map,h,p,_=[]){return(new uJ).buildKeyframes(n,t,e,i,r,s,l,h,p,_)}class uJ{buildKeyframes(t,e,i,r,s,l,h,p,_,b=[]){_=_||new xA;const D=new x1(t,e,_,r,s,b,[]);D.options=p;const A=p.delay?pd(p.delay):0;D.currentTimeline.delayNextStep(A),D.currentTimeline.setStyles([l],null,D.errors,p),Qs(this,i,D);const x=D.timelines.filter(O=>O.containsAnimation());if(x.length&&h.size){let O;for(let q=x.length-1;q>=0;q--){const oe=x[q];if(oe.element===e){O=oe;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([h],null,D.errors,p)}return x.length?x.map(O=>O.buildKeyframes()):[S1(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const l=null!=i.duration?pd(i.duration):null,h=null!=i.delay?pd(i.delay):null;return 0!==l&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,l,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Qs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kA);const l=pd(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Qs(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?pd(t.options.delay):0;t.steps.forEach(l=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Qs(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return CA(e.params?EA(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?pd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=kA);let l=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let p=null;h.forEach((_,b)=>{e.currentQueryIndex=b;const D=e.createSubContext(t.options,_);s&&D.delayNextStep(s),_===e.element&&(p=D.currentTimeline),Qs(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),h=l*(e.currentQueryTotal-1);let p=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const D=b.currentTime;Qs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const kA={};class x1{constructor(t,e,i,r,s,l,h,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new RA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=pd(i.duration)),null!=i.delay&&(r.delay=pd(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!l.hasOwnProperty(h))&&(l[h]=EA(s[h],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new x1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=kA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new dJ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,l){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(aJ,"."+this._enterClassName)).replace(cJ,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&l.push(function mX(n){return new c.vHH(3014,!1)}()),h}}class RA{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new RA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||xo),this._currentKeyframe.set(e,xo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},l=function hJ(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,xo)}else md(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,p]of l){const _=EA(p,s,i);this._pendingStyles.set(h,_),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??xo),this._updateStyle(h,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=md(h,new Map,this._backFill);_.forEach((b,D)=>{"!"===b?t.add(D):b===xo&&e.add(D)}),i||_.set("offset",p/this.duration),r.push(_)});const s=t.size?DA(t.values()):[],l=e.size?DA(e.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return S1(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class dJ extends RA{constructor(t,e,i,r,s,l,h=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=i+e,h=e/l,p=md(t[0]);p.set("offset",0),s.push(p);const _=md(t[0]);_.set("offset",$z(h)),s.push(_);const b=t.length-1;for(let D=1;D<=b;D++){let A=md(t[D]);const x=A.get("offset");A.set("offset",$z((e+x*i)/l)),s.push(A)}i=l,e=0,r="",t=s}return S1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function $z(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class k1{}const fJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pJ extends k1{normalizePropertyName(t,e){return I1(t)}normalizeStyleValue(t,e,i,r){let s="";const l=i.toString().trim();if(fJ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function rX(n,t){return new c.vHH(3005,!1)}())}return l+s}}function zz(n,t,e,i,r,s,l,h,p,_,b,D,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:l,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:D,errors:A}}const R1={};class Gz{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function mJ(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,l,h,p,_,b){const D=[],A=this.ast.options&&this.ast.options.params||R1,O=this.buildStyles(i,h&&h.params||R1,D),q=p&&p.params||R1,oe=this.buildStyles(r,q,D),ze=new Set,qe=new Map,ot=new Map,Qe="void"===r,dt={params:gJ(q,A),delay:this.ast.options?.delay},bt=b?[]:M1(t,e,this.ast.animation,s,l,O,oe,dt,_,D);let Zt=0;if(bt.forEach(xc=>{Zt=Math.max(xc.duration+xc.delay,Zt)}),D.length)return zz(e,this._triggerName,i,r,Qe,O,oe,[],[],qe,ot,Zt,D);bt.forEach(xc=>{const kc=xc.element,d6=Ks(qe,kc,new Set);xc.preStyleProps.forEach(dp=>d6.add(dp));const U0=Ks(ot,kc,new Set);xc.postStyleProps.forEach(dp=>U0.add(dp)),kc!==e&&ze.add(kc)});const Qr=DA(ze.values());return zz(e,this._triggerName,i,r,Qe,O,oe,bt,Qr,qe,ot,Zt)}}function gJ(n,t){const e=h0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class _J{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=h0(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=EA(l,r,e));const p=this.normalizer.normalizePropertyName(h,e);l=this.normalizer.normalizeStyleValue(h,p,l,e),i.set(p,l)})}),i}}class vJ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new _J(r.style,r.options&&r.options.params||{},i))}),Wz(this.states,"true","1"),Wz(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Gz(t,r,this.states))}),this.fallbackTransition=function bJ(n,t,e){return new Gz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Wz(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const wJ=new xA;class CJ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=T1(this._driver,e,i,[]);if(i.length)throw function CX(n){return new c.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=Dz(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let l;const h=new Map;if(s?(l=M1(this._driver,e,s,w1,vA,new Map,new Map,i,wJ,r),l.forEach(b=>{const D=Ks(h,b.element,new Map);b.postStyleProps.forEach(A=>D.set(A,null))})):(r.push(function EX(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function DX(n){return new c.vHH(3504,!1)}();h.forEach((b,D)=>{b.forEach((A,x)=>{b.set(x,this._driver.computeStyle(D,x,xo))})});const _=fd(l.map(b=>{const D=h.get(b.element);return this._buildPlayer(b,new Map,D)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function IX(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=_1(e,"","","");return m1(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const qz="ng-animate-queued",O1="ng-animate-disabled",AJ=[],Yz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed";class P1{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function RJ(n){return n??null}(i?t.value:t),i){const s=h0(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const p0="void",N1=new P1(p0);class MJ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fo(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function TX(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function AX(n){return new c.vHH(3303,!1)}();if(!function OJ(n){return"start"==n||"done"==n}(i))throw function SX(n,t){return new c.vHH(3400,!1)}();const s=Ks(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};s.push(l);const h=Ks(this._engine.statesByElement,t,new Map);return h.has(e)||(Fo(t,bA),Fo(t,bA+"-"+e),h.set(e,N1)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function MX(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),l=new F1(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Fo(t,bA),Fo(t,bA+"-"+e),this._engine.statesByElement.set(t,h=new Map));let p=h.get(e);const _=new P1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h.set(e,_),p||(p=N1),_.value!==p0&&p.value===_.value){if(!function FJ(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const q=[],oe=s.matchStyles(p.value,p.params,q),ze=s.matchStyles(_.value,_.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Xf(t,oe),bl(t,ze)})}return}const A=Ks(this._engine.playersByElement,t,[]);A.forEach(q=>{q.namespaceId==this.id&&q.triggerName==e&&q.queued&&q.destroy()});let x=s.matchTransition(p.value,_.value,t,_.params),O=!1;if(!x){if(!r)return;x=s.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:x,fromState:p,toState:_,player:l,isFallbackTransition:O}),O||(Fo(t,qz),l.onStart(()=>{a_(t,qz)})),l.onDone(()=>{let q=this.players.indexOf(l);q>=0&&this.players.splice(q,1);const oe=this._engine.playersByElement.get(t);if(oe){let ze=oe.indexOf(l);ze>=0&&oe.splice(ze,1)}}),this.players.push(l),A.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,wA,!0);i.forEach(r=>{if(r[No])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),l=new Map;if(s){const h=[];if(s.forEach((p,_)=>{if(l.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,p0,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&fd(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,_=i.get(l)||N1,b=new P1(p0),D=new F1(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:p,fromState:_,toState:b,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[No];(!s||s===Yz)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==i.triggerName){const p=_1(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,m1(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class xJ{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new MJ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(e);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(OA(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!OA(e))return;const s=e[No];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fo(t,O1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),a_(t,O1))}removeNode(t,e,i,r){if(OA(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[No]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return OA(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,wA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,C1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fd(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[No];if(e&&e.setForRemoval){if(t[No]=Yz,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(O1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?fd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function xX(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new xA,r=[],s=new Map,l=[],h=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(lt=>{b.add(lt);const vt=this.driver.query(lt,".ng-animate-queued",!0);for(let Dt=0;Dt<vt.length;Dt++)b.add(vt[Dt])});const D=this.bodyNode,A=Array.from(this.statesByElement.keys()),x=Qz(A,this.collectedEnterElements),O=new Map;let q=0;x.forEach((lt,vt)=>{const Dt=w1+q++;O.set(vt,Dt),lt.forEach(rn=>Fo(rn,Dt))});const oe=[],ze=new Set,qe=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const vt=this.collectedLeaveElements[lt],Dt=vt[No];Dt&&Dt.setForRemoval&&(oe.push(vt),ze.add(vt),Dt.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(rn=>ze.add(rn)):qe.add(vt))}const ot=new Map,Qe=Qz(A,Array.from(ze));Qe.forEach((lt,vt)=>{const Dt=vA+q++;ot.set(vt,Dt),lt.forEach(rn=>Fo(rn,Dt))}),t.push(()=>{x.forEach((lt,vt)=>{const Dt=O.get(vt);lt.forEach(rn=>a_(rn,Dt))}),Qe.forEach((lt,vt)=>{const Dt=ot.get(vt);lt.forEach(rn=>a_(rn,Dt))}),oe.forEach(lt=>{this.processLeaveNode(lt)})});const dt=[],bt=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(e).forEach(Dt=>{const rn=Dt.player,sr=Dt.element;if(dt.push(rn),this.collectedEnterElements.length){const Nr=sr[No];if(Nr&&Nr.setForMove){if(Nr.previousTriggersValues&&Nr.previousTriggersValues.has(Dt.triggerName)){const hp=Nr.previousTriggersValues.get(Dt.triggerName),Uo=this.statesByElement.get(Dt.element);if(Uo&&Uo.has(Dt.triggerName)){const yS=Uo.get(Dt.triggerName);yS.value=hp,Uo.set(Dt.triggerName,yS)}}return void rn.destroy()}}const Tl=!D||!this.driver.containsElement(D,sr),Js=ot.get(sr),Id=O.get(sr),ni=this._buildInstruction(Dt,i,Id,Js,Tl);if(ni.errors&&ni.errors.length)return void bt.push(ni);if(Tl)return rn.onStart(()=>Xf(sr,ni.fromStyles)),rn.onDestroy(()=>bl(sr,ni.toStyles)),void r.push(rn);if(Dt.isFallbackTransition)return rn.onStart(()=>Xf(sr,ni.fromStyles)),rn.onDestroy(()=>bl(sr,ni.toStyles)),void r.push(rn);const p6=[];ni.timelines.forEach(Nr=>{Nr.stretchStartingKeyframe=!0,this.disabledNodes.has(Nr.element)||p6.push(Nr)}),ni.timelines=p6,i.append(sr,ni.timelines),l.push({instruction:ni,player:rn,element:sr}),ni.queriedElements.forEach(Nr=>Ks(h,Nr,[]).push(rn)),ni.preStyleProps.forEach((Nr,hp)=>{if(Nr.size){let Uo=p.get(hp);Uo||p.set(hp,Uo=new Set),Nr.forEach((yS,nL)=>Uo.add(nL))}}),ni.postStyleProps.forEach((Nr,hp)=>{let Uo=_.get(hp);Uo||_.set(hp,Uo=new Set),Nr.forEach((yS,nL)=>Uo.add(nL))})});if(bt.length){const lt=[];bt.forEach(vt=>{lt.push(function kX(n,t){return new c.vHH(3505,!1)}())}),dt.forEach(vt=>vt.destroy()),this.reportError(lt)}const Zt=new Map,Qr=new Map;l.forEach(lt=>{const vt=lt.element;i.has(vt)&&(Qr.set(vt,vt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Zt))}),r.forEach(lt=>{const vt=lt.element;this._getPreviousPlayers(vt,!1,lt.namespaceId,lt.triggerName,null).forEach(rn=>{Ks(Zt,vt,[]).push(rn),rn.destroy()})});const xc=oe.filter(lt=>Jz(lt,p,_)),kc=new Map;Kz(kc,this.driver,qe,_,xo).forEach(lt=>{Jz(lt,p,_)&&xc.push(lt)});const U0=new Map;x.forEach((lt,vt)=>{Kz(U0,this.driver,new Set(lt),p,"!")}),xc.forEach(lt=>{const vt=kc.get(lt),Dt=U0.get(lt);kc.set(lt,new Map([...Array.from(vt?.entries()??[]),...Array.from(Dt?.entries()??[])]))});const dp=[],h6=[],f6={};l.forEach(lt=>{const{element:vt,player:Dt,instruction:rn}=lt;if(i.has(vt)){if(b.has(vt))return Dt.onDestroy(()=>bl(vt,rn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(rn.totalTime),void r.push(Dt);let sr=f6;if(Qr.size>1){let Js=vt;const Id=[];for(;Js=Js.parentNode;){const ni=Qr.get(Js);if(ni){sr=ni;break}Id.push(Js)}Id.forEach(ni=>Qr.set(ni,sr))}const Tl=this._buildAnimation(Dt.namespaceId,rn,Zt,s,U0,kc);if(Dt.setRealPlayer(Tl),sr===f6)dp.push(Dt);else{const Js=this.playersByElement.get(sr);Js&&Js.length&&(Dt.parentPlayer=fd(Js)),r.push(Dt)}}else Xf(vt,rn.fromStyles),Dt.onDestroy(()=>bl(vt,rn.toStyles)),h6.push(Dt),b.has(vt)&&r.push(Dt)}),h6.forEach(lt=>{const vt=s.get(lt.element);if(vt&&vt.length){const Dt=fd(vt);lt.setRealPlayer(Dt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<oe.length;lt++){const vt=oe[lt],Dt=vt[No];if(a_(vt,vA),Dt&&Dt.hasAnimation)continue;let rn=[];if(h.size){let Tl=h.get(vt);Tl&&Tl.length&&rn.push(...Tl);let Js=this.driver.query(vt,C1,!0);for(let Id=0;Id<Js.length;Id++){let ni=h.get(Js[Id]);ni&&ni.length&&rn.push(...ni)}}const sr=rn.filter(Tl=>!Tl.destroyed);sr.length?PJ(this,vt,sr):this.processLeaveNode(vt)}return oe.length=0,dp.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const vt=this.players.indexOf(lt);this.players.splice(vt,1)}),lt.play()}),dp}elementContainsData(t,e){let i=!1;const r=e[No];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let l=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(l=h)}else{const h=this.playersByElement.get(t);if(h){const p=!s||s==p0;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||l.push(_)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(t,e,i){const s=e.element,l=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,D=Ks(i,_,[]);this._getPreviousPlayers(_,b,l,h,e.toState).forEach(x=>{const O=x.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),x.destroy(),D.push(x)})}Xf(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,l){const h=e.triggerName,p=e.element,_=[],b=new Set,D=new Set,A=e.timelines.map(O=>{const q=O.element;b.add(q);const oe=q[No];if(oe&&oe.removedBeforeQueried)return new ef(O.duration,O.delay);const ze=q!==p,qe=function NJ(n){const t=[];return Xz(n,t),t}((i.get(q)||AJ).map(Zt=>Zt.getRealPlayer())).filter(Zt=>!!Zt.element&&Zt.element===q),ot=s.get(q),Qe=l.get(q),dt=Dz(0,this._normalizer,0,O.keyframes,ot,Qe),bt=this._buildPlayer(O,dt,qe);if(O.subTimeline&&r&&D.add(q),ze){const Zt=new F1(t,h,q);Zt.setRealPlayer(bt),_.push(Zt)}return bt});_.forEach(O=>{Ks(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function kJ(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,O.element,O))}),b.forEach(O=>Fo(O,Oz));const x=fd(A);return x.onDestroy(()=>{b.forEach(O=>a_(O,Oz)),bl(p,e.toStyles)}),D.forEach(O=>{Ks(r,O,[]).push(x)}),x}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ef(t.duration,t.delay)}}class F1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ef,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>m1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ks(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function OA(n){return n&&1===n.nodeType}function Zz(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Kz(n,t,e,i,r){const s=[];e.forEach(p=>s.push(Zz(p)));const l=[];i.forEach((p,_)=>{const b=new Map;p.forEach(D=>{const A=t.computeStyle(_,D,r);b.set(D,A),(!A||0==A.length)&&(_[No]=SJ,l.push(_))}),n.set(_,b)});let h=0;return e.forEach(p=>Zz(p,s[h++])),l}function Qz(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=e.has(_)?_:r.has(_)?1:l(_),s.set(h,p),p}return t.forEach(h=>{const p=l(h);1!==p&&e.get(p).push(h)}),e}function Fo(n,t){n.classList?.add(t)}function a_(n,t){n.classList?.remove(t)}function PJ(n,t,e){fd(e).onDone(()=>n.processLeaveNode(t))}function Xz(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Ou?Xz(i.players,t):t.push(i)}}function Jz(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class PA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new xJ(t,e,i),this._timelineEngine=new CJ(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const l=t+"-"+r;let h=this._triggerCache[l];if(!h){const p=[],b=T1(this._driver,s,p,[]);if(p.length)throw function bX(n,t){return new c.vHH(3404,!1)}();h=function yJ(n,t,e){return new vJ(n,t,e)}(r,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,l]=Iz(i);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[l,h]=Iz(i);return this._timelineEngine.listen(l,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let VJ=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bl(this._element,this._initialStyles),this._endStyles&&(bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xf(this._element,this._endStyles),this._endStyles=null),bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function L1(n){let t=null;return n.forEach((e,i)=>{(function BJ(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class eG{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Bz(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class UJ{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Mz(t,e)}getParentElement(t){return v1(t)}query(t,e,i){return xz(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=l.filter(x=>x instanceof eG);(function zX(n,t){return 0===n||0===t})(i,r)&&b.forEach(x=>{x.currentSnapshot.forEach((O,q)=>_.set(q,O))});let D=function UX(n){return n.length?n[0]instanceof Map?n:n.map(t=>Pz(t)):[]}(e).map(x=>md(x));D=function GX(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<t.length;s++){let l=t[s];r.forEach(h=>l.set(h,Bz(n,h)))}}return t}(t,D,_);const A=function LJ(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=L1(t[0]),t.length>1&&(i=L1(t[t.length-1]))):t instanceof Map&&(e=L1(t)),e||i?new VJ(n,e,i):null}(t,D);return new eG(t,D,p,A)}}let HJ=(()=>{class n extends yv{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?tD(e):e;return tG(this._renderer,null,i,"register",[r]),new jJ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class jJ extends class Kx{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new $J(this._id,t,e||{},this._renderer)}}class $J{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tG(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const nG="@.disabled";let zJ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new iG("",s,this.engine),this._rendererCache.set(s,b)),b}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(l,h,e,b.name,b)};return i.data.animation.forEach(p),new GJ(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(PA),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class iG{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==nG?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class GJ extends iG{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nG?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function WJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function qJ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let YJ=(()=>{class n extends PA{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(he),c.LFG(b1),c.LFG(k1),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const rG=[{provide:yv,useClass:HJ},{provide:k1,useFactory:function ZJ(){return new pJ}},{provide:PA,useClass:YJ},{provide:c.FYo,useFactory:function KJ(n,t,e){return new zJ(n,t,e)},deps:[Ol,PA,c.R0b]}],V1=[{provide:b1,useFactory:()=>new UJ},{provide:c.QbO,useValue:"BrowserAnimations"},...rG],sG=[{provide:b1,useClass:kz},{provide:c.QbO,useValue:"NoopAnimations"},...rG];let QJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?sG:V1}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:V1,imports:[ji]}),n})();const B1={firebase:{projectId:"simple-crm-30cb7",appId:"1:973048859733:web:f02f84a39879f7993bd8dc",storageBucket:"simple-crm-30cb7.appspot.com",apiKey:"AIzaSyCsKXfkHJ5BOCA70FTcbvclBU7WPIO920Y",authDomain:"simple-crm-30cb7.firebaseapp.com",messagingSenderId:"973048859733"},production:!0};var XJ=N(6457);class U1{constructor(t){return t}}class H1{constructor(){return jb("auth")}}const j1=new c.OlP("angularfire2.auth-instances");function eee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new U1(i)}}const tee={provide:H1,deps:[[new c.FiY,j1]]},nee={provide:U1,useFactory:function JJ(n,t){const e=Hb("auth",n,t);return e&&new U1(e)},deps:[[new c.FiY,j1],qf]};let iee=(()=>{class n{constructor(){(0,xt.registerVersion)("angularfire",Dg.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[nee,tee]}),n})();function ree(n,...t){return{ngModule:iee,providers:[{provide:j1,useFactory:eee(n),multi:!0,deps:[c.R0b,c.zs3,o,$T,[new c.FiY,i_],...t]}]}}const see=T(XJ.n,!0),aG="@firebase/database";let $1="";class aee{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,H.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,H.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class lee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,H.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const cG=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aee(t)}}catch{}return new lee},ep=cG("localStorage"),z1=cG("sessionStorage"),l_=new kr.Yd("@firebase/database"),uG=function(){let n=1;return function(){return n++}}(),dG=function(n){const t=(0,H.dS)(n),e=new H.gQ;e.update(t);const i=e.digest();return H.US.encodeByteArray(i)},m0=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=m0.apply(null,i):t+="object"==typeof i?(0,H.Pz)(i):i,t+=" "}return t};let tp=null,hG=!0;const ir=function(...n){if(!0===hG&&(hG=!1,null===tp&&!0===z1.get("logging_enabled")&&function(n,t){(0,H.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(l_.logLevel=kr.in.VERBOSE,tp=l_.log.bind(l_),t&&z1.set("logging_enabled",!0)):"function"==typeof n?tp=n:(tp=null,z1.remove("logging_enabled"))}(!0)),tp){const t=m0.apply(null,n);tp(t)}},g0=function(n){return function(...t){ir(n,...t)}},G1=function(...n){const t="FIREBASE INTERNAL ERROR: "+m0(...n);l_.error(t)},wl=function(...n){const t=`FIREBASE FATAL ERROR: ${m0(...n)}`;throw l_.error(t),new Error(t)},Pr=function(...n){const t="FIREBASE WARNING: "+m0(...n);l_.warn(t)},FA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Sc="[MIN_NAME]",Cl="[MAX_NAME]",np=function(n,t){if(n===t)return 0;if(n===Sc||t===Cl)return-1;if(t===Sc||n===Cl)return 1;{const e=LA(n),i=LA(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},dee=function(n,t){return n===t?0:n<t?-1:1},_0=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Pz)(t))},W1=function(n){if("object"!=typeof n||null===n)return(0,H.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,H.Pz)(t[i]),e+=":",e+=W1(n[t[i]]);return e+="}",e},pG=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function rr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const mG=function(n){(0,H.hu)(!FA(n),"Invalid JSON number");const i=1023;let r,s,l,h,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let D="";for(p=0;p<64;p+=8){let A=parseInt(b.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),D+=A}return D.toLowerCase()},mee=new RegExp("^-?(0*)\\d{1,10}$"),LA=function(n){if(mee.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},c_=function(n){try{n()}catch(t){setTimeout(()=>{throw Pr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},y0=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class _ee{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Pr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class yee{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pr(t)}}let v0=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const wG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DG="websocket",IG="long_polling";class Z1{constructor(t,e,i,r,s=!1,l="",h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ep.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ep.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function TG(n,t,e){let i;if((0,H.hu)("string"==typeof t,"typeof type must == string"),(0,H.hu)("object"==typeof e,"typeof params must == object"),t===DG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==IG)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function vee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return rr(e,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class bee{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,H.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,H.p$)(this.counters_)}}const K1={},Q1={};function X1(n){const t=n.toString();return K1[t]||(K1[t]=new bee),K1[t]}class Cee{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&c_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gd{constructor(t,e,i,r,s,l,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=g0(t),this.stats_=X1(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),TG(e,IG,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Cee(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new J1((...s)=>{const[l,h,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gd.forceAllow_=!0}static forceDisallow(){gd.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!gd.forceAllow_&&(gd.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,H.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,H.h$)(e),r=pG(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,H.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class J1{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=uG(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=J1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){ir("frame writing exception"),h.stack&&ir(h.stack),ir(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ir("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,H.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ir("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let BA=null;typeof MozWebSocket<"u"?BA=MozWebSocket:typeof WebSocket<"u"&&(BA=WebSocket);let u_=(()=>{class n{constructor(e,i,r,s,l,h,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=g0(this.connId),this.stats_=X1(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,l){const h={v:"5"};return!(0,H.Yr)()&&typeof location<"u"&&location.hostname&&wG.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),l&&(h.p=l),TG(e,DG,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ep.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){r={headers:{"User-Agent":`Firebase/5/${$1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new BA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==BA&&!n.forceDisallow_}static previouslyFailed(){return ep.isInMemoryStorage||!0===ep.get("previous_websocket_failure")}markConnectionHealthy(){ep.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,H.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=pG(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),OG=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gd,u_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=u_&&u_.isAvailable();let r=i&&!u_.previouslyFailed();if(e.webSocketOnly&&(i||Pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[u_];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class UG{constructor(t,e,i,r,s,l,h,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=g0("c:"+this.id+":"),this.transportManager_=new OG(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=y0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=_0("t",t),i=_0("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=_0("t",t),i=_0("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=_0("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?G1("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):G1("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),y0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):y0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ep.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class HG{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class jG{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,H.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,H.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class UA extends jG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new UA}getInitialEvent(t){return(0,H.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function sn(){return new fn("")}function jt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function _d(n){return n.pieces_.length-n.pieceNum_}function Sn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new fn(n.pieces_,t)}function tF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function b0(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function GG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new fn(t,0)}function qn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof fn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new fn(e,0)}function $t(n){return n.pieceNum_>=n.pieces_.length}function Kr(n,t){const e=jt(n),i=jt(t);if(null===e)return t;if(e===i)return Kr(Sn(n),Sn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function nF(n,t){if(_d(n)!==_d(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Lo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(_d(n)>_d(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Gee{constructor(t,e){this.errorPrefix_=e,this.parts_=b0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);WG(this)}}function WG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ip(n))}function ip(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class iF extends jG{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new iF}getInitialEvent(t){return(0,H.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const w0=1e3;let jA,rp=(()=>{class n extends HG{constructor(e,i,r,s,l,h,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=g0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=w0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&UA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,l={r:s,a:e,b:i};this.log_((0,H.Pz)(l)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new H.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const l=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,H.r3)(e,"w")){const r=(0,H.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,H.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,H.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,h=s.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,H.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const l={p:e};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:e,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,H.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):G1("Unrecognized action received from server: "+(0,H.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=w0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=w0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=w0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,K.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(x){(0,H.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(x)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[x,O]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);p?ir("getToken() completed but was canceled"):(ir("getToken() completed. Creating connection."),e.authToken_=x&&x.accessToken,e.appCheckToken_=O&&O.token,_=new UG(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,q=>{Pr(q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(x){e.log_("Failed to get token: "+x),p||(e.repoInfo_.nodeAdmin&&Pr(x),b())}}})()}interrupt(e){ir("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ir("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=w0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>W1(l)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new fn(e).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ir("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ir("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+$1.replace(/\./g,"-")]=1,(0,H.uI)()?e["framework.cordova"]=1:(0,H.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=UA.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Gt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Gt(t,e)}}class HA{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Gt(Sc,t),r=new Gt(Sc,e);return 0!==this.compare(i,r)}minPost(){return Gt.MIN}}class ZG extends HA{static get __EMPTY_NODE(){return jA}static set __EMPTY_NODE(t){jA=t}compare(t,e){return np(t.name,e.name)}isDefinedOn(t){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Gt.MIN}maxPost(){return new Gt(Cl,jA)}makePost(t,e){return(0,H.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Gt(t,jA)}toString(){return".key"}}const El=new ZG;class $A{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let sF,wa=(()=>{class n{constructor(e,i,r,s,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Cs.EMPTY_NODE,this.right=l??Cs.EMPTY_NODE}copy(e,i,r,s,l){return new n(e??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Cs.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Cs{constructor(t,e=Cs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Cs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,wa.BLACK,null,null))}remove(t){return new Cs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,wa.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $A(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new $A(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new $A(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new $A(this.root_,null,this.comparator_,!0,t)}}function Jee(n,t){return np(n.name,t.name)}function rF(n,t){return np(n,t)}Cs.EMPTY_NODE=new class Xee{copy(t,e,i,r,s){return this}insert(t,e,i){return new wa(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const KG=function(n){return"number"==typeof n?"number:"+mG(n):"string:"+n},QG=function(n){if(n.isLeafNode()){const t=n.val();(0,H.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,H.r3)(t,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===sF||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===sF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let XG,JG,eW,d_=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),QG(this.priorityNode_)}static set __childrenNodeConstructor(e){XG=e}static get __childrenNodeConstructor(){return XG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $t(e)?this:".priority"===jt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=jt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===_d(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Sn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?mG(this.value_):this.value_,this.lazyHash_=dG(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(s>=0,"Unknown leaf type: "+i),(0,H.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const On=new class ite extends HA{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?np(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Gt.MIN}maxPost(){return new Gt(Cl,new d_("[PRIORITY-POST]",eW))}makePost(t,e){const i=JG(t);return new Gt(e,new d_("[PRIORITY-POST]",i))}toString(){return".priority"}},rte=Math.log(2);class ste{constructor(t){this.count=parseInt(Math.log(t+1)/rte,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const zA=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let D,A;if(0===b)return null;if(1===b)return D=n[p],A=e?e(D):D,new wa(A,D.node,wa.BLACK,null,null);{const x=parseInt(b/2,10)+p,O=r(p,x),q=r(x+1,_);return D=n[x],A=e?e(D):D,new wa(A,D.node,wa.BLACK,O,q)}},h=function(p){let _=null,b=null,D=n.length;const A=function(O,q){const oe=D-O,ze=D;D-=O;const qe=r(oe+1,ze),ot=n[oe],Qe=e?e(ot):ot;x(new wa(Qe,ot.node,q,null,qe))},x=function(O){_?(_.left=O,_=O):(b=O,_=O)};for(let O=0;O<p.count;++O){const q=p.nextBitIsOne(),oe=Math.pow(2,p.count-(O+1));q?A(oe,wa.BLACK):(A(oe,wa.BLACK),A(oe,wa.RED))}return b}(new ste(n.length));return new Cs(i||t,h)};let oF;const h_={};class Mc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,H.hu)(h_&&On,"ChildrenNode.ts has not been loaded"),oF=oF||new Mc({".priority":h_},{".priority":On}),oF}get(t){const e=(0,H.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Cs?e:null}hasIndex(t){return(0,H.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,H.hu)(t!==El,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(Gt.Wrap);let h,l=s.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=s.getNext();h=r?zA(i,t.getCompare()):h_;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=h,new Mc(b,_)}addToIndexes(t,e){const i=(0,H.UI)(this.indexes_,(r,s)=>{const l=(0,H.DV)(this.indexSet_,s);if((0,H.hu)(l,"Missing index implementation for "+s),r===h_){if(l.isDefinedOn(t.node)){const h=[],p=e.getIterator(Gt.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&h.push(_),_=p.getNext();return h.push(t),zA(h,l.getCompare())}return h_}{const h=e.get(t.name);let p=r;return h&&(p=p.remove(new Gt(t.name,h))),p.insert(t,t.node)}});return new Mc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,H.UI)(this.indexes_,r=>{if(r===h_)return r;{const s=e.get(t.name);return s?r.remove(new Gt(t.name,s)):r}});return new Mc(i,this.indexSet_)}}let C0,Ft=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QG(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return C0||(C0=new n(new Cs(rF),null,Mc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||C0}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?C0:i}}getChild(e){const i=jt(e);return null===i?this:this.getImmediateChild(i).getChild(Sn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Gt(e,i);let s,l;i.isEmpty()?(s=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?C0:this.priorityNode_;return new n(s,h,l)}}updateChild(e,i){const r=jt(e);if(null===r)return i;{(0,H.hu)(".priority"!==jt(e)||1===_d(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Sn(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(On,(h,p)=>{i[h]=p.val(e),r++,l&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!e&&l&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+KG(this.getPriority().val())+":"),this.forEachChild(On,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":dG(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new Gt(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Gt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Gt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Gt.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Gt.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,e)>0;)s.getNext(),l=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===E0?-1:0}withIndex(e){if(e===El||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===El||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(On),s=i.getIterator(On);let l=r.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(e){return e===El?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const E0=new class ote extends Ft{constructor(){super(new Cs(rF),Ft.EMPTY_NODE,Mc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ft.EMPTY_NODE}isEmpty(){return!1}};function ti(n,t=null){if(null===n)return Ft.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,H.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new d_(n,ti(t));if(n instanceof Array){let e=Ft.EMPTY_NODE;return rr(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const s=ti(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(ti(t))}{const e=[];let i=!1;if(rr(n,(l,h)=>{if("."!==l.substring(0,1)){const p=ti(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new Gt(l,p)))}}),0===e.length)return Ft.EMPTY_NODE;const s=zA(e,Jee,l=>l.name,rF);if(i){const l=zA(e,On.getCompare());return new Ft(s,ti(t),new Mc({".priority":l},{".priority":On}))}return new Ft(s,ti(t),Mc.Default)}}Object.defineProperties(Gt,{MIN:{value:new Gt(Sc,Ft.EMPTY_NODE)},MAX:{value:new Gt(Cl,E0)}}),ZG.__EMPTY_NODE=Ft.EMPTY_NODE,d_.__childrenNodeConstructor=Ft,function ete(n){sF=n}(E0),function nte(n){eW=n}(E0),function tte(n){JG=n}(ti);class aF extends HA{constructor(t){super(),this.indexPath_=t,(0,H.hu)(!$t(t)&&".priority"!==jt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?np(t.name,e.name):s}makePost(t,e){const i=ti(t),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,i);return new Gt(e,r)}maxPost(){const t=Ft.EMPTY_NODE.updateChild(this.indexPath_,E0);return new Gt(Cl,t)}toString(){return b0(this.indexPath_,0).join("/")}}const lF=new class lte extends HA{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?np(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Gt.MIN}maxPost(){return Gt.MAX}makePost(t,e){const i=ti(t);return new Gt(e,i)}toString(){return".value"}};function I0(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class dF{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=On}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===On}copy(){const t=new dF;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function oW(n){const t={};if(n.isDefault())return t;let e;return n.index_===On?e="$priority":n.index_===lF?e="$value":n.index_===El?e="$key":((0,H.hu)(n.index_ instanceof aF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,H.Pz)(e),n.startSet_&&(t.startAt=(0,H.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,H.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,H.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,H.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function aW(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==On&&(t.i=n.index_.toString()),t}class WA extends HG{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=g0("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,H.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=WA.getListenId_(t,i),h={};this.listens_[l]=h;const p=oW(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let D=b;if(404===_&&(D=null,_=null),null===_&&this.onDataUpdate_(s,D,!1,i),(0,H.DV)(this.listens_,l)===h){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(t,e){const i=WA.getListenId_(t,e);delete this.listens_[i]}get(t){const e=oW(t._queryParams),i=t._path.toString(),r=new H.BH;return this.restRequest_(i+".json",e,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,H.xO)(e);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,H.cI)(h.responseText)}catch{Pr("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&Pr("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class _te{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function qA(){return{value:null,children:new Map}}function m_(n,t,e){if($t(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=jt(t);n.children.has(i)||n.children.set(i,qA()),m_(n.children.get(i),t=Sn(t),e)}}function mF(n,t,e){null!==n.value?e(t,n.value):function yte(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{mF(r,new fn(t.toString()+"/"+i),e)})}class vte{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&rr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Cte{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new vte(t);const i=1e4+2e4*Math.random();y0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;rr(t,(r,s)=>{s>0&&(0,H.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),y0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vo||(Vo={})),Vo))();function yF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class YA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Vo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if($t(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new fn(t));return new YA(sn(),e,this.revert)}}return(0,H.hu)(jt(this.path)===t,"operationForChild called for unrelated child."),new YA(Sn(this.path),this.affectedTree,this.revert)}}class sp{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Vo.OVERWRITE}operationForChild(t){return $t(this.path)?new sp(this.source,sn(),this.snap.getImmediateChild(t)):new sp(this.source,Sn(this.path),this.snap)}}class g_{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Vo.MERGE}operationForChild(t){if($t(this.path)){const e=this.children.subtree(new fn(t));return e.isEmpty()?null:e.value?new sp(this.source,sn(),e.value):new g_(this.source,sn(),e)}return(0,H.hu)(jt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new g_(this.source,Sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class yd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($t(t))return this.isFullyInitialized()&&!this.filtered_;const e=jt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function S0(n,t,e,i,r,s){const l=i.filter(h=>h.type===e);l.sort((h,p)=>function Tte(n,t,e){if(null==t.childName||null==e.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new Gt(t.childName,t.snapshotNode),r=new Gt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),l.forEach(h=>{const p=function Ite(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&t.push(_.createEvent(p,n.query_))})})}function ZA(n,t){return{eventCache:n,serverCache:t}}function M0(n,t,e,i){return ZA(new yd(t,e,i),n.serverCache)}function cW(n,t,e,i){return ZA(n.eventCache,new yd(t,e,i))}function KA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function op(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let vF;class Pn{constructor(t,e=(()=>(vF||(vF=new Cs(dee)),vF))()){this.value=t,this.children=e}static fromObject(t){let e=new Pn(null);return rr(t,(i,r)=>{e=e.set(new fn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:sn(),value:this.value};if($t(t))return null;{const i=jt(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Sn(t),e);return null!=s?{path:qn(new fn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($t(t))return this;{const e=jt(t),i=this.children.get(e);return null!==i?i.subtree(Sn(t)):new Pn(null)}}set(t,e){if($t(t))return new Pn(e,this.children);{const i=jt(t),s=(this.children.get(i)||new Pn(null)).set(Sn(t),e),l=this.children.insert(i,s);return new Pn(this.value,l)}}remove(t){if($t(t))return this.children.isEmpty()?new Pn(null):new Pn(null,this.children);{const e=jt(t),i=this.children.get(e);if(i){const r=i.remove(Sn(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Pn(null):new Pn(this.value,s)}return this}}get(t){if($t(t))return this.value;{const e=jt(t),i=this.children.get(e);return i?i.get(Sn(t)):null}}setTree(t,e){if($t(t))return e;{const i=jt(t),s=(this.children.get(i)||new Pn(null)).setTree(Sn(t),e);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Pn(this.value,l)}}fold(t){return this.fold_(sn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(qn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,sn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if($t(t))return null;{const s=jt(t),l=this.children.get(s);return l?l.findOnPath_(Sn(t),qn(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,sn(),e)}foreachOnPath_(t,e,i){if($t(t))return this;{this.value&&i(e,this.value);const r=jt(t),s=this.children.get(r);return s?s.foreachOnPath_(Sn(t),qn(e,r),i):new Pn(null)}}foreach(t){this.foreach_(sn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(qn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Ca{constructor(t){this.writeTree_=t}static empty(){return new Ca(new Pn(null))}}function x0(n,t,e){if($t(t))return new Ca(new Pn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const l=Kr(r,t);return s=s.updateChild(l,e),new Ca(n.writeTree_.set(r,s))}{const r=new Pn(e),s=n.writeTree_.setTree(t,r);return new Ca(s)}}}function bF(n,t,e){let i=n;return rr(e,(r,s)=>{i=x0(i,qn(t,r),s)}),i}function uW(n,t){if($t(t))return Ca.empty();{const e=n.writeTree_.setTree(t,new Pn(null));return new Ca(e)}}function wF(n,t){return null!=ap(n,t)}function ap(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Kr(e.path,t)):null}function dW(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(On,(i,r)=>{t.push(new Gt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Gt(i,r.value))}),t}function vd(n,t){if($t(t))return n;{const e=ap(n,t);return new Ca(null!=e?new Pn(e):n.writeTree_.subtree(t))}}function CF(n){return n.writeTree_.isEmpty()}function __(n,t){return hW(sn(),n.writeTree_,t)}function hW(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,H.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=hW(qn(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(qn(n,".priority"),i)),e}}function QA(n,t){return _W(t,n)}function Rte(n,t){if(n.snap)return Lo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Lo(qn(n.path,e),t))return!0;return!1}function Pte(n){return n.visible}function fW(n,t,e){let i=Ca.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const l=s.path;let h;if(s.snap)Lo(e,l)?(h=Kr(e,l),i=x0(i,h,s.snap)):Lo(l,e)&&(h=Kr(l,e),i=x0(i,sn(),s.snap.getChild(h)));else{if(!s.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(Lo(e,l))h=Kr(e,l),i=bF(i,h,s.children);else if(Lo(l,e))if(h=Kr(l,e),$t(h))i=bF(i,sn(),s.children);else{const p=(0,H.DV)(s.children,jt(h));if(p){const _=p.getChild(Sn(h));i=x0(i,sn(),_)}}}}}return i}function pW(n,t,e,i,r){if(i||r){const s=vd(n.visibleWrites,t);return!r&&CF(s)?e:r||null!=e||wF(s,sn())?__(fW(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Lo(_.path,t)||Lo(t,_.path))},t),e||Ft.EMPTY_NODE):null}{const s=ap(n.visibleWrites,t);if(null!=s)return s;{const l=vd(n.visibleWrites,t);return CF(l)?e:null!=e||wF(l,sn())?__(l,e||Ft.EMPTY_NODE):null}}}function XA(n,t,e,i){return pW(n.writeTree,n.treePath,t,e,i)}function EF(n,t){return function Nte(n,t,e){let i=Ft.EMPTY_NODE;const r=ap(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(On,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(e){const s=vd(n.visibleWrites,t);return e.forEachChild(On,(l,h)=>{const p=__(vd(s,new fn(l)),h);i=i.updateImmediateChild(l,p)}),dW(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return dW(vd(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function mW(n,t,e,i){return function Fte(n,t,e,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=qn(t,e);if(wF(n.visibleWrites,s))return null;{const l=vd(n.visibleWrites,s);return CF(l)?r.getChild(e):__(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function JA(n,t){return function Vte(n,t){return ap(n.visibleWrites,t)}(n.writeTree,qn(n.treePath,t))}function DF(n,t,e){return function Lte(n,t,e,i){const r=qn(t,e),s=ap(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?__(vd(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function gW(n,t){return _W(qn(n.treePath,t),n.writeTree)}function _W(n,t){return{treePath:n,writeTree:t}}class jte{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,H.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,I0(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,function D0(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,function p_(n,t){return{type:"child_added",snapshotNode:t,childName:n}}(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,H.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,I0(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const yW=new class $te{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class IF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new yd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return DF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:op(this.viewCache_),s=function Hte(n,t,e,i,r,s){return function Bte(n,t,e,i,r,s,l){let h;const p=vd(n.visibleWrites,t),_=ap(p,sn());if(null!=_)h=_;else{if(null==e)return[];h=__(p,e)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],D=l.getCompare(),A=s?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let x=A.getNext();for(;x&&b.length<r;)0!==D(x,i)&&b.push(x),x=A.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function vW(n,t,e,i,r,s){const l=t.eventCache;if(null!=JA(i,e))return t;{let h,p;if($t(e))if((0,H.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=op(t),D=EF(i,_ instanceof Ft?_:Ft.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),D,s)}else{const _=XA(i,op(t));h=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=jt(e);if(".priority"===_){(0,H.hu)(1===_d(e),"Can't have a priority with additional path components");const b=l.getNode();p=t.serverCache.getNode();const D=mW(i,e,b,p);h=null!=D?n.filter.updatePriority(b,D):l.getNode()}else{const b=Sn(e);let D;if(l.isCompleteForChild(_)){p=t.serverCache.getNode();const A=mW(i,e,l.getNode(),p);D=null!=A?l.getNode().getImmediateChild(_).updateChild(b,A):l.getNode().getImmediateChild(_)}else D=DF(i,_,t.serverCache);h=null!=D?n.filter.updateChild(l.getNode(),_,D,b,r,s):l.getNode()}}return M0(t,h,l.isFullyInitialized()||$t(e),n.filter.filtersNodes())}}function eS(n,t,e,i,r,s,l,h){const p=t.serverCache;let _;const b=l?n.filter:n.filter.getIndexedFilter();if($t(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),x,null)}else{const x=jt(e);if(!p.isCompleteForPath(e)&&_d(e)>1)return t;const O=Sn(e),oe=p.getNode().getImmediateChild(x).updateChild(O,i);_=".priority"===x?b.updatePriority(p.getNode(),oe):b.updateChild(p.getNode(),x,oe,O,yW,null)}const D=cW(t,_,p.isFullyInitialized()||$t(e),b.filtersNodes());return vW(n,D,e,r,new IF(r,D,s),h)}function TF(n,t,e,i,r,s,l){const h=t.eventCache;let p,_;const b=new IF(r,t,s);if($t(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,l),p=M0(t,_,!0,n.filter.filtersNodes());else{const D=jt(e);if(".priority"===D)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=M0(t,_,h.isFullyInitialized(),h.isFiltered());else{const A=Sn(e),x=h.getNode().getImmediateChild(D);let O;if($t(A))O=i;else{const q=b.getCompleteChild(D);O=null!=q?".priority"===tF(A)&&q.getChild(GG(A)).isEmpty()?q:q.updateChild(A,i):Ft.EMPTY_NODE}p=x.equals(O)?t:M0(t,n.filter.updateChild(h.getNode(),D,O,A,b,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function bW(n,t){return n.eventCache.isCompleteForChild(t)}function wW(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function AF(n,t,e,i,r,s,l,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=$t(e)?i:new Pn(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((D,A)=>{if(b.hasChild(D)){const O=wW(0,t.serverCache.getNode().getImmediateChild(D),A);p=eS(n,p,new fn(D),O,r,s,l,h)}}),_.children.inorderTraversal((D,A)=>{const x=!t.serverCache.isCompleteForChild(D)&&void 0===A.value;if(!b.hasChild(D)&&!x){const q=wW(0,t.serverCache.getNode().getImmediateChild(D),A);p=eS(n,p,new fn(D),q,r,s,l,h)}}),p}function tne(n,t){const e=op(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!$t(t)&&!e.getImmediateChild(jt(t)).isEmpty())?e.getChild(t):null}function DW(n,t,e,i){t.type===Vo.MERGE&&null!==t.source.queryId&&((0,H.hu)(op(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(KA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function Wte(n,t,e,i,r){const s=new jte;let l,h;if(e.type===Vo.OVERWRITE){const _=e;_.source.fromUser?l=TF(n,t,_.path,_.snap,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered()&&!$t(_.path),l=eS(n,t,_.path,_.snap,i,r,h,s))}else if(e.type===Vo.MERGE){const _=e;_.source.fromUser?l=function Yte(n,t,e,i,r,s,l){let h=t;return i.foreach((p,_)=>{const b=qn(e,p);bW(t,jt(b))&&(h=TF(n,h,b,_,r,s,l))}),i.foreach((p,_)=>{const b=qn(e,p);bW(t,jt(b))||(h=TF(n,h,b,_,r,s,l))}),h}(n,t,_.path,_.children,i,r,s):((0,H.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||t.serverCache.isFiltered(),l=AF(n,t,_.path,_.children,i,r,h,s))}else if(e.type===Vo.ACK_USER_WRITE){const _=e;l=_.revert?function Qte(n,t,e,i,r,s){let l;if(null!=JA(i,e))return t;{const h=new IF(i,t,r),p=t.eventCache.getNode();let _;if($t(e)||".priority"===jt(e)){let b;if(t.serverCache.isFullyInitialized())b=XA(i,op(t));else{const D=t.serverCache.getNode();(0,H.hu)(D instanceof Ft,"serverChildren would be complete if leaf node"),b=EF(i,D)}_=n.filter.updateFullNode(p,b,s)}else{const b=jt(e);let D=DF(i,b,t.serverCache);null==D&&t.serverCache.isCompleteForChild(b)&&(D=p.getImmediateChild(b)),_=null!=D?n.filter.updateChild(p,b,D,Sn(e),h,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Ft.EMPTY_NODE,Sn(e),h,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=XA(i,op(t)),l.isLeafNode()&&(_=n.filter.updateFullNode(_,l,s)))}return l=t.serverCache.isFullyInitialized()||null!=JA(i,sn()),M0(t,_,l,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function Zte(n,t,e,i,r,s,l){if(null!=JA(r,e))return t;const h=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if($t(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return eS(n,t,e,p.getNode().getChild(e),r,s,h,l);if($t(e)){let _=new Pn(null);return p.getNode().forEachChild(El,(b,D)=>{_=_.set(new fn(b),D)}),AF(n,t,e,_,r,s,h,l)}return t}{let _=new Pn(null);return i.foreach((b,D)=>{const A=qn(e,b);p.isCompleteForPath(A)&&(_=_.set(b,p.getNode().getChild(A)))}),AF(n,t,e,_,r,s,h,l)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==Vo.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+e.type);l=function Kte(n,t,e,i,r){const s=t.serverCache;return vW(n,cW(t,s.getNode(),s.isFullyInitialized()||$t(e),s.isFiltered()),e,i,yW,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function qte(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=KA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(function sW(n){return{type:"value",snapshotNode:n}}(KA(t)))}}(t,l,p),{viewCache:l,changes:p}}(n.processor_,r,t,e,i);return function Gte(n,t){(0,H.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,H.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function IW(n,t,e,i){return function Dte(n,t,e,i){const r=[],s=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function ute(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),S0(n,r,"child_removed",t,i,e),S0(n,r,"child_added",t,i,e),S0(n,r,"child_moved",s,i,e),S0(n,r,"child_changed",t,i,e),S0(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let tS,iS;function SF(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,H.hu)(null!=s,"SyncTree gave us an op for an invalid query."),DW(s,t,e,i)}{let s=[];for(const l of n.views.values())s=s.concat(DW(l,t,e,i));return s}}function bd(n,t){let e=null;for(const i of n.views.values())e=e||tne(i,t);return e}class xW{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pn(null),this.pendingWriteTree_=function Ute(){return{visibleWrites:Ca.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xF(n,t,e,i,r){return function Ste(n,t,e,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=x0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?y_(n,new sp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Cd(n,t,e=!1){const i=function xte(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function kte(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,H.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=e&&Rte(h,i.path)?r=!1:Lo(i.path,h.path)&&(s=!0)),l--}return!!r&&(s?(function Ote(n){n.visibleWrites=fW(n.allWrites,Pte,sn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=uW(n.visibleWrites,i.path):rr(i.children,p=>{n.visibleWrites=uW(n.visibleWrites,qn(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new Pn(null);return null!=i.snap?s=s.set(sn(),!0):rr(i.children,l=>{s=s.set(new fn(l),!0)}),y_(n,new YA(i.path,s,e))}return[]}function k0(n,t,e){return y_(n,new sp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function sS(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(l,h)=>{const _=bd(h,Kr(l,t));if(_)return _});return pW(r,t,s,e,!0)}function y_(n,t){return PW(t,n.syncPointTree_,null,QA(n.pendingWriteTree_,sn()))}function PW(n,t,e,i){if($t(n.path))return NW(n,t,e,i);{const r=t.get(sn());null==e&&null!=r&&(e=bd(r,sn()));let s=[];const l=jt(n.path),h=n.operationForChild(l),p=t.children.get(l);if(p&&h){const _=e?e.getImmediateChild(l):null,b=gW(i,l);s=s.concat(PW(h,p,_,b))}return r&&(s=s.concat(SF(r,n,i,e))),s}}function NW(n,t,e,i){const r=t.get(sn());null==e&&null!=r&&(e=bd(r,sn()));let s=[];return t.children.inorderTraversal((l,h)=>{const p=e?e.getImmediateChild(l):null,_=gW(i,l),b=n.operationForChild(l);b&&(s=s.concat(NW(b,h,p,_)))}),r&&(s=s.concat(SF(r,n,i,e))),s}function kF(n,t){return n.tagToQueryMap.get(t)}function RF(n){const t=n.indexOf("$");return(0,H.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new fn(n.substr(0,t))}}function OF(n,t,e){const i=n.syncPointTree_.get(t);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),SF(i,e,QA(n.pendingWriteTree_,t),null)}class PF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new PF(e)}node(){return this.node_}}class NF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=qn(this.path_,t);return new NF(this.syncTree_,e)}node(){return sS(this.syncTree_,this.path_)}}const LW=function(n,t,e){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Dne(n[".sv"],t,e):"object"==typeof n[".sv"]?Ine(n[".sv"],t):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Dne=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},Ine=function(n,t,e){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,H.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},FF=function(n,t,e){return LF(n,new PF(t),e)};function LF(n,t,e){const i=n.getPriority().val(),r=LW(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const l=n,h=LW(l.getValue(),t,e);return h!==l.getValue()||r!==l.getPriority().val()?new d_(h,ti(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new d_(r))),l.forEachChild(On,(h,p)=>{const _=LF(p,t.getImmediateChild(h),e);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class VF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function aS(n,t){let e=t instanceof fn?t:new fn(t),i=n,r=jt(e);for(;null!==r;){const s=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new VF(r,i,s),e=Sn(e),r=jt(e)}return i}function lp(n){return n.node.value}function BF(n,t){n.node.value=t,UF(n)}function BW(n){return n.node.childCount>0}function lS(n,t){rr(n.node.children,(e,i)=>{t(new VF(e,n,i))})}function UW(n,t,e,i){e&&!i&&t(n),lS(n,r=>{UW(r,t,!0,i)}),e&&i&&t(n)}function P0(n){return new fn(null===n.parent?n.name:P0(n.parent)+"/"+n.name)}function UF(n){null!==n.parent&&function Sne(n,t,e){const i=function Tne(n){return void 0===lp(n)&&!BW(n)}(e),r=(0,H.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,UF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,UF(n))}(n.parent,n.name,n)}const Mne=/[\[\].#$\/\u0000-\u001F\u007F]/,xne=/[\[\].#$\u0000-\u001F\u007F]/,HF=10485760,cS=function(n){return"string"==typeof n&&0!==n.length&&!Mne.test(n)},F0=function(n,t,e){const i=e instanceof fn?new Gee(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+ip(i));if("function"==typeof t)throw new Error(n+"contains a function "+ip(i)+" with contents = "+t.toString());if(FA(t))throw new Error(n+"contains "+t.toString()+" "+ip(i));if("string"==typeof t&&t.length>HF/3&&(0,H.ug)(t)>HF)throw new Error(n+"contains a string greater than "+HF+" utf8 bytes "+ip(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(rr(t,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!cS(l)))throw new Error(n+" contains an invalid key ("+l+") "+ip(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Wee(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,H.ug)(t),WG(n)})(i,l),F0(n,h,i),function qee(n){const t=n.parts_.pop();n.byteLength_-=(0,H.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+ip(i)+" in addition to actual children.")}},$W=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!cS(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!xne.test(n)}(n)}(e))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Pne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bo(n,t,e){(function uS(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!nF(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)})(n,e),function GW(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Nne(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Lo(i,t)||Lo(t,i))}function Nne(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();tp&&ir("event: "+e.toString()),c_(i)}}}class Lne{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qA(),this.transactionQueueTree_=new VF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qW(n){const e=n.infoData_.getNode(new fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function V0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:qW(n)})}function YW(n,t,e,i,r){n.dataUpdateCount++;const s=new fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const p=(0,H.UI)(e,_=>ti(_));l=function _ne(n,t,e,i){const r=kF(n,i);if(r){const s=RF(r),l=s.path,h=s.queryId,p=Kr(l,t),_=Pn.fromObject(e);return OF(n,l,new g_(yF(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=ti(e);l=function kW(n,t,e,i){const r=kF(n,i);if(null!=r){const s=RF(r),l=s.path,h=s.queryId,p=Kr(l,t);return OF(n,l,new sp(yF(h),p,e))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,H.UI)(e,_=>ti(_));l=function fne(n,t,e){const i=Pn.fromObject(e);return y_(n,new g_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=ti(e);l=k0(n.serverSyncTree_,s,p)}let h=s;l.length>0&&(h=v_(n,s)),Bo(n.eventQueue_,h,l)}function ZW(n,t){zF(n,"connected",t),!1===t&&function jne(n){cp(n,"onDisconnectEvents");const t=V0(n),e=qA();mF(n.onDisconnect_,sn(),(r,s)=>{const l=function(n,t,e,i){return LF(t,new NF(e,n),i)}(r,s,n.serverSyncTree_,t);m_(e,r,l)});let i=[];mF(e,sn(),(r,s)=>{i=i.concat(k0(n.serverSyncTree_,r,s));const l=function YF(n,t){const e=P0(XW(n,t)),i=aS(n.transactionQueueTree_,t);return function Ane(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{ZF(n,r)}),ZF(n,i),UW(i,r=>{ZF(n,r)}),e}(n,r);v_(n,l)}),n.onDisconnect_=qA(),Bo(n.eventQueue_,sn(),i)}(n)}function zF(n,t,e){const i=new fn("/.info/"+t),r=ti(e);n.infoData_.updateSnapshot(i,r);const s=k0(n.infoSyncTree_,i,r);Bo(n.eventQueue_,i,s)}function dS(n){return n.nextWriteId_++}function cp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ir(e,...t)}function qF(n,t,e){return sS(n.serverSyncTree_,t,e)||Ft.EMPTY_NODE}function hS(n,t=n.transactionQueueTree_){if(t||fS(n,t),lp(t)){const e=JW(n,t);(0,H.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Zne(n,t,e){const i=e.map(_=>_.currentWriteId),r=qF(n,t,i);let s=r;const l=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,H.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const D=Kr(t,b.path);s=s.updateChild(D,b.currentOutputSnapshotRaw)}const h=s.val(!0),p=t;n.server_.put(p.toString(),h,_=>{cp(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const D=[];for(let A=0;A<e.length;A++)e[A].status=2,b=b.concat(Cd(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&D.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();fS(n,aS(n.transactionQueueTree_,t)),hS(n,n.transactionQueueTree_),Bo(n.eventQueue_,t,b);for(let A=0;A<D.length;A++)c_(D[A])}else{if("datastale"===_)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{Pr("transaction at "+p.toString()+" failed: "+_);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=_}v_(n,t)}},l)}(n,P0(t),e)}else BW(t)&&lS(t,e=>{hS(n,e)})}function v_(n,t){const e=XW(n,t),i=P0(e);return function Kne(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const p=t[h],_=Kr(e,p.path);let D,b=!1;if((0,H.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,D=p.abortReason,r=r.concat(Cd(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,D="maxretry",r=r.concat(Cd(n.serverSyncTree_,p.currentWriteId,!0));else{const A=qF(n,p.path,l);p.currentInputSnapshot=A;const x=t[h].update(A.val());if(void 0!==x){F0("transaction failed: Data returned ",x,p.path);let O=ti(x);"object"==typeof x&&null!=x&&(0,H.r3)(x,".priority")||(O=O.updatePriority(A.getPriority()));const oe=p.currentWriteId,ze=V0(n),qe=FF(O,A,ze);p.currentOutputSnapshotRaw=O,p.currentOutputSnapshotResolved=qe,p.currentWriteId=dS(n),l.splice(l.indexOf(oe),1),r=r.concat(xF(n.serverSyncTree_,p.path,qe,p.currentWriteId,p.applyLocally)),r=r.concat(Cd(n.serverSyncTree_,oe,!0))}else b=!0,D="nodata",r=r.concat(Cd(n.serverSyncTree_,p.currentWriteId,!0))}Bo(n.eventQueue_,e,r),r=[],b&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===D?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(D),!1,null)))}fS(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)c_(i[h]);hS(n,n.transactionQueueTree_)}(n,JW(n,e),i),i}function XW(n,t){let e,i=n.transactionQueueTree_;for(e=jt(t);null!==e&&void 0===lp(i);)i=aS(i,e),e=jt(t=Sn(t));return i}function JW(n,t){const e=[];return e6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function e6(n,t,e){const i=lp(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);lS(t,r=>{e6(n,r,e)})}function fS(n,t){const e=lp(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,BF(t,e.length>0?e:void 0)}lS(t,i=>{fS(n,i)})}function ZF(n,t){const e=lp(t);if(e){const i=[];let r=[],s=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,H.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,e[l].status=3,e[l].abortReason="set"):((0,H.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(Cd(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?BF(t,void 0):e.length=s+1,Bo(n.eventQueue_,P0(t),r);for(let l=0;l<i.length;l++)c_(i[l])}}const KF=function(n,t){const e=Jne(n),i=e.namespace;return"firebase.com"===e.domain&&wl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&wl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Z1(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new fn(e.pathString)}},Jne=function(n){let t="",e="",i="",r="",s="",l=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(b,D)),b<D&&(r=function Qne(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,D)));const A=function Xne(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));_=t.indexOf(":"),_>=0?(l="https"===h||"wss"===h,p=parseInt(t.substring(_+1),10)):_=t.length;const x=t.slice(0,_);if("localhost"===x.toLowerCase())e="localhost";else if(x.split(".").length<=2)e=x;else{const O=t.indexOf(".");i=t.substring(0,O).toLowerCase(),e=t.substring(O+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:l,scheme:h,pathString:r,namespace:s}};class Xs{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return $t(this._path)?null:tF(this._path)}get ref(){return new Ea(this._repo,this._path)}get _queryIdentifier(){const t=aW(this._queryParams),e=W1(t);return"{}"===e?"default":e}get _queryObject(){return aW(this._queryParams)}isEqual(t){if(!((t=(0,H.m9)(t))instanceof Xs))return!1;const e=this._repo===t._repo,i=nF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $ee(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Ea extends Xs{constructor(t,e){super(t,e,new dF,!1)}get parent(){const t=GG(this._path);return null===t?null:new Ea(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function rne(n){(0,H.hu)(!tS,"__referenceConstructor has already been defined"),tS=n})(Ea),function cne(n){(0,H.hu)(!iS,"__referenceConstructor has already been defined"),iS=n}(Ea);const QF={};class yie{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Vne(n,t,e){if(n.stats_=X1(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new WA(n.repoInfo_,(i,r,s,l)=>{YW(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ZW(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new rp(n.repoInfo_,t,(i,r,s,l)=>{YW(n,i,r,s,l)},i=>{ZW(n,i)},i=>{!function Bne(n,t){rr(t,(e,i)=>{zF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function wee(n,t){const e=n.toString();return Q1[e]||(Q1[e]=t()),Q1[e]}(n.repoInfo_,()=>new Cte(n.stats_,n.server_)),n.infoData_=new _te,n.infoSyncTree_=new xW({startListening:(i,r,s,l)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=k0(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),zF(n,"connected",!1),n.serverSyncTree_=new xW({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(h,p)=>{const _=l(h,p);Bo(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ea(this._repo,sn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function mie(n,t){const e=QF[t];(!e||e[n.key]!==n)&&wl(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function QW(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&wl("Cannot call "+t+" on a deleted database.")}}function vie(n=(0,xt.getApp)(),t){return(0,xt._getProvider)(n,"database").getImmediate({identifier:t})}rp.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},rp.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function bie(n){(function oee(n){$1=n})(xt.SDK_VERSION),(0,xt._registerComponent)(new ps.wA("database",(t,{instanceIdentifier:e})=>function pie(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||wl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ir("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,l=KF(s,r),h=l.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,l=KF(s,r),h=l.repoInfo):p=!l.repoInfo.secure;const b=r&&p?new v0(v0.OWNER):new yee(n.name,n.options,t);$W("Invalid Firebase Database URL",l),$t(l.path)||wl("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function gie(n,t,e,i){let r=QF[t.name];r||(r={},QF[t.name]=r);let s=r[n.toURLString()];return s&&wl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Lne(n,!1,e,i),r[n.toURLString()]=s,s}(h,n,b,new _ee(n.name,e));return new yie(D,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(aG,"0.13.4",n),(0,xt.registerVersion)(aG,"0.13.4","esm2017")}();class XF{constructor(t){return t}}const c6="database",JF=new c.OlP("angularfire2.database-instances");function Iie(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new XF(i)}}const Tie={provide:class Eie{constructor(){return jb(c6)}},deps:[[new c.FiY,JF]]},Aie={provide:XF,useFactory:function Die(n,t){const e=Hb(c6,n,t);return e&&new XF(e)},deps:[[new c.FiY,JF],qf]};let Sie=(()=>{class n{constructor(){(0,xt.registerVersion)("angularfire",Dg.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Aie,Tie]}),n})();function Mie(n,...t){return{ngModule:Sie,providers:[{provide:JF,useFactory:Iie(n),multi:!0,deps:[c.R0b,c.zs3,o,$T,[new c.FiY,H1],[new c.FiY,i_],...t]}]}}const xie=T(vie,!0);class eL{constructor(t){return t}}const u6="firestore",tL=new c.OlP("angularfire2.firestore-instances");function Oie(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new eL(i)}}const Pie={provide:class kie{constructor(){return jb(u6)}},deps:[[new c.FiY,tL]]},Nie={provide:eL,useFactory:function Rie(n,t){const e=Hb(u6,n,t);return e&&new eL(e)},deps:[[new c.FiY,tL],qf]};let Fie=(()=>{class n{constructor(){(0,xt.registerVersion)("angularfire",Dg.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Nie,Pie]}),n})();function Lie(n,...t){return{ngModule:Fie,providers:[{provide:tL,useFactory:Oie(n),multi:!0,deps:[c.R0b,c.zs3,o,$T,[new c.FiY,H1],[new c.FiY,i_],...t]}]}}const Vie=T(Z8,!0);let Bie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[X9]}),n.\u0275inj=c.cJS({providers:[[{provide:R.Dh,useValue:B1.firebase}]],imports:[ji,L9,QJ,j9,Q9,JQ,w$,O9,ok,V7,NN,MQ,Ux,O7,G7,r9,y9,iZ(()=>rZ(B1.firebase)),ree(()=>see()),Mie(()=>xie()),Lie(()=>Vie())]}),n})();B1.production&&(0,c.G48)(),zd().bootstrapModule(Bie).catch(n=>console.error(n))},127:(ht,Me,N)=>{N.d(Me,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.9.2","app-compat")},5881:(ht,Me,N)=>{N.r(Me);var c=N(5861),V=N(3942),P=N(6457),ue=N(2090),he=(N(9681),N(1877),N(4859));function be(){return window}function G(){return(G=(0,c.Z)(function*(J,L,B){var fe;const{BuildInfo:Be}=be();(0,P.aq)(L.sessionId,"AuthEvent did not contain a session ID");const pt=yield pe(L.sessionId),we={};return(0,P.ar)()?we.ibi=Be.packageName:(0,P.as)()?we.apn=Be.packageName:(0,P.at)(J,"operation-not-supported-in-this-environment"),Be.displayName&&(we.appDisplayName=Be.displayName),we.sessionId=pt,(0,P.au)(J,B,L.type,void 0,null!==(fe=L.eventId)&&void 0!==fe?fe:void 0,we)})).apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(J){const{BuildInfo:L}=be(),B={};(0,P.ar)()?B.iosBundleId=L.packageName:(0,P.as)()?B.androidPackageName=L.packageName:(0,P.at)(J,"operation-not-supported-in-this-environment"),yield(0,P.av)(J,B)})).apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(J,L,B){const{cordova:fe}=be();let Be=()=>{};try{yield new Promise((pt,we)=>{let We=null;function _t(){var gt;pt();const ri=null===(gt=fe.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof ri&&ri(),"function"==typeof B?.close&&B.close()}function pn(){We||(We=window.setTimeout(()=>{we((0,P.aw)(J,"redirect-cancelled-by-user"))},2e3))}function ii(){"visible"===document?.visibilityState&&pn()}L.addPassiveListener(_t),document.addEventListener("resume",pn,!1),(0,P.as)()&&document.addEventListener("visibilitychange",ii,!1),Be=()=>{L.removePassiveListener(_t),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",ii,!1),We&&window.clearTimeout(We)}})}finally{Be()}})).apply(this,arguments)}function pe(J){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(J){const L=it(J),B=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(B)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function it(J){if((0,P.aq)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const L=new ArrayBuffer(J.length),B=new Uint8Array(L);for(let fe=0;fe<J.length;fe++)B[fe]=J.charCodeAt(fe);return B}class Ie extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(L)),super.onEvent(L)}initialized(){var L=this;return(0,c.Z)(function*(){yield L.initPromise})()}}function ie(J){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(J){const L=yield Q()._get(ce(J));return L&&(yield Q()._remove(ce(J))),L})).apply(this,arguments)}function Z(){const J=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const fe=Math.floor(Math.random()*L.length);J.push(L.charAt(fe))}return J.join("")}function Q(){return(0,P.ay)(P.b)}function ce(J){return(0,P.az)("authEvent",J.config.apiKey,J.name)}function Oe(J){if(!J?.includes("?"))return{};const[L,...B]=J.split("?");return(0,ue.zd)(B.join("?"))}function $e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Lt(){var J;return(null===(J=self?.location)||void 0===J?void 0:J.protocol)||null}function Ni(J=(0,ue.z$)()){return!("file:"!==Lt()&&"ionic:"!==Lt()&&"capacitor:"!==Lt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){try{const J=self.localStorage,L=P.aI();if(J)return J.setItem(L,"1"),J.removeItem(L),!function Ds(J=(0,ue.z$)()){return function Es(){return(0,ue.w1)()&&11===document?.documentMode}()||function Mn(J=(0,ue.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,ue.hl)()}catch{return Cr()&&(0,ue.hl)()}return!1}function Cr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fi(){return(function kt(){return"http:"===Lt()||"https:"===Lt()}()||(0,ue.ru)()||Ni())&&!function eo(){return(0,ue.b$)()||(0,ue.UG)()}()&&wr()&&!Cr()}function to(){return Ni()&&typeof document<"u"}function vn(){return(vn=(0,c.Z)(function*(){return!!to()&&new Promise(J=>{const L=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),J(!0)})})})).apply(this,arguments)}const Kt={LOCAL:"local",NONE:"none",SESSION:"session"},yi=P.ax,Xr="persistence";function cn(J){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,c.Z)(function*(J){yield J._initializationPromise;const L=et(),B=P.az(Xr,J.config.apiKey,J.name);L&&L.setItem(B,J._getPersistence())})).apply(this,arguments)}function et(){var J;try{return(null===(J=function or(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const Xe=P.ax;class Nn{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class zt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(L){var B=this;return(0,c.Z)(function*(){const fe=L._key();let Be=B.eventManagers.get(fe);return Be||(Be=new Ie(L),B.eventManagers.set(fe,Be),B.attachCallbackListeners(L,Be)),Be})()}_openPopup(L){(0,P.at)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,B,fe,Be){var pt=this;return(0,c.Z)(function*(){!function ae(J){var L,B,fe,Be,pt,we,We,_t,pn,ii;const gt=be();(0,P.ax)("function"==typeof(null===(L=gt?.universalLinks)||void 0===L?void 0:L.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(B=gt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(pt=null===(Be=null===(fe=gt?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===pt?void 0:pt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(_t=null===(We=null===(we=gt?.cordova)||void 0===we?void 0:we.plugins)||void 0===We?void 0:We.browsertab)||void 0===_t?void 0:_t.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(ii=null===(pn=gt?.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===ii?void 0:ii.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const we=yield pt._initialize(L);yield we.initialized(),we.resetRedirect(),(0,P.aD)(),yield pt._originValidation(L);const We=function ye(J,L,B=null){return{type:L,eventId:B,urlResponse:null,sessionId:Z(),postBody:null,tenantId:J.tenantId,error:(0,P.aw)(J,"no-auth-event")}}(L,fe,Be);yield function He(J,L){return Q()._set(ce(J),L)}(L,We);const _t=yield function z(J,L,B){return G.apply(this,arguments)}(L,We,B),pn=yield function Le(J){const{cordova:L}=be();return new Promise(B=>{L.plugins.browsertab.isAvailable(fe=>{let Be=null;fe?L.plugins.browsertab.openUrl(J):Be=L.InAppBrowser.open(J,(0,P.ap)()?"_blank":"_system","location=yes"),B(Be)})})}(_t);return function Ce(J,L,B){return Je.apply(this,arguments)}(L,we,pn)})()}_isIframeWebStorageSupported(L,B){throw new Error("Method not implemented.")}_originValidation(L){const B=L._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function X(J){return Ue.apply(this,arguments)}(L)),this.originValidationPromises[B]}attachCallbackListeners(L,B){const{universalLinks:fe,handleOpenURL:Be,BuildInfo:pt}=be(),we=setTimeout((0,c.Z)(function*(){yield ie(L),B.onEvent($e())}),500),We=function(){var ii=(0,c.Z)(function*(gt){clearTimeout(we);const ri=yield ie(L);let mn=null;ri&&gt?.url&&(mn=function me(J,L){var B,fe;const Be=function Re(J){const L=Oe(J),B=L.link?decodeURIComponent(L.link):void 0,fe=Oe(B).link,Be=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return Oe(Be).link||Be||fe||B||J}(L);if(Be.includes("/__/auth/callback")){const pt=Oe(Be),we=pt.firebaseError?function ne(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,We=null===(fe=null===(B=we?.code)||void 0===B?void 0:B.split("auth/"))||void 0===fe?void 0:fe[1],_t=We?(0,P.aw)(We):null;return _t?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:_t,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:Be,postBody:null}}return null}(ri,gt.url)),B.onEvent(mn||$e())});return function(ri){return ii.apply(this,arguments)}}();typeof fe<"u"&&"function"==typeof fe.subscribe&&fe.subscribe(null,We);const _t=Be,pn=`${pt.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var ii=(0,c.Z)(function*(gt){if(gt.toLowerCase().startsWith(pn)&&We({url:gt}),"function"==typeof _t)try{_t(gt)}catch(ri){console.error(ri)}});return function(gt){return ii.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(L){var B=this;return(0,c.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,B,fe,Be){var pt=this;return(0,c.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(L,B,fe,Be)})()}_openRedirect(L,B,fe,Be){var pt=this;return(0,c.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(L,B,fe,Be)})()}_isIframeWebStorageSupported(L,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,B)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return to()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,c.Z)(function*(){if(L.underlyingResolver)return;const B=yield function ft(){return vn.apply(this,arguments)}();L.underlyingResolver=B?L.cordovaResolver:L.browserResolver})()}}function Li(J){return J.unwrap()}function Ot(J){return Vi(J)}function Vi(J){const{_tokenResponse:L}=J instanceof ue.ZR?J.customData:J;if(!L)return null;if(!(J instanceof ue.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return P.P.credentialFromResult(J);const B=L.providerId;if(!B||B===P.o.PASSWORD)return null;let fe;switch(B){case P.o.GOOGLE:fe=P.Q;break;case P.o.FACEBOOK:fe=P.N;break;case P.o.GITHUB:fe=P.T;break;case P.o.TWITTER:fe=P.W;break;default:const{oauthIdToken:Be,oauthAccessToken:pt,oauthTokenSecret:we,pendingToken:We,nonce:_t}=L;return pt||we||Be||We?We?B.startsWith("saml.")?P.aL._create(B,We):P.J._fromParams({providerId:B,signInMethod:B,pendingToken:We,idToken:Be,accessToken:pt}):new P.U(B).credential({idToken:Be,accessToken:pt,rawNonce:_t}):null}return J instanceof ue.ZR?fe.credentialFromError(J):fe.credentialFromResult(J)}function At(J,L){return L.catch(B=>{throw B instanceof ue.ZR&&function Ln(J,L){var B,fe;const Be=null===(B=L.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(fe=L)||void 0===fe?void 0:fe.code))L.resolver=new Y(J,P.an(J,L));else if(Be){const pt=Vi(L),we=L;pt&&(we.credential=pt,we.tenantId=Be.tenantId||void 0,we.email=Be.email||void 0,we.phoneNumber=Be.phoneNumber||void 0)}}(J,B),B}).then(B=>{const Be=B.user;return{operationType:B.operationType,credential:Ot(B),additionalUserInfo:P.al(B),user:U.getOrCreate(Be)}})}function Jr(J,L){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(J,L){const B=yield L;return{verificationId:B.verificationId,confirm:fe=>At(J,B.confirm(fe))}})).apply(this,arguments)}class Y{constructor(L,B){this.resolver=B,this.auth=function Fn(J){return J.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return At(Li(this.auth),this.resolver.resolveSignIn(L))}}class U{constructor(L){this._delegate=L,this.multiFactor=P.ao(L)}static getOrCreate(L){return U.USER_MAP.has(L)||U.USER_MAP.set(L,new U(L)),U.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var B=this;return(0,c.Z)(function*(){return At(B.auth,P.Z(B._delegate,L))})()}linkWithPhoneNumber(L,B){var fe=this;return(0,c.Z)(function*(){return Jr(fe.auth,P.l(fe._delegate,L,B))})()}linkWithPopup(L){var B=this;return(0,c.Z)(function*(){return At(B.auth,P.d(B._delegate,L,Nn))})()}linkWithRedirect(L){var B=this;return(0,c.Z)(function*(){return yield cn(P.aE(B.auth)),P.g(B._delegate,L,Nn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var B=this;return(0,c.Z)(function*(){return At(B.auth,P._(B._delegate,L))})()}reauthenticateWithPhoneNumber(L,B){return Jr(this.auth,P.r(this._delegate,L,B))}reauthenticateWithPopup(L){return At(this.auth,P.e(this._delegate,L,Nn))}reauthenticateWithRedirect(L){var B=this;return(0,c.Z)(function*(){return yield cn(P.aE(B.auth)),P.h(B._delegate,L,Nn)})()}sendEmailVerification(L){return P.ab(this._delegate,L)}unlink(L){var B=this;return(0,c.Z)(function*(){return yield P.ak(B._delegate,L),B})()}updateEmail(L){return P.ag(this._delegate,L)}updatePassword(L){return P.ah(this._delegate,L)}updatePhoneNumber(L){return P.u(this._delegate,L)}updateProfile(L){return P.af(this._delegate,L)}verifyBeforeUpdateEmail(L,B){return P.ac(this._delegate,L,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}U.USER_MAP=new WeakMap;const F=P.ax;let j=(()=>{class J{constructor(B,fe){if(this.app=B,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=B.options;F(Be,"invalid-api-key",{appName:B.name}),F(Be,"invalid-api-key",{appName:B.name});const pt=typeof window<"u"?Nn:void 0;this._delegate=fe.initialize({options:{persistence:ve(Be,B.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?U.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,fe){P.G(this._delegate,B,fe)}applyActionCode(B){return P.a2(this._delegate,B)}checkActionCode(B){return P.a3(this._delegate,B)}confirmPasswordReset(B,fe){return P.a1(this._delegate,B,fe)}createUserWithEmailAndPassword(B,fe){var Be=this;return(0,c.Z)(function*(){return At(Be._delegate,P.a5(Be._delegate,B,fe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return P.aa(this._delegate,B)}isSignInWithEmailLink(B){return P.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,c.Z)(function*(){F(Fi(),B._delegate,"operation-not-supported-in-this-environment");const fe=yield P.j(B._delegate,Nn);return fe?At(B._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function on(J,L){(0,P.aE)(J)._logFramework(L)}(this._delegate,B)}onAuthStateChanged(B,fe,Be){const{next:pt,error:we,complete:We}=$(B,fe,Be);return this._delegate.onAuthStateChanged(pt,we,We)}onIdTokenChanged(B,fe,Be){const{next:pt,error:we,complete:We}=$(B,fe,Be);return this._delegate.onIdTokenChanged(pt,we,We)}sendSignInLinkToEmail(B,fe){return P.a7(this._delegate,B,fe)}sendPasswordResetEmail(B,fe){return P.a0(this._delegate,B,fe||void 0)}setPersistence(B){var fe=this;return(0,c.Z)(function*(){let Be;switch(function vi(J,L){yi(Object.values(Kt).includes(L),J,"invalid-persistence-type"),(0,ue.b$)()?yi(L!==Kt.SESSION,J,"unsupported-persistence-type"):(0,ue.UG)()?yi(L===Kt.NONE,J,"unsupported-persistence-type"):Cr()?yi(L===Kt.NONE||L===Kt.LOCAL&&(0,ue.hl)(),J,"unsupported-persistence-type"):yi(L===Kt.NONE||wr(),J,"unsupported-persistence-type")}(fe._delegate,B),B){case Kt.SESSION:Be=P.a;break;case Kt.LOCAL:Be=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case Kt.NONE:Be=P.L;break;default:return P.at("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return At(this._delegate,P.X(this._delegate))}signInWithCredential(B){return At(this._delegate,P.Y(this._delegate,B))}signInWithCustomToken(B){return At(this._delegate,P.$(this._delegate,B))}signInWithEmailAndPassword(B,fe){return At(this._delegate,P.a6(this._delegate,B,fe))}signInWithEmailLink(B,fe){return At(this._delegate,P.a9(this._delegate,B,fe))}signInWithPhoneNumber(B,fe){return Jr(this._delegate,P.s(this._delegate,B,fe))}signInWithPopup(B){var fe=this;return(0,c.Z)(function*(){return F(Fi(),fe._delegate,"operation-not-supported-in-this-environment"),At(fe._delegate,P.c(fe._delegate,B,Nn))})()}signInWithRedirect(B){var fe=this;return(0,c.Z)(function*(){return F(Fi(),fe._delegate,"operation-not-supported-in-this-environment"),yield cn(fe._delegate),P.f(fe._delegate,B,Nn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return P.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=Kt,J})();function $(J,L,B){let fe=J;"function"!=typeof J&&({next:fe,error:L,complete:B}=J);const Be=fe;return{next:we=>Be(we&&U.getOrCreate(we)),error:L,complete:B}}function ve(J,L){const B=function un(J,L){const B=et();if(!B)return[];const fe=P.az(Xr,J,L);switch(B.getItem(fe)){case Kt.NONE:return[P.L];case Kt.LOCAL:return[P.i,P.a];case Kt.SESSION:return[P.a];default:return[]}}(J,L);if(typeof self<"u"&&!B.includes(P.i)&&B.push(P.i),typeof window<"u")for(const fe of[P.b,P.a])B.includes(fe)||B.push(fe);return B.includes(P.L)||B.push(P.L),B}class je{constructor(){this.providerId="phone",this._delegate=new P.P(Li(V.Z.auth()))}static credential(L,B){return P.P.credential(L,B)}verifyPhoneNumber(L,B){return this._delegate.verifyPhoneNumber(L,B)}unwrap(){return this._delegate}}je.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,je.PROVIDER_ID=P.P.PROVIDER_ID;const mt=P.ax;class Qt{constructor(L,B,fe=V.Z.app()){var Be;mt(null===(Be=fe.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new P.R(L,B,fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yn(J){J.INTERNAL.registerComponent(new he.wA("auth-compat",L=>{const B=L.getProvider("app-compat").getImmediate(),fe=L.getProvider("auth");return new j(B,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:je,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Qt,TwitterAuthProvider:P.W,Auth:j,AuthCredential:P.H,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.18")}(V.Z)},9751:(ht,Me,N)=>{N.d(Me,{y:()=>be});var c=N(930),V=N(727),P=N(8822),ue=N(9635),Ae=N(2416),De=N(576),he=N(2806);let be=(()=>{class X{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Ce=new X;return Ce.source=this,Ce.operator=Le,Ce}subscribe(Le,Ce,Je){const ae=function G(X){return X&&X instanceof c.Lv||function z(X){return X&&(0,De.m)(X.next)&&(0,De.m)(X.error)&&(0,De.m)(X.complete)}(X)&&(0,V.Nn)(X)}(Le)?Le:new c.Hp(Le,Ce,Je);return(0,he.x)(()=>{const{operator:pe,source:nt}=this;ae.add(pe?pe.call(ae,nt):nt?this._subscribe(ae):this._trySubscribe(ae))}),ae}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Ce){Le.error(Ce)}}forEach(Le,Ce){return new(Ce=Fe(Ce))((Je,ae)=>{const pe=new c.Hp({next:nt=>{try{Le(nt)}catch(it){ae(it),pe.unsubscribe()}},error:ae,complete:Je});this.subscribe(pe)})}_subscribe(Le){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Le)}[P.L](){return this}pipe(...Le){return(0,ue.U)(Le)(this)}toPromise(Le){return new(Le=Fe(Le))((Ce,Je)=>{let ae;this.subscribe(pe=>ae=pe,pe=>Je(pe),()=>Ce(ae))})}}return X.create=Ue=>new X(Ue),X})();function Fe(X){var Ue;return null!==(Ue=X??Ae.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ht,Me,N)=>{N.d(Me,{x:()=>he});var c=N(9751),V=N(727);const ue=(0,N(3888).d)(Fe=>function(){Fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=N(8737),De=N(2806);let he=(()=>{class Fe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const X=new be(this,this);return X.operator=G,X}_throwIfClosed(){if(this.closed)throw new ue}next(G){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(G)}})}error(G){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:X}=this;for(;X.length;)X.shift().error(G)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:X,isStopped:Ue,observers:Le}=this;return X||Ue?V.Lc:(this.currentObservers=null,Le.push(G),new V.w0(()=>{this.currentObservers=null,(0,Ae.P)(Le,G)}))}_checkFinalizedStatuses(G){const{hasError:X,thrownError:Ue,isStopped:Le}=this;X?G.error(Ue):Le&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return Fe.create=(z,G)=>new be(z,G),Fe})();class be extends he{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===X||X.call(G,z)}error(z){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===X||X.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,X;return null!==(X=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==X?X:V.Lc}}},930:(ht,Me,N)=>{N.d(Me,{Hp:()=>Je,Lv:()=>X});var c=N(576),V=N(727),P=N(2416),ue=N(7849),Ae=N(5032);const De=Fe("C",void 0,void 0);function Fe(ke,Ie,ye){return{kind:ke,value:Ie,error:ye}}var z=N(3410),G=N(2806);class X extends V.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,V.Nn)(Ie)&&Ie.add(this)):this.destination=it}static create(Ie,ye,He){return new Je(Ie,ye,He)}next(Ie){this.isStopped?nt(function be(ke){return Fe("N",ke,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?nt(function he(ke){return Fe("E",void 0,ke)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?nt(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Le(ke,Ie){return Ue.call(ke,Ie)}class Ce{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Ie)}catch(He){ae(He)}}error(Ie){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Ie)}catch(He){ae(He)}else ae(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(ye){ae(ye)}}}class Je extends X{constructor(Ie,ye,He){let ie;if(super(),(0,c.m)(Ie)||!Ie)ie={next:Ie??void 0,error:ye??void 0,complete:He??void 0};else{let re;this&&P.v.useDeprecatedNextContext?(re=Object.create(Ie),re.unsubscribe=()=>this.unsubscribe(),ie={next:Ie.next&&Le(Ie.next,re),error:Ie.error&&Le(Ie.error,re),complete:Ie.complete&&Le(Ie.complete,re)}):ie=Ie}this.destination=new Ce(ie)}}function ae(ke){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(ke):(0,ue.h)(ke)}function nt(ke,Ie){const{onStoppedNotification:ye}=P.v;ye&&z.z.setTimeout(()=>ye(ke,Ie))}const it={closed:!0,next:Ae.Z,error:function pe(ke){throw ke},complete:Ae.Z}},727:(ht,Me,N)=>{N.d(Me,{Lc:()=>De,w0:()=>Ae,Nn:()=>he});var c=N(576);const P=(0,N(3888).d)(Fe=>function(G){Fe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((X,Ue)=>`${Ue+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ue=N(8737);class Ae{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Le of G)Le.remove(this);else G.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(Le){z=Le instanceof P?Le.errors:[Le]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Le of Ue)try{be(Le)}catch(Ce){z=z??[],Ce instanceof P?z=[...z,...Ce.errors]:z.push(Ce)}}if(z)throw new P(z)}}add(z){var G;if(z&&z!==this)if(this.closed)be(z);else{if(z instanceof Ae){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,ue.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,ue.P)(G,z),z instanceof Ae&&z._removeParent(this)}}Ae.EMPTY=(()=>{const Fe=new Ae;return Fe.closed=!0,Fe})();const De=Ae.EMPTY;function he(Fe){return Fe instanceof Ae||Fe&&"closed"in Fe&&(0,c.m)(Fe.remove)&&(0,c.m)(Fe.add)&&(0,c.m)(Fe.unsubscribe)}function be(Fe){(0,c.m)(Fe)?Fe():Fe.unsubscribe()}},2416:(ht,Me,N)=>{N.d(Me,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Me,N)=>{N.d(Me,{E:()=>V});const V=new(N(9751).y)(Ae=>Ae.complete())},8996:(ht,Me,N)=>{N.d(Me,{D:()=>Ie});var c=N(8421),V=N(5363),P=N(9468),De=N(9751),be=N(2202),Fe=N(576),z=N(9672);function X(ye,He){if(!ye)throw new Error("Iterable cannot be null");return new De.y(ie=>{(0,z.f)(ie,He,()=>{const re=ye[Symbol.asyncIterator]();(0,z.f)(ie,He,()=>{re.next().then(me=>{me.done?ie.complete():ie.next(me.value)})},0,!0)})})}var Ue=N(3670),Le=N(8239),Ce=N(1144),Je=N(6495),ae=N(2206),pe=N(4532),nt=N(3260);function Ie(ye,He){return He?function ke(ye,He){if(null!=ye){if((0,Ue.c)(ye))return function ue(ye,He){return(0,c.Xf)(ye).pipe((0,P.R)(He),(0,V.Q)(He))}(ye,He);if((0,Ce.z)(ye))return function he(ye,He){return new De.y(ie=>{let re=0;return He.schedule(function(){re===ye.length?ie.complete():(ie.next(ye[re++]),ie.closed||this.schedule())})})}(ye,He);if((0,Le.t)(ye))return function Ae(ye,He){return(0,c.Xf)(ye).pipe((0,P.R)(He),(0,V.Q)(He))}(ye,He);if((0,ae.D)(ye))return X(ye,He);if((0,Je.T)(ye))return function G(ye,He){return new De.y(ie=>{let re;return(0,z.f)(ie,He,()=>{re=ye[be.h](),(0,z.f)(ie,He,()=>{let me,Z;try{({value:me,done:Z}=re.next())}catch(Q){return void ie.error(Q)}Z?ie.complete():ie.next(me)},0,!0)}),()=>(0,Fe.m)(re?.return)&&re.return()})}(ye,He);if((0,nt.L)(ye))return function it(ye,He){return X((0,nt.Q)(ye),He)}(ye,He)}throw(0,pe.z)(ye)}(ye,He):(0,c.Xf)(ye)}},8421:(ht,Me,N)=>{N.d(Me,{Xf:()=>Ue});var c=N(655),V=N(1144),P=N(8239),ue=N(9751),Ae=N(3670),De=N(2206),he=N(4532),be=N(6495),Fe=N(3260),z=N(576),G=N(7849),X=N(8822);function Ue(ke){if(ke instanceof ue.y)return ke;if(null!=ke){if((0,Ae.c)(ke))return function Le(ke){return new ue.y(Ie=>{const ye=ke[X.L]();if((0,z.m)(ye.subscribe))return ye.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,V.z)(ke))return function Ce(ke){return new ue.y(Ie=>{for(let ye=0;ye<ke.length&&!Ie.closed;ye++)Ie.next(ke[ye]);Ie.complete()})}(ke);if((0,P.t)(ke))return function Je(ke){return new ue.y(Ie=>{ke.then(ye=>{Ie.closed||(Ie.next(ye),Ie.complete())},ye=>Ie.error(ye)).then(null,G.h)})}(ke);if((0,De.D)(ke))return pe(ke);if((0,be.T)(ke))return function ae(ke){return new ue.y(Ie=>{for(const ye of ke)if(Ie.next(ye),Ie.closed)return;Ie.complete()})}(ke);if((0,Fe.L)(ke))return function nt(ke){return pe((0,Fe.Q)(ke))}(ke)}throw(0,he.z)(ke)}function pe(ke){return new ue.y(Ie=>{(function it(ke,Ie){var ye,He,ie,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ye=(0,c.KL)(ke);!(He=yield ye.next()).done;)if(Ie.next(He.value),Ie.closed)return}catch(me){ie={error:me}}finally{try{He&&!He.done&&(re=ye.return)&&(yield re.call(ye))}finally{if(ie)throw ie.error}}Ie.complete()})})(ke,Ie).catch(ye=>Ie.error(ye))})}},6451:(ht,Me,N)=>{N.d(Me,{T:()=>De});var c=N(8189),V=N(8421),P=N(515),ue=N(3269),Ae=N(8996);function De(...he){const be=(0,ue.yG)(he),Fe=(0,ue._6)(he,1/0),z=he;return z.length?1===z.length?(0,V.Xf)(z[0]):(0,c.J)(Fe)((0,Ae.D)(z,be)):P.E}},5403:(ht,Me,N)=>{N.d(Me,{x:()=>V});var c=N(930);function V(ue,Ae,De,he,be){return new P(ue,Ae,De,he,be)}class P extends c.Lv{constructor(Ae,De,he,be,Fe,z){super(Ae),this.onFinalize=Fe,this.shouldUnsubscribe=z,this._next=De?function(G){try{De(G)}catch(X){Ae.error(X)}}:super._next,this._error=be?function(G){try{be(G)}catch(X){Ae.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(G){Ae.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4004:(ht,Me,N)=>{N.d(Me,{U:()=>P});var c=N(4482),V=N(5403);function P(ue,Ae){return(0,c.e)((De,he)=>{let be=0;De.subscribe((0,V.x)(he,Fe=>{he.next(ue.call(Ae,Fe,be++))}))})}},8189:(ht,Me,N)=>{N.d(Me,{J:()=>P});var c=N(5577),V=N(4671);function P(ue=1/0){return(0,c.z)(V.y,ue)}},5577:(ht,Me,N)=>{N.d(Me,{z:()=>be});var c=N(4004),V=N(8421),P=N(4482),ue=N(9672),Ae=N(5403),he=N(576);function be(Fe,z,G=1/0){return(0,he.m)(z)?be((X,Ue)=>(0,c.U)((Le,Ce)=>z(X,Le,Ue,Ce))((0,V.Xf)(Fe(X,Ue))),G):("number"==typeof z&&(G=z),(0,P.e)((X,Ue)=>function De(Fe,z,G,X,Ue,Le,Ce,Je){const ae=[];let pe=0,nt=0,it=!1;const ke=()=>{it&&!ae.length&&!pe&&z.complete()},Ie=He=>pe<X?ye(He):ae.push(He),ye=He=>{Le&&z.next(He),pe++;let ie=!1;(0,V.Xf)(G(He,nt++)).subscribe((0,Ae.x)(z,re=>{Ue?.(re),Le?Ie(re):z.next(re)},()=>{ie=!0},void 0,()=>{if(ie)try{for(pe--;ae.length&&pe<X;){const re=ae.shift();Ce?(0,ue.f)(z,Ce,()=>ye(re)):ye(re)}ke()}catch(re){z.error(re)}}))};return Fe.subscribe((0,Ae.x)(z,Ie,()=>{it=!0,ke()})),()=>{Je?.()}}(X,Ue,Fe,G)))}},5363:(ht,Me,N)=>{N.d(Me,{Q:()=>ue});var c=N(9672),V=N(4482),P=N(5403);function ue(Ae,De=0){return(0,V.e)((he,be)=>{he.subscribe((0,P.x)(be,Fe=>(0,c.f)(be,Ae,()=>be.next(Fe),De),()=>(0,c.f)(be,Ae,()=>be.complete(),De),Fe=>(0,c.f)(be,Ae,()=>be.error(Fe),De)))})}},3099:(ht,Me,N)=>{N.d(Me,{B:()=>Ae});var c=N(8421),V=N(7579),P=N(930),ue=N(4482);function Ae(he={}){const{connector:be=(()=>new V.x),resetOnError:Fe=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=he;return X=>{let Ue,Le,Ce,Je=0,ae=!1,pe=!1;const nt=()=>{Le?.unsubscribe(),Le=void 0},it=()=>{nt(),Ue=Ce=void 0,ae=pe=!1},ke=()=>{const Ie=Ue;it(),Ie?.unsubscribe()};return(0,ue.e)((Ie,ye)=>{Je++,!pe&&!ae&&nt();const He=Ce=Ce??be();ye.add(()=>{Je--,0===Je&&!pe&&!ae&&(Le=De(ke,G))}),He.subscribe(ye),!Ue&&Je>0&&(Ue=new P.Hp({next:ie=>He.next(ie),error:ie=>{pe=!0,nt(),Le=De(it,Fe,ie),He.error(ie)},complete:()=>{ae=!0,nt(),Le=De(it,z),He.complete()}}),(0,c.Xf)(Ie).subscribe(Ue))})(X)}}function De(he,be,...Fe){if(!0===be)return void he();if(!1===be)return;const z=new P.Hp({next:()=>{z.unsubscribe(),he()}});return be(...Fe).subscribe(z)}},9468:(ht,Me,N)=>{N.d(Me,{R:()=>V});var c=N(4482);function V(P,ue=0){return(0,c.e)((Ae,De)=>{De.add(P.schedule(()=>Ae.subscribe(De),ue))})}},3410:(ht,Me,N)=>{N.d(Me,{z:()=>c});const c={setTimeout(V,P,...ue){const{delegate:Ae}=c;return Ae?.setTimeout?Ae.setTimeout(V,P,...ue):setTimeout(V,P,...ue)},clearTimeout(V){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(ht,Me,N)=>{N.d(Me,{h:()=>V});const V=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Me,N)=>{N.d(Me,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Me,N)=>{N.d(Me,{_6:()=>De,jO:()=>ue,yG:()=>Ae});var c=N(576),V=N(3532);function P(he){return he[he.length-1]}function ue(he){return(0,c.m)(P(he))?he.pop():void 0}function Ae(he){return(0,V.K)(P(he))?he.pop():void 0}function De(he,be){return"number"==typeof P(he)?he.pop():be}},8737:(ht,Me,N)=>{function c(V,P){if(V){const ue=V.indexOf(P);0<=ue&&V.splice(ue,1)}}N.d(Me,{P:()=>c})},3888:(ht,Me,N)=>{function c(V){const ue=V(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}N.d(Me,{d:()=>c})},2806:(ht,Me,N)=>{N.d(Me,{O:()=>ue,x:()=>P});var c=N(2416);let V=null;function P(Ae){if(c.v.useDeprecatedSynchronousErrorHandling){const De=!V;if(De&&(V={errorThrown:!1,error:null}),Ae(),De){const{errorThrown:he,error:be}=V;if(V=null,he)throw be}}else Ae()}function ue(Ae){c.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=Ae)}},9672:(ht,Me,N)=>{function c(V,P,ue,Ae=0,De=!1){const he=P.schedule(function(){ue(),De?V.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(V.add(he),!De)return he}N.d(Me,{f:()=>c})},4671:(ht,Me,N)=>{function c(V){return V}N.d(Me,{y:()=>c})},1144:(ht,Me,N)=>{N.d(Me,{z:()=>c});const c=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(ht,Me,N)=>{N.d(Me,{D:()=>V});var c=N(576);function V(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(ht,Me,N)=>{function c(V){return"function"==typeof V}N.d(Me,{m:()=>c})},3670:(ht,Me,N)=>{N.d(Me,{c:()=>P});var c=N(8822),V=N(576);function P(ue){return(0,V.m)(ue[c.L])}},6495:(ht,Me,N)=>{N.d(Me,{T:()=>P});var c=N(2202),V=N(576);function P(ue){return(0,V.m)(ue?.[c.h])}},8239:(ht,Me,N)=>{N.d(Me,{t:()=>V});var c=N(576);function V(P){return(0,c.m)(P?.then)}},3260:(ht,Me,N)=>{N.d(Me,{L:()=>ue,Q:()=>P});var c=N(655),V=N(576);function P(Ae){return(0,c.FC)(this,arguments,function*(){const he=Ae.getReader();try{for(;;){const{value:be,done:Fe}=yield(0,c.qq)(he.read());if(Fe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(be)}}finally{he.releaseLock()}})}function ue(Ae){return(0,V.m)(Ae?.getReader)}},3532:(ht,Me,N)=>{N.d(Me,{K:()=>V});var c=N(576);function V(P){return P&&(0,c.m)(P.schedule)}},4482:(ht,Me,N)=>{N.d(Me,{A:()=>V,e:()=>P});var c=N(576);function V(ue){return(0,c.m)(ue?.lift)}function P(ue){return Ae=>{if(V(Ae))return Ae.lift(function(De){try{return ue(De,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Me,N)=>{function c(){}N.d(Me,{Z:()=>c})},9635:(ht,Me,N)=>{N.d(Me,{U:()=>P,z:()=>V});var c=N(4671);function V(...ue){return P(ue)}function P(ue){return 0===ue.length?c.y:1===ue.length?ue[0]:function(De){return ue.reduce((he,be)=>be(he),De)}}},7849:(ht,Me,N)=>{N.d(Me,{h:()=>P});var c=N(2416),V=N(3410);function P(ue){V.z.setTimeout(()=>{const{onUnhandledError:Ae}=c.v;if(!Ae)throw ue;Ae(ue)})}},4532:(ht,Me,N)=>{function c(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Me,{z:()=>c})},655:(ht,Me,N)=>{function ue(Z,Q){var ce={};for(var ne in Z)Object.prototype.hasOwnProperty.call(Z,ne)&&Q.indexOf(ne)<0&&(ce[ne]=Z[ne]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ne=Object.getOwnPropertySymbols(Z);Re<ne.length;Re++)Q.indexOf(ne[Re])<0&&Object.prototype.propertyIsEnumerable.call(Z,ne[Re])&&(ce[ne[Re]]=Z[ne[Re]])}return ce}function be(Z,Q,ce,ne){return new(ce||(ce=Promise))(function(Oe,ct){function zt(on){try{$e(ne.next(on))}catch(_i){ct(_i)}}function Ht(on){try{$e(ne.throw(on))}catch(_i){ct(_i)}}function $e(on){on.done?Oe(on.value):function Re(Oe){return Oe instanceof ce?Oe:new ce(function(ct){ct(Oe)})}(on.value).then(zt,Ht)}$e((ne=ne.apply(Z,Q||[])).next())})}function ae(Z){return this instanceof ae?(this.v=Z,this):new ae(Z)}function pe(Z,Q,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ne=ce.apply(Z,Q||[]),Oe=[];return Re={},ct("next"),ct("throw"),ct("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function ct(an){ne[an]&&(Re[an]=function(Wt){return new Promise(function(Lt,kt){Oe.push([an,Wt,Lt,kt])>1||zt(an,Wt)})})}function zt(an,Wt){try{!function Ht(an){an.value instanceof ae?Promise.resolve(an.value.v).then($e,on):_i(Oe[0][2],an)}(ne[an](Wt))}catch(Lt){_i(Oe[0][3],Lt)}}function $e(an){zt("next",an)}function on(an){zt("throw",an)}function _i(an,Wt){an(Wt),Oe.shift(),Oe.length&&zt(Oe[0][0],Oe[0][1])}}function it(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,Q=Z[Symbol.asyncIterator];return Q?Q.call(Z):(Z=function X(Z){var Q="function"==typeof Symbol&&Symbol.iterator,ce=Q&&Z[Q],ne=0;if(ce)return ce.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ne>=Z.length&&(Z=void 0),{value:Z&&Z[ne++],done:!Z}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ce={},ne("next"),ne("throw"),ne("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function ne(Oe){ce[Oe]=Z[Oe]&&function(ct){return new Promise(function(zt,Ht){!function Re(Oe,ct,zt,Ht){Promise.resolve(Ht).then(function($e){Oe({value:$e,done:zt})},ct)}(zt,Ht,(ct=Z[Oe](ct)).done,ct.value)})}}}N.d(Me,{FC:()=>pe,KL:()=>it,_T:()=>ue,mG:()=>be,qq:()=>ae})},4650:(ht,Me,N)=>{N.d(Me,{$8M:()=>Pa,$Z:()=>EM,AFp:()=>nI,ALo:()=>DD,AaK:()=>be,AsE:()=>qE,BQk:()=>Au,CHM:()=>Yo,CRH:()=>FD,CZH:()=>uf,CqO:()=>gx,D6c:()=>Ub,EJc:()=>eR,EiD:()=>fh,EpF:()=>Om,F$t:()=>ME,F4k:()=>IE,FYo:()=>hy,FiY:()=>Ua,G48:()=>mR,Gf:()=>PD,GfV:()=>fy,Gpc:()=>G,Hsn:()=>vx,Ikx:()=>Xh,JOm:()=>Bs,JVY:()=>Wp,KtG:()=>Ld,L6k:()=>K_,LAX:()=>X_,LFG:()=>Hn,LSH:()=>lC,Lbi:()=>Xk,Lck:()=>_k,MAs:()=>Jy,MMx:()=>sf,NdJ:()=>TE,O4$:()=>Ip,OlP:()=>nn,Oqu:()=>WE,PXZ:()=>lR,Q6J:()=>bE,QGY:()=>DE,QP$:()=>Vu,QbO:()=>rI,Qsj:()=>_C,R0b:()=>Hr,RDi:()=>W_,Rgc:()=>gc,SBq:()=>_h,Sil:()=>gb,Suo:()=>ND,TTD:()=>ao,TgZ:()=>ev,Udp:()=>UE,VKq:()=>Qm,WFA:()=>AE,X6Q:()=>Sb,XFs:()=>ft,Xpm:()=>F,Xts:()=>Qp,Y36:()=>Sh,YKP:()=>_D,YNc:()=>mx,Yjl:()=>J,Yz7:()=>Wt,ZZ4:()=>Fb,_Bn:()=>Vv,_UZ:()=>CE,_Vd:()=>Ka,_c5:()=>Vb,_uU:()=>Mx,aQg:()=>Lb,c2e:()=>mb,cJS:()=>kt,cg1:()=>Bm,d8E:()=>Vm,dDg:()=>aR,dqk:()=>Xe,eBb:()=>Q_,eFA:()=>fI,ekj:()=>av,eoX:()=>cI,f3M:()=>aa,g9A:()=>pb,h0i:()=>fc,hGG:()=>Bb,hij:()=>dv,iGM:()=>OD,ifc:()=>et,ip1:()=>tI,kL8:()=>qx,kcU:()=>Tp,lG2:()=>Yn,lcZ:()=>xk,lqb:()=>su,lri:()=>aI,mCW:()=>ge,n5z:()=>Ra,n_E:()=>tg,oAB:()=>mt,oxw:()=>fs,pB0:()=>qp,q3G:()=>Xn,q4F:()=>uu,qLn:()=>yh,qOj:()=>_E,qZA:()=>tv,qzn:()=>Wa,rWj:()=>lI,sBO:()=>gR,sIi:()=>rc,s_b:()=>Ri,soG:()=>Uu,tb:()=>pg,tp0:()=>ca,uIk:()=>Mr,vHH:()=>Ce,vpe:()=>ko,wAp:()=>yt,xp6:()=>cM,ynx:()=>da,z2F:()=>Hu,z3N:()=>Ur,zSh:()=>oy,zs3:()=>_u});var c=N(7579),V=N(727),P=N(9751),ue=N(6451),Ae=N(3099);function De(o){for(let a in o)if(o[a]===De)return a;throw Error("Could not find renamed property on target object.")}function he(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function be(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(be).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Fe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const z=De({__forward_ref__:De});function G(o){return o.__forward_ref__=G,o.toString=function(){return be(this())},o}function X(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===G}class Ce extends Error{constructor(a,u){super(function Je(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,u)),this.code=a}}function ae(o){return"string"==typeof o?o:null==o?"":String(o)}function Ie(o,a){throw new Ce(-201,!1)}function Ht(o,a){null==o&&function $e(o,a,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Wt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function kt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ni(o){return eo(o,wr)||eo(o,Fi)}function eo(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ds(o){return o&&(o.hasOwnProperty(Cr)||o.hasOwnProperty(to))?o[Cr]:null}const wr=De({\u0275prov:De}),Cr=De({\u0275inj:De}),Fi=De({ngInjectableDef:De}),to=De({ngInjectorDef:De});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let vn;function Kt(o){const a=vn;return vn=o,a}function yi(o,a,u){const d=Ni(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ft.Optional?null:void 0!==a?a:void Ie(be(o))}function vi(o){return{toString:o}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),et=(()=>{return(o=et||(et={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",et;var o})();const Xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fn={},Ot=[],Ln=De({\u0275cmp:De}),Vi=De({\u0275dir:De}),At=De({\u0275pipe:De}),Jr=De({\u0275mod:De}),It=De({\u0275fac:De}),Y=De({__NG_ELEMENT_ID__:De});let U=0;function F(o){return vi(()=>{const u=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ot,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||et.Emulated,id:"c"+U++,styles:o.styles||Ot,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=qt(o.inputs,d),f.outputs=qt(o.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map($).filter(ve):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(fe).filter(ve):null,f})}function $(o){return L(o)||B(o)}function ve(o){return null!==o}const je={};function mt(o){return vi(()=>{const a={type:o.type,bootstrap:o.bootstrap||Ot,declarations:o.declarations||Ot,imports:o.imports||Ot,exports:o.exports||Ot,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(je[o.id]=o.type),a})}function qt(o,a){if(null==o)return Fn;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,a&&(a[f]=m)}return u}const Yn=F;function J(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function L(o){return o[Ln]||null}function B(o){return o[Vi]||null}function fe(o){return o[At]||null}function Be(o,a){const u=o[Jr]||null;if(!u&&!0===a)throw new Error(`Type ${be(o)} does not have '\u0275mod' property.`);return u}function Bi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ui(o){return Array.isArray(o)&&!0===o[1]}function Al(o){return 0!=(8&o.flags)}function ns(o){return 2==(2&o.flags)}function Ia(o){return 1==(1&o.flags)}function ar(o){return null!==o.template}function H0(o){return 0!=(256&o[2])}function As(o,a){return o.hasOwnProperty(It)?o[It]:null}class is{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function ao(){return Ta}function Ta(o){return o.type.prototype.ngOnChanges&&(o.setInput=xd),D_}function D_(){const o=_p(this),a=o?.current;if(a){const u=o.previous;if(u===Fn)o.previous=a;else for(let d in a)u[d]=a[d];o.current=null,this.ngOnChanges(a)}}function xd(o,a,u,d){const f=_p(o)||function Sl(o,a){return o[Fc]=a}(o,{previous:Fn,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],I=v[C];m[C]=new is(I&&I.currentValue,a,v===Fn),o[d]=a}ao.ngInherit=!0;const Fc="__ngSimpleChanges__";function _p(o){return o[Fc]||null}function Vn(o){for(;Array.isArray(o);)o=o[0];return o}function xl(o,a){return Vn(a[o])}function lr(o,a){return Vn(a[o.index])}function Vc(o,a){return o.data[a]}function lo(o,a){return o[a]}function Ci(o,a){const u=a[o];return Bi(u)?u:u[0]}function Aa(o){return 4==(4&o[2])}function co(o){return 64==(64&o[2])}function Ir(o,a){return null==a?null:o[a]}function Bc(o){o[18]=0}function Wo(o,a){o[5]+=a;let u=o,d=o[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const wt={lFrame:Dp(null),bindingsEnabled:!0};function kl(){return wt.bindingsEnabled}function Ee(){return wt.lFrame.lView}function Vt(){return wt.lFrame.tView}function Yo(o){return wt.lFrame.contextLView=o,o[8]}function Ld(o){return wt.lFrame.contextLView=null,o}function xn(){let o=wp();for(;null!==o&&64===o.type;)o=o.parent;return o}function wp(){return wt.lFrame.currentTNode}function rs(o,a){const u=wt.lFrame;u.currentTNode=o,u.isParent=a}function Rl(){return wt.lFrame.isParent}function Ko(){wt.lFrame.isParent=!1}function di(){const o=wt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function uo(){return wt.lFrame.bindingIndex++}function Ms(o){const a=wt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function A_(o,a){const u=wt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Hc(a)}function Hc(o){wt.lFrame.currentDirectiveIndex=o}function Nl(o){const a=wt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Cp(){return wt.lFrame.currentQueryIndex}function Fl(o){wt.lFrame.currentQueryIndex=o}function Hd(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function jd(o,a,u){if(u&ft.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||u&ft.Host||(f=Hd(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=wt.lFrame=jc();return d.currentTNode=a,d.lView=o,!0}function Ep(o){const a=jc(),u=o[1];wt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function jc(){const o=wt.lFrame,a=null===o?null:o.child;return null===a?Dp(o):a}function Dp(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function $c(){const o=wt.lFrame;return wt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const $d=$c;function zd(){const o=$c();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ei(){return wt.lFrame.selectedIndex}function ji(o){wt.lFrame.selectedIndex=o}function kn(){const o=wt.lFrame;return Vc(o.tView,o.selectedIndex)}function Ip(){wt.lFrame.currentNamespace="svg"}function Tp(){!function Ap(){wt.lFrame.currentNamespace=null}()}function Sp(o,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:M}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),C&&((o.contentHooks||(o.contentHooks=[])).push(u,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,C)),I&&(o.viewHooks||(o.viewHooks=[])).push(-u,I),T&&((o.viewHooks||(o.viewHooks=[])).push(u,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,T)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(u,M)}}function Mp(o,a,u){M_(o,a,3,u)}function Gc(o,a,u,d){(3&o[2])===u&&M_(o,a,u,d)}function xs(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function M_(o,a,u,d){const m=d??-1,v=a.length-1;let C=0;for(let I=void 0!==d?65535&o[18]:0;I<v;I++)if("number"==typeof a[I+1]){if(C=a[I],null!=d&&C>=d)break}else a[I]<0&&(o[18]+=65536),(C<m||-1==m)&&(Q0(o,u,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Q0(o,a,u,d){const f=u[d]<0,m=u[d+1],C=o[f?-u[d]:u[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class ho{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function qd(o,a,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const m=u[d++],v=u[d++],C=u[d++];o.setAttribute(a,v,C,m)}else{const m=f,v=u[++d];kp(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),d++}}return d}function Ll(o){return 3===o||4===o||6===o}function kp(o){return 64===o.charCodeAt(0)}function Yd(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?u=f:0===u||R_(o,u,f,null,-1===u||2===u?a[++d]:null)}}return o}function R_(o,a,u,d,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===u){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,u),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function O_(o){return-1!==o}function qc(o){return 32767&o}function Qo(o,a){let u=function P_(o){return o>>16}(o),d=a;for(;u>0;)d=d[15],u--;return d}let Vl=!0;function Bl(o){const a=Vl;return Vl=o,a}let Ve=0;const rt={};function Bn(o,a){const u=Zd(o,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,Ul(d.data,o),Ul(a,null),Ul(d.blueprint,null));const f=Yc(o,a),m=o.injectorIndex;if(O_(f)){const v=qc(f),C=Qo(f,a),I=C[1].data;for(let T=0;T<8;T++)a[m+T]=C[v+T]|I[v+T]}return a[m+8]=f,m}function Ul(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Zd(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Yc(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=a;for(;null!==f;){if(d=mo(f),null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Hl(o,a,u){!function $i(o,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Y)&&(d=u[Y]),null==d&&(d=u[Y]=Ve++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function jl(o,a,u){if(u&ft.Optional)return o;Ie()}function fo(o,a,u,d){if(u&ft.Optional&&void 0===d&&(d=null),0==(u&(ft.Self|ft.Host))){const f=o[9],m=Kt(void 0);try{return f?f.get(a,d,u&ft.Optional):yi(a,d,u&ft.Optional)}finally{Kt(m)}}return jl(d,0,u)}function st(o,a,u,d=ft.Default,f){if(null!==o){if(1024&a[2]){const v=function Oa(o,a,u,d,f){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=$l(m,v,u,d|ft.Self,rt);if(C!==rt)return C;let I=m.parent;if(!I){const T=v[21];if(T){const M=T.get(u,rt,d);if(M!==rt)return M}I=mo(v),v=v[15]}m=I}return f}(o,a,u,d,rt);if(v!==rt)return v}const m=$l(o,a,u,d,rt);if(m!==rt)return m}return fo(a,u,d,f)}function $l(o,a,u,d,f){const m=function bn(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Y)?o[Y]:void 0;return"number"==typeof a?a>=0?255&a:Pp:a}(u);if("function"==typeof m){if(!jd(a,o,d))return d&ft.Host?jl(f,0,d):fo(a,u,d,f);try{const v=m(d);if(null!=v||d&ft.Optional)return v;Ie()}finally{$d()}}else if("number"==typeof m){let v=null,C=Zd(o,a),I=-1,T=d&ft.Host?a[16][6]:null;for((-1===C||d&ft.SkipSelf)&&(I=-1===C?Yc(o,a):a[C+8],-1!==I&&ka(d,!1)?(v=a[1],C=qc(I),a=Qo(I,a)):C=-1);-1!==C;){const M=a[1];if(Op(m,C,M.data)){const R=N_(C,a,u,v,d,T);if(R!==rt)return R}I=a[C+8],-1!==I&&ka(d,a[1].data[C+8]===T)&&Op(m,C,a)?(v=M,C=qc(I),a=Qo(I,a)):C=-1}}return f}function N_(o,a,u,d,f,m){const v=a[1],C=v.data[o+8],M=po(C,v,u,null==d?ns(C)&&Vl:d!=v&&0!=(3&C.type),f&ft.Host&&m===C);return null!==M?Jo(a,v,M,C):rt}function po(o,a,u,d,f){const m=o.providerIndexes,v=a.data,C=1048575&m,I=o.directiveStart,M=m>>20,W=f?C+M:o.directiveEnd;for(let te=d?C:C+M;te<W;te++){const _e=v[te];if(te<I&&u===_e||te>=I&&_e.type===u)return te}if(f){const te=v[I];if(te&&ar(te)&&te.type===u)return I}return null}function Jo(o,a,u,d){let f=o[u];const m=a.data;if(function xa(o){return o instanceof ho}(f)){const v=f;v.resolving&&function nt(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${o}${u}`)}(function pe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ae(o)}(m[u]));const C=Bl(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Kt(v.injectImpl):null;jd(o,d,ft.Default);try{f=o[u]=v.factory(void 0,m,o,d),a.firstCreatePass&&u>=d.directiveStart&&function K0(o,a,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=Ta(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==I&&Kt(I),Bl(C),v.resolving=!1,$d()}}return f}function Op(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function ka(o,a){return!(o&ft.Self||o&ft.Host&&a)}class ea{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return st(this._tNode,this._lView,a,d,u)}}function Pp(){return new ea(xn(),Ee())}function Ra(o){return vi(()=>{const a=o.prototype.constructor,u=a[It]||Np(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[It]||Np(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Np(o){return Ue(o)?()=>{const a=Np(X(o));return a&&a()}:As(o)}function mo(o){const a=o[1],u=a.type;return 2===u?a.declTNode:1===u?o[6]:null}function Pa(o){return function Rp(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Ll(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(xn(),o)}const si="__parameters__";function cr(o,a,u){return vi(()=>{const d=function Rs(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(I,T,M){const R=I.hasOwnProperty(si)?I[si]:Object.defineProperty(I,si,{value:[]})[si];for(;R.length<=M;)R.push(null);return(R[M]=R[M]||[]).push(v),I}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class nn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mi(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(a===o&&(a=o.slice(0,u)),Mi(d,a)):a!==o&&a.push(d)}return a}function Tr(o,a){o.forEach(u=>Array.isArray(u)?Tr(u,a):a(u))}function Fp(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Os(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Br(o,a){const u=[];for(let d=0;d<o;d++)u.push(a);return u}function zi(o,a,u){let d=na(o,a);return d>=0?o[1|d]=u:(d=~d,function _o(o,a,u,d){let f=o.length;if(f==a)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=d}}(o,d,a,u)),d}function Zc(o,a){const u=na(o,a);if(u>=0)return o[1|u]}function na(o,a){return function Qn(o,a,u){let d=0,f=o.length>>u;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<u];if(a===v)return m<<u;v>a?f=m:d=m+1}return~(f<<u)}(o,a,1)}const os={},Qc="__NG_DI_FLAG__",ra="ngTempTokenPath",Nt=/\n/gm,Vp="__source";let Ar;function oa(o){const a=Ar;return Ar=o,a}function eh(o,a=ft.Default){if(void 0===Ar)throw new Ce(-203,!1);return null===Ar?yi(o,void 0,a):Ar.get(o,a&ft.Optional?null:void 0,a)}function Hn(o,a=ft.Default){return(function or(){return vn}()||eh)(X(o),a)}function aa(o,a=ft.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Hn(o,a)}function la(o){const a=[];for(let u=0;u<o.length;u++){const d=X(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,m=ft.Default;for(let v=0;v<d.length;v++){const C=d[v],I=Ba(C);"number"==typeof I?-1===I?f=C.token:m|=I:f=C}a.push(Hn(f,m))}else a.push(Hn(d))}return a}function Va(o,a){return o[Qc]=a,o.prototype[Qc]=a,o}function Ba(o){return o[Qc]}const Ua=Va(cr("Optional"),8),ca=Va(cr("SkipSelf"),4);let lh,za;function W_(o){lh=o}function ls(o){return function ql(){if(void 0===za&&(za=null,Xe.trustedTypes))try{za=Xe.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return za}()?.createHTML(o)||o}class Sr{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class $p extends Sr{getTypeName(){return"HTML"}}class dh extends Sr{getTypeName(){return"Style"}}class Y_ extends Sr{getTypeName(){return"Script"}}class zp extends Sr{getTypeName(){return"URL"}}class Z_ extends Sr{getTypeName(){return"ResourceURL"}}function Ur(o){return o instanceof Sr?o.changingThisBreaksApplicationSecurity:o}function Wa(o,a){const u=function Gp(o){return o instanceof Sr&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function Wp(o){return new $p(o)}function K_(o){return new dh(o)}function Q_(o){return new Y_(o)}function X_(o){return new zp(o)}function qp(o){return new Z_(o)}class g{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ls(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class y{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ls(a),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ls(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const S=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ee=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ge(o){return(o=String(o)).match(S)||o.match(ee)?o:"unsafe:"+o}function Ke(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Ct(...o){const a={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const _n=Ke("area,br,col,hr,img,wbr"),Gi=Ke("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),us=Ke("rp,rt"),qa=Ct(_n,Ct(Gi,Ke("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ct(us,Ke("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ct(us,Gi)),nu=Ke("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ls=Ke("srcset"),Ya=Ct(nu,Ls,Ke("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ke("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hh=Ke("script,style,template");class Zp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!qa.hasOwnProperty(u))return this.sanitizedSomething=!0,!hh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!Ya.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=m.value;nu[C]&&(I=ge(I)),Ls[C]&&(o=I,I=(o=String(o)).split(",").map(a=>ge(a.trim())).join(", ")),this.buf.push(" ",v,'="',sC(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();qa.hasOwnProperty(u)&&!_n.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(sC(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const iu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kp=/([^\#-~ |!])/g;function sC(o){return o.replace(/&/g,"&amp;").replace(iu,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Kp,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Za;function fh(o,a){let u=null;try{Za=Za||function w(o){const a=new y(o);return function E(){try{return!!(new window.DOMParser).parseFromString(ls(""),"text/html")}catch{return!1}}()?new g(a):a}(o);let d=a?String(a):"";u=Za.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=u.innerHTML,u=Za.getInertBodyElement(d)}while(d!==m);return ls((new Zp).sanitizeChildren(ph(u)||u))}finally{if(u){const d=ph(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ph(o){return"content"in o&&function CS(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function lC(o){const a=function Wi(){const o=Ee();return o&&o[12]}();return a?a.sanitize(Xn.URL,o)||"":Wa(o,"URL")?Ur(o):ge(ae(o))}const Qp=new nn("ENVIRONMENT_INITIALIZER"),ny=new nn("INJECTOR",-1),uC=new nn("INJECTOR_DEF_TYPES");class dC{get(a,u=os){if(u===os){const d=new Error(`NullInjectorError: No provider for ${be(a)}!`);throw d.name="NullInjectorError",d}return u}}function hC(...o){return{\u0275providers:mh(0,o)}}function mh(o,...a){const u=[],d=new Set;let f;return Tr(a,m=>{const v=m;iy(v,u,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&fC(f,u),u}function fC(o,a){for(let u=0;u<o.length;u++){const{providers:f}=o[u];Tr(f,m=>{a.push(m)})}}function iy(o,a,u,d){if(!(o=X(o)))return!1;let f=null,m=Ds(o);const v=!m&&L(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const I=o.ngModule;if(m=Ds(I),!m)return!1;f=I}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of I)iy(T,a,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;d.add(f);try{Tr(m.imports,M=>{iy(M,a,u,d)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&fC(T,a)}if(!C){const T=As(f)||(()=>new f);a.push({provide:f,useFactory:T,deps:Ot},{provide:uC,useValue:f,multi:!0},{provide:Qp,useValue:()=>Hn(f),multi:!0})}const I=m.providers;null==I||C||Tr(I,M=>{a.push(M)})}}return f!==o&&void 0!==o.providers}const gh=De({provide:String,useValue:De});function sy(o){return null!==o&&"object"==typeof o&&gh in o}function Vs(o){return"function"==typeof o}const oy=new nn("Set Injector scope."),Xp={},AS={};let ay;function Jp(){return void 0===ay&&(ay=new dC),ay}class su{}class mC extends su{constructor(a,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ly(a,v=>this.processProvider(v)),this.records.set(ny,lu(void 0,this)),f.has("environment")&&this.records.set(su,lu(void 0,this));const m=this.records.get(oy);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(uC.multi,Ot,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=oa(this),d=Kt(void 0);try{return a()}finally{oa(u),Kt(d)}}get(a,u=os,d=ft.Default){this.assertNotDestroyed();const f=oa(this),m=Kt(void 0);try{if(!(d&ft.SkipSelf)){let C=this.records.get(a);if(void 0===C){const I=function kS(o){return"function"==typeof o||"object"==typeof o&&o instanceof nn}(a)&&Ni(a);C=I&&this.injectableDefInScope(I)?lu(ou(a),Xp):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&ft.Self?Jp():this.parent).get(a,u=d&ft.Optional&&u===os?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[ra]=v[ra]||[]).unshift(be(a)),f)throw v;return function H_(o,a,u,d){const f=o[ra];throw a[Vp]&&f.unshift(a[Vp]),o.message=function th(o,a,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=be(a);if(Array.isArray(a))f=a.map(be).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):be(C)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(Nt,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[ra]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Kt(m),oa(f)}}resolveInjectorInitializers(){const a=oa(this),u=Kt(void 0);try{const d=this.get(Qp.multi,Ot,ft.Self);for(const f of d)f()}finally{oa(a),Kt(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(be(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(a){let u=Vs(a=X(a))?a:X(a&&a.provide);const d=function SS(o){return sy(o)?lu(void 0,o.useValue):lu(gC(o),Xp)}(a);if(Vs(a)||!0!==a.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=lu(void 0,Xp,!0),f.factory=()=>la(f.multi),this.records.set(u,f)),u=a,f.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===Xp&&(u.value=AS,u.value=u.factory()),"object"==typeof u.value&&u.value&&function xS(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=X(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function ou(o){const a=Ni(o),u=null!==a?a.factory:As(o);if(null!==u)return u;if(o instanceof nn)throw new Ce(204,!1);if(o instanceof Function)return function au(o){const a=o.length;if(a>0)throw Br(a,"?"),new Ce(204,!1);const u=function Es(o){const a=o&&(o[wr]||o[Fi]);if(a){const u=function Mn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ce(204,!1)}function gC(o,a,u){let d;if(Vs(o)){const f=X(o);return As(f)||ou(f)}if(sy(o))d=()=>X(o.useValue);else if(function ru(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...la(o.deps||[]));else if(function pC(o){return!(!o||!o.useExisting)}(o))d=()=>Hn(X(o.useExisting));else{const f=X(o&&(o.useClass||o.provide));if(!function MS(o){return!!o.deps}(o))return As(f)||ou(f);d=()=>new f(...la(o.deps))}return d}function lu(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function RS(o){return!!o.\u0275providers}function ly(o,a){for(const u of o)Array.isArray(u)?ly(u,a):RS(u)?ly(u.\u0275providers,a):a(u)}class cy{}class uy{resolveComponentFactory(a){throw function PS(o){const a=Error(`No component factory found for ${be(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ka=(()=>{class o{}return o.NULL=new uy,o})();function FS(){return cu(xn(),Ee())}function cu(o,a){return new _h(lr(o,a))}let _h=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=FS,o})();function LS(o){return o instanceof _h?o.nativeElement:o}class hy{}let _C=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function tm(){const o=Ee(),u=Ci(xn().index,o);return(Bi(u)?u:o)[11]}(),o})(),nm=(()=>{class o{}return o.\u0275prov=Wt({token:o,providedIn:"root",factory:()=>null}),o})();class fy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const uu=new fy("14.1.1"),im={};function om(o){return o.ngOriginalError}class yh{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&om(a);for(;u&&om(u);)u=om(u);return u||null}}const am=new Map;let EC=0;const by="__ngContext__";function Yi(o,a){Bi(a)?(o[by]=a[20],function WS(o){am.set(o[20],o)}(a)):o[by]=a}function Qa(o){const a=o[by];return"number"==typeof a?function DC(o){return am.get(o)||null}(a):a||null}function wy(o){const a=Qa(o);return a?Bi(a)?a:a.lView:null}const Ey=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Xe))();function Xa(o){return o instanceof Function?o():o}var Bs=(()=>((Bs=Bs||{})[Bs.Important=1]="Important",Bs[Bs.DashCase=2]="DashCase",Bs))();function Iy(o,a){return undefined(o,a)}function Ch(o){const a=o[3];return Ui(a)?a[3]:a}function cm(o){return Sy(o[13])}function Ay(o){return Sy(o[4])}function Sy(o){for(;null!==o&&!Ui(o);)o=o[4];return o}function hu(o,a,u,d,f){if(null!=d){let m,v=!1;Ui(d)?m=d:Bi(d)&&(v=!0,d=d[0]);const C=Vn(d);0===o&&null!==u?null==f?Ja(a,u,C):Eo(a,u,C,f||null,!0):1===o&&null!==u?Eo(a,u,C,f||null,!0):2===o?function BC(o,a,u){const d=hm(o,a);d&&function Dh(o,a,u,d){o.removeChild(a,u,d)}(o,d,a,u)}(a,C,v):3===o&&a.destroyNode(C),null!=m&&function Xl(o,a,u,d,f){const m=u[7];m!==Vn(u)&&hu(a,o,d,m,f);for(let C=10;C<u.length;C++){const I=u[C];mm(I[1],I,o,a,d,m)}}(a,o,m,u,f)}}function xy(o,a,u){return o.createElement(a,u)}function oi(o,a){const u=o[9],d=u.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Wo(f,-1)),u.splice(d,1)}function PC(o,a){if(o.length<=10)return;const u=10+a,d=o[u];if(d){const f=d[17];null!==f&&f!==o&&oi(f,d),a>0&&(o[u-1][4]=d[4]);const m=Os(o,10+a);!function rM(o,a){mm(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Kl(o,a){if(!(128&a[2])){const u=a[11];u.destroyNode&&mm(o,a,u,3,null,null),function OC(o){let a=o[13];if(!a)return dm(o[1],o);for(;a;){let u=null;if(Bi(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==o;)Bi(a)&&dm(a[1],a),a=a[3];null===a&&(a=o),Bi(a)&&dm(a[1],a),u=a&&a[4]}a=u}}(a)}}function dm(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Eh(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=a[u[d]];if(!(f instanceof ho)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],I=m[v+1];try{I.call(C)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function NC(o,a){const u=o.cleanup,d=a[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],C="function"==typeof v?v(a):Vn(a[v]),I=d[f=u[m+2]],T=u[m+3];"boolean"==typeof T?C.removeEventListener(u[m],I,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),m+=2}else{const v=d[f=u[m+1]];u[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const u=a[17];if(null!==u&&Ui(a[3])){u!==a[3]&&oi(u,a);const d=a[19];null!==d&&d.detachView(o)}!function qS(o){am.delete(o[20])}(a)}}function FC(o,a,u){return function Ql(o,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===et.None||f===et.Emulated)return null}return lr(d,u)}(o,a.parent,u)}function Eo(o,a,u,d,f){o.insertBefore(a,u,d,f)}function Ja(o,a,u){o.appendChild(a,u)}function Ry(o,a,u,d,f){null!==d?Eo(o,a,u,d,f):Ja(o,a,u)}function hm(o,a){return o.parentNode(a)}function pu(o,a,u){return fm(o,a,u)}let fm=function el(o,a,u){return 40&o.type?lr(o,u):null};function pm(o,a,u,d){const f=FC(o,d,a),m=a[11],C=pu(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(u))for(let I=0;I<u.length;I++)Ry(m,f,u[I],C,!1);else Ry(m,f,u,C,!1)}function Oy(o,a){if(null!==a){const u=a.type;if(3&u)return lr(a,o);if(4&u)return Py(-1,o[a.index]);if(8&u){const d=a.child;if(null!==d)return Oy(o,d);{const f=o[a.index];return Ui(f)?Py(-1,f):Vn(f)}}if(32&u)return Iy(a,o)()||Vn(o[a.index]);{const d=tl(o,a);return null!==d?Array.isArray(d)?d[0]:Oy(Ch(o[16]),d):Oy(o,a.next)}}return null}function tl(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Py(o,a){const u=10+o+1;if(u<a.length){const d=a[u],f=d[1].firstChild;if(null!==f)return Oy(d,f)}return a[7]}function Ny(o,a,u,d,f,m,v){for(;null!=u;){const C=d[u.index],I=u.type;if(v&&0===a&&(C&&Yi(Vn(C),d),u.flags|=4),64!=(64&u.flags))if(8&I)Ny(o,a,u.child,d,f,m,!1),hu(a,o,f,C,m);else if(32&I){const T=Iy(u,d);let M;for(;M=T();)hu(a,o,f,M,m);hu(a,o,f,C,m)}else 16&I?nl(o,a,d,u,f,m):hu(a,o,f,C,m);u=v?u.projectionNext:u.next}}function mm(o,a,u,d,f,m){Ny(u,d,o.firstChild,a,f,m,!1)}function nl(o,a,u,d,f,m){const v=u[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)hu(a,o,f,I[T],m);else Ny(o,a,I,v[3],f,m,!0)}function Ih(o,a,u){o.setAttribute(a,"style",u)}function mu(o,a,u){""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u)}function Th(o,a,u){let d=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}u=f+1}}const il="ng-template";function Jl(o,a,u){let d=0;for(;d<o.length;){let f=o[d++];if(u&&"class"===f){if(f=o[d],-1!==Th(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function rl(o){return 4===o.type&&o.value!==il}function _L(o,a,u){return a===(4!==o.type||u?o.value:il)}function yL(o,a,u){let d=4;const f=o.attrs||[],m=function wL(o){for(let a=0;a<o.length;a++)if(Ll(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const I=a[C];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!_L(o,I,u)||""===I&&1===a.length){if(Do(d))return!1;v=!0}}else{const T=8&d?I:a[++C];if(8&d&&null!==o.attrs){if(!Jl(o.attrs,T,u)){if(Do(d))return!1;v=!0}continue}const R=vL(8&d?"class":I,f,rl(o),u);if(-1===R){if(Do(d))return!1;v=!0;continue}if(""!==T){let W;W=R>m?"":f[R+1].toLowerCase();const te=8&d?W:null;if(te&&-1!==Th(te,T,0)||2&d&&T!==W){if(Do(d))return!1;v=!0}}}}else{if(!v&&!Do(d)&&!Do(I))return!1;if(v&&Do(I))continue;v=!1,d=I|1&d}}return Do(d)||v}function Do(o){return 0==(1&o)}function vL(o,a,u,d){if(null===a)return-1;let f=0;if(d||!u){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function CL(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,o)}function UC(o,a,u=!1){for(let d=0;d<a.length;d++)if(yL(o,a[d],u))return!0;return!1}function EL(o,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function lM(o,a){return o?":not("+a.trim()+")":a}function DL(o){let a=o[0],u=1,d=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&d){const C=o[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Do(v)&&(a+=lM(m,f),f=""),d=v,m=m||!Do(d);u++}return""!==f&&(a+=lM(m,f)),a}const Mt={};function cM(o){uM(Vt(),Ee(),Ei()+o,!1)}function uM(o,a,u,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Mp(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Gc(a,m,0,u)}ji(u)}function mM(o,a=null,u=null,d){const f=gM(o,a,u,d);return f.resolveInjectorInitializers(),f}function gM(o,a=null,u=null,d,f=new Set){const m=[u||Ot,hC(o)];return d=d||("object"==typeof o?void 0:be(o)),new mC(m,a||Jp(),d||null,f)}let _u=(()=>{class o{static create(u,d){if(Array.isArray(u))return mM({name:""},d,u,"");{const f=u.name??"";return mM({name:f},u.parent,u.providers,f)}}}return o.THROW_IF_NOT_FOUND=os,o.NULL=new dC,o.\u0275prov=Wt({token:o,providedIn:"any",factory:()=>Hn(ny)}),o.__NG_ELEMENT_ID__=-1,o})();function Sh(o,a=ft.Default){const u=Ee();return null===u?Hn(o,a):st(xn(),u,X(o),a)}function EM(){throw new Error("invalid")}function Ly(o,a){return o<<17|a<<2}function Io(o){return o>>17&32767}function WC(o){return 2|o}function sl(o){return(131068&o)>>2}function qC(o,a){return-131069&o|a<<2}function YC(o){return 1|o}function Dn(o,a){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],m=u[d+1];if(-1!==m){const v=o.data[m];Fl(f),v.contentQueries(2,a[m],m)}}}function tc(o,a,u,d,f,m,v,C,I,T,M){const R=a.blueprint.slice();return R[0]=f,R[2]=76|d,(null!==M||o&&1024&o[2])&&(R[2]|=1024),Bc(R),R[3]=R[15]=o,R[8]=u,R[10]=v||o&&o[10],R[11]=C||o&&o[11],R[12]=I||o&&o[12]||null,R[9]=T||o&&o[9]||null,R[6]=m,R[20]=function GS(){return EC++}(),R[21]=M,R[16]=2==a.type?o[16]:R,R}function In(o,a,u,d,f){let m=o.data[a];if(null===m)m=function Us(o,a,u,d,f){const m=wp(),v=Rl(),I=o.data[a]=function nE(o,a,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,a,d,f);return null===o.firstChild&&(o.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(o,a,u,d,f),function T_(){return wt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const v=function Zo(){const o=wt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return rs(m,!0),m}function wu(o,a,u,d){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Mh(o,a,u){Ep(a);try{const d=o.viewQuery;null!==d&&Ky(1,d,u);const f=o.template;null!==f&&$y(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Dn(o,a),o.staticViewQueries&&Ky(2,o.viewQuery,u);const m=o.components;null!==m&&function RM(o,a){for(let u=0;u<a.length;u++)eV(o,a[u])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,zd()}}function xh(o,a,u,d){const f=a[2];if(128!=(128&f)){Ep(a);try{Bc(a),function Bd(o){return wt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&$y(o,a,u,2,d);const v=3==(3&f);if(v){const T=o.preOrderCheckHooks;null!==T&&Mp(a,T,null)}else{const T=o.preOrderHooks;null!==T&&Gc(a,T,0,null),xs(a,0)}if(function Oh(o){for(let a=cm(o);null!==a;a=Ay(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const f=u[d],m=f[3];0==(512&f[2])&&Wo(m,1),f[2]|=512}}}(a),function GM(o){for(let a=cm(o);null!==a;a=Ay(a))for(let u=10;u<a.length;u++){const d=a[u],f=d[1];co(d)&&xh(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&Dn(o,a),v){const T=o.contentCheckHooks;null!==T&&Mp(a,T)}else{const T=o.contentHooks;null!==T&&Gc(a,T,1),xs(a,1)}!function yn(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)ji(~f);else{const m=f,v=u[++d],C=u[++d];A_(v,m),C(2,a[m])}}}finally{ji(-1)}}(o,a);const C=o.components;null!==C&&function bm(o,a){for(let u=0;u<a.length;u++)WM(o,a[u])}(a,C);const I=o.viewQuery;if(null!==I&&Ky(2,I,d),v){const T=o.viewCheckHooks;null!==T&&Mp(a,T)}else{const T=o.viewHooks;null!==T&&Gc(a,T,2),xs(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Wo(a[3],-1))}finally{zd()}}}function OM(o,a,u,d){const f=a[10],v=Aa(a);try{!v&&f.begin&&f.begin(),v&&Mh(o,a,d),xh(o,a,u,d)}finally{!v&&f.end&&f.end()}}function $y(o,a,u,d,f){const m=Ei(),v=2&d;try{ji(-1),v&&a.length>22&&uM(o,a,22,!1),u(d,f)}finally{ji(m)}}function PM(o,a,u){if(Al(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function wm(o,a,u){!kl()||(function XL(o,a,u,d){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Bn(u,a),Yi(d,a);const v=u.initialInputs;for(let C=f;C<m;C++){const I=o.data[C],T=ar(I);T&&$M(a,u,I);const M=Jo(a,o,C,u);Yi(M,a),null!==v&&cE(0,C-f,M,I,0,v),T&&(Ci(u.index,a)[8]=M)}}(o,a,u,lr(u,a)),128==(128&u.flags)&&function BM(o,a,u){const d=u.directiveStart,f=u.directiveEnd,m=u.index,v=function Ud(){return wt.lFrame.currentDirectiveIndex}();try{ji(m);for(let C=d;C<f;C++){const I=o.data[C],T=a[C];Hc(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&UM(I,T)}}finally{ji(-1),Hc(v)}}(o,a,u))}function ll(o,a,u=lr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?u(a,o):o[v];o[f++]=C}}}function JC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=zy(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function zy(o,a,u,d,f,m,v,C,I,T){const M=22+d,R=M+f,W=function NM(o,a){const u=[];for(let d=0;d<a;d++)u.push(d<o?null:Mt);return u}(M,R),te="function"==typeof T?T():T;return W[1]={type:o,blueprint:W,template:u,queries:null,viewQuery:C,declTNode:a,data:W.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:te,incompleteFirstPass:!1}}function tE(o,a,u,d){const f=ZM(a);null===u?f.push(d):(f.push(u),o.firstCreatePass&&KM(o).push(d,f.length-1))}function iE(o,a,u){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(a,f):u[d]=[a,f]}return u}function rE(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,v=[];let C=null,I=null;for(let T=a.directiveStart;T<d;T++){const M=f[T],R=M.inputs,W=null===m||rl(a)?null:zM(R,m);v.push(W),C=iE(R,T,C),I=iE(M.outputs,T,I)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=I}function ds(o,a,u,d,f,m,v,C){const I=lr(a,u);let M,T=a.inputs;!C&&null!=T&&(M=T[d])?(Cu(o,u,M,d,f),ns(a)&&Gy(u,a.index)):3&a.type&&(d=function Cm(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(I,d,f))}function Gy(o,a){const u=Ci(a,o);16&u[2]||(u[2]|=32)}function kh(o,a,u,d){let f=!1;if(kl()){const m=function Rh(o,a,u){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];UC(u,v.selectors,!1)&&(f||(f=[]),Hl(Bn(u,a),o,v.type),ar(v)?(oE(o,u),f.unshift(v)):f.push(v))}return f}(o,a,u),v=null===d?null:{"":-1};if(null!==m){f=!0,aE(u,o.data.length,m.length);for(let M=0;M<m.length;M++){const R=m[M];R.providersResolver&&R.providersResolver(R)}let C=!1,I=!1,T=wu(o,a,m.length,null);for(let M=0;M<m.length;M++){const R=m[M];u.mergedAttrs=Yd(u.mergedAttrs,R.hostAttrs),lE(o,u,a,T,R),jM(T,R,v),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const W=R.type.prototype;!C&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),C=!0),!I&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),I=!0),T++}rE(o,u)}v&&function HM(o,a,u){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new Ce(-301,!1);d.push(a[f],m)}}}(u,d,v)}return u.mergedAttrs=Yd(u.mergedAttrs,u.attrs),f}function Wy(o,a,u,d,f,m){const v=m.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const I=~a.index;(function VM(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(d,f,v)}}function UM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function oE(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function jM(o,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=o;ar(a)&&(u[""]=o)}}function aE(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function lE(o,a,u,d,f){o.data[d]=f;const m=f.factory||(f.factory=As(f.type)),v=new ho(m,ar(f),Sh);o.blueprint[d]=v,u[d]=v,Wy(o,a,0,d,wu(o,u,f.hostVars,Mt),f)}function $M(o,a,u){const d=lr(a,o),f=JC(u),m=o[10],v=qy(o,tc(o,f,null,u.onPush?32:16,d,a,m,m.createRenderer(d,u),null,null,null));o[a.index]=v}function To(o,a,u,d,f,m){const v=lr(o,a);!function Dm(o,a,u,d,f,m,v){if(null==m)o.removeAttribute(a,f,u);else{const C=null==v?ae(m):v(m,d||"",f);o.setAttribute(a,f,C,u)}}(a[11],v,m,o.value,u,d,f)}function cE(o,a,u,d,f,m){const v=m[a];if(null!==v){const C=d.setInput;for(let I=0;I<v.length;){const T=v[I++],M=v[I++],R=v[I++];null!==C?d.setInput(u,R,T,M):u[M]=R}}}function zM(o,a){let u=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return u}function uE(o,a,u,d){return new Array(o,!0,!1,a,null,0,d,u,null,null)}function WM(o,a){const u=Ci(a,o);if(co(u)){const d=u[1];48&u[2]?xh(d,u,d.template,u[8]):u[5]>0&&dE(u)}}function dE(o){for(let d=cm(o);null!==d;d=Ay(d))for(let f=10;f<d.length;f++){const m=d[f];if(512&m[2]){const v=m[1];xh(v,m,v.template,m[8])}else m[5]>0&&dE(m)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Ci(u[d],o);co(f)&&f[5]>0&&dE(f)}}function eV(o,a){const u=Ci(a,o),d=u[1];(function tV(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(d,u),Mh(d,u,u[8])}function qy(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function hE(o){for(;o;){o[2]|=32;const a=Ch(o);if(H0(o)&&!a)return o;o=a}return null}function fE(o){!function Im(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],d=wy(u);if(null!==d){const f=d[1];OM(f,d,f.template,u)}}}(o[8])}function Ky(o,a,u){Fl(0),a(o,u)}const YM=(()=>Promise.resolve(null))();function ZM(o){return o[7]||(o[7]=[])}function KM(o){return o.cleanup||(o.cleanup=[])}function QM(o,a,u){return(null===o||ar(o))&&(u=function Od(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}function pE(o,a){const u=o[9],d=u?u.get(yh,null):null;d&&d.handleError(a)}function Cu(o,a,u,d,f){for(let m=0;m<u.length;){const v=u[m++],C=u[m++],I=a[v],T=o.data[v];null!==T.setInput?T.setInput(I,f,d,C):I[C]=f}}function xi(o,a,u){const d=xl(a,o);!function RC(o,a,u){o.setValue(a,u)}(o[11],d,u)}function Tm(o,a,u){let d=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?m=C:1==m?f=Fe(f,C):2==m&&(d=Fe(d,C+": "+a[++v]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}function Nh(o,a,u,d,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&d.push(Vn(m)),Ui(m))for(let C=10;C<m.length;C++){const I=m[C],T=I[1].firstChild;null!==T&&Nh(I[1],I,T,d)}const v=u.type;if(8&v)Nh(o,a,u.child,d);else if(32&v){const C=Iy(u,a);let I;for(;I=C();)d.push(I)}else if(16&v){const C=tl(a,u);if(Array.isArray(C))d.push(...C);else{const I=Ch(a[16]);Nh(I[1],I,C,d,!0)}}u=f?u.projectionNext:u.next}return d}class Eu{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Nh(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ui(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&(PC(a,d),Os(u,d))}this._attachedToViewContainer=!1}Kl(this._lView[1],this._lView)}onDestroy(a){tE(this._lView[1],this._lView,null,a)}markForCheck(){hE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Zy(o,a,u){const d=a[10];d.begin&&d.begin();try{xh(o,a,o.template,u)}catch(f){throw pE(a,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mL(o,a){mm(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=a}}class Qy extends Eu{constructor(a){super(a),this._view=a}detectChanges(){fE(this._view)}checkNoChanges(){}get context(){return null}}class Am extends Ka{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=L(a);return new Fh(u,this.ngModule)}}function Sm(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class JM{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){const f=this.injector.get(a,im,d);return f!==im||u===im?f:this.parentInjector.get(a,u,d)}}class Fh extends cy{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function IL(o){return o.map(DL).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Sm(this.componentDef.inputs)}get outputs(){return Sm(this.componentDef.outputs)}create(a,u,d,f){let m=(f=f||this.ngModule)instanceof su?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new JM(a,m):a,C=v.get(hy,null);if(null===C)throw new Ce(407,!1);const I=v.get(nm,null),T=C.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=d?function eE(o,a,u){return o.selectRootElement(a,u===et.ShadowDom)}(T,d,this.componentDef.encapsulation):xy(C.createRenderer(null,this.componentDef),M,function XM(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),W=this.componentDef.onPush?288:272,te=function Lh(o,a){return{components:[],scheduler:o||Ey,clean:YM,playerHandler:a||null,flags:0}}(),_e=zy(0,null,null,1,0,null,null,null,null,null),Se=tc(null,_e,te,W,null,null,C,T,I,v,null);let le,tt;Ep(Se);try{const Pe=function tx(o,a,u,d,f,m){const v=u[1];u[22]=o;const I=In(v,22,2,"#host",null),T=I.mergedAttrs=a.hostAttrs;null!==T&&(Tm(I,T,!0),null!==o&&(qd(f,o,T),null!==I.classes&&mu(f,o,I.classes),null!==I.styles&&Ih(f,o,I.styles)));const M=d.createRenderer(o,a),R=tc(u,JC(a),null,a.onPush?32:16,u[22],I,d,M,m||null,null,null);return v.firstCreatePass&&(Hl(Bn(I,u),v,a.type),oE(v,I),aE(I,u.length,1)),qy(u,R),u[22]=R}(R,this.componentDef,Se,C,T);if(R)if(d)qd(T,R,["ng-version",uu.full]);else{const{attrs:Te,classes:ut}=function TL(o){const a=[],u=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&u.push(m);else{if(!Do(f))break;f=m}d++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Te&&qd(T,R,Te),ut&&ut.length>0&&mu(T,R,ut.join(" "))}if(tt=Vc(_e,22),void 0!==u){const Te=tt.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const Bt=u[ut];Te.push(null!=Bt?Array.from(Bt):null)}}le=function nx(o,a,u,d,f){const m=u[1],v=function LM(o,a,u){const d=xn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),lE(o,d,a,wu(o,a,1,null),u),rE(o,d));const f=Jo(a,o,d.directiveStart,d);Yi(f,a);const m=lr(d,a);return m&&Yi(m,a),f}(m,u,a);if(d.components.push(v),o[8]=v,null!==f)for(const I of f)I(v,a);if(a.contentQueries){const I=xn();a.contentQueries(1,v,I.directiveStart)}const C=xn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ji(C.index),Wy(u[1],C,0,C.directiveStart,C.directiveEnd,a),UM(a,v)),v}(Pe,this.componentDef,Se,te,[ix]),Mh(_e,Se,null)}finally{zd()}return new mE(this.componentType,le,cu(tt,Se),Se,tt)}}class mE extends class OS{}{constructor(a,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Qy(f),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;Cu(m[1],m,f,a,u),Gy(m,this._tNode.index)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ix(){const o=xn();Sp(Ee()[1],o)}function _E(o){let a=function gE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;a;){let f;if(ar(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ce(903,!1);f=a.\u0275dir}if(f){if(u){d.push(f);const v=o;v.inputs=Vh(o.inputs),v.declaredInputs=Vh(o.declaredInputs),v.outputs=Vh(o.outputs);const C=f.hostBindings;C&&sx(o,C);const I=f.viewQuery,T=f.contentQueries;if(I&&Mm(o,I),T&&yE(o,T),he(o.inputs,f.inputs),he(o.declaredInputs,f.declaredInputs),he(o.outputs,f.outputs),ar(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(o),C===_E&&(u=!1)}}a=Object.getPrototypeOf(a)}!function rx(o){let a=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Yd(f.hostAttrs,u=Yd(u,f.hostAttrs))}}(d)}function Vh(o){return o===Fn?{}:o===Ot?[]:o}function Mm(o,a){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{a(d,f),u(d,f)}:a}function yE(o,a){const u=o.contentQueries;o.contentQueries=u?(d,f,m)=>{a(d,f,m),u(d,f,m)}:a}function sx(o,a){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{a(d,f),u(d,f)}:a}let nc=null;function ic(){if(!nc){const o=Xe.Symbol;if(o&&o.iterator)nc=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(nc=d)}}}return nc}function rc(o){return!!Xy(o)&&(Array.isArray(o)||!(o instanceof Map)&&ic()in o)}function Xy(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Zi(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Mr(o,a,u,d){const f=Ee();return Zi(f,uo(),a)&&(Vt(),To(kn(),f,o,a,u,d)),Mr}function Uh(o,a,u,d,f,m){const C=function sc(o,a,u,d){const f=Zi(o,a,u);return Zi(o,a+1,d)||f}(o,function ss(){return wt.lFrame.bindingIndex}(),u,f);return Ms(2),C?a+ae(u)+d+ae(f)+m:Mt}function mx(o,a,u,d,f,m,v,C){const I=Ee(),T=Vt(),M=o+22,R=T.firstCreatePass?function cV(o,a,u,d,f,m,v,C,I){const T=a.consts,M=In(a,o,4,v||null,Ir(T,C));kh(a,u,M,Ir(T,I)),Sp(a,M);const R=M.tViews=zy(2,M,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,M),R.queries=a.queries.embeddedTView(M)),M}(M,T,I,a,u,d,f,m,v):T.data[M];rs(R,!1);const W=I[11].createComment("");pm(T,I,W,R),Yi(W,I),qy(I,I[M]=uE(W,I,W,R)),Ia(R)&&wm(T,I,R),null!=v&&ll(I,R,C)}function Jy(o){return lo(function Y0(){return wt.lFrame.contextLView}(),22+o)}function bE(o,a,u){const d=Ee();return Zi(d,uo(),a)&&ds(Vt(),kn(),d,o,a,d[11],u,!1),bE}function wE(o,a,u,d,f){const v=f?"class":"style";Cu(o,u,a.inputs[v],v,d)}function ev(o,a,u,d){const f=Ee(),m=Vt(),v=22+o,C=f[11],I=f[v]=xy(C,a,function S_(){return wt.lFrame.currentNamespace}()),T=m.firstCreatePass?function uV(o,a,u,d,f,m,v){const C=a.consts,T=In(a,o,2,f,Ir(C,m));return kh(a,u,T,Ir(C,v)),null!==T.attrs&&Tm(T,T.attrs,!1),null!==T.mergedAttrs&&Tm(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,m,f,0,a,u,d):m.data[v];rs(T,!0);const M=T.mergedAttrs;null!==M&&qd(C,I,M);const R=T.classes;null!==R&&mu(C,I,R);const W=T.styles;return null!==W&&Ih(C,I,W),64!=(64&T.flags)&&pm(m,f,I,T),0===function vp(){return wt.lFrame.elementDepthCount}()&&Yi(I,f),function Sa(){wt.lFrame.elementDepthCount++}(),Ia(T)&&(wm(m,f,T),PM(m,T,f)),null!==d&&ll(f,T),ev}function tv(){let o=xn();Rl()?Ko():(o=o.parent,rs(o,!1));const a=o;!function Uc(){wt.lFrame.elementDepthCount--}();const u=Vt();return u.firstCreatePass&&(Sp(u,o),Al(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function X0(o){return 0!=(16&o.flags)}(a)&&wE(u,a,Ee(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function J0(o){return 0!=(32&o.flags)}(a)&&wE(u,a,Ee(),a.stylesWithoutHost,!1),tv}function CE(o,a,u,d){return ev(o,a,u,d),tv(),CE}function da(o,a,u){const d=Ee(),f=Vt(),m=o+22,v=f.firstCreatePass?function nv(o,a,u,d,f){const m=a.consts,v=Ir(m,d),C=In(a,o,8,"ng-container",v);return null!==v&&Tm(C,v,!0),kh(a,u,C,Ir(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,d,a,u):f.data[m];rs(v,!0);const C=d[m]=d[11].createComment("");return pm(f,d,C,v),Yi(C,d),Ia(v)&&(wm(f,d,v),PM(f,v,d)),null!=u&&ll(d,v),da}function Au(){let o=xn();const a=Vt();return Rl()?Ko():(o=o.parent,rs(o,!1)),a.firstCreatePass&&(Sp(a,o),Al(o)&&a.queries.elementEnd(o)),Au}function Om(){return Ee()}function DE(o){return!!o&&"function"==typeof o.then}function IE(o){return!!o&&"function"==typeof o.subscribe}const gx=IE;function TE(o,a,u,d){const f=Ee(),m=Vt(),v=xn();return _x(m,f,f[11],v,o,a,0,d),TE}function AE(o,a){const u=xn(),d=Ee(),f=Vt();return _x(f,d,QM(Nl(f.data),u,d),u,o,a),AE}function _x(o,a,u,d,f,m,v,C){const I=Ia(d),M=o.firstCreatePass&&KM(o),R=a[8],W=ZM(a);let te=!0;if(3&d.type||C){const le=lr(d,a),tt=C?C(le):le,Pe=W.length,Te=C?Bt=>C(Vn(Bt[d.index])):d.index;let ut=null;if(!C&&I&&(ut=function qh(o,a,u,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===d){const C=a[7],I=f[m+2];return C.length>I?C[I]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,d.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=m,ut.__ngLastListenerFn__=m,te=!1;else{m=yx(d,a,R,m,!1);const Bt=u.listen(tt,f,m);W.push(m,Bt),M&&M.push(f,Te,Pe,Pe+1)}}else m=yx(d,a,R,m,!1);const _e=d.outputs;let Se;if(te&&null!==_e&&(Se=_e[f])){const le=Se.length;if(le)for(let tt=0;tt<le;tt+=2){const An=a[Se[tt]][Se[tt+1]].subscribe(m),_a=W.length;W.push(m,An),M&&M.push(f,d.index,_a,-(_a+1))}}}function Su(o,a,u,d){try{return!1!==u(d)}catch(f){return pE(o,f),!1}}function yx(o,a,u,d,f){return function m(v){if(v===Function)return d;hE(2&o.flags?Ci(o.index,a):a);let I=Su(a,0,d,v),T=m.__ngNextListenerFn__;for(;T;)I=Su(a,0,T,v)&&I,T=T.__ngNextListenerFn__;return f&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function fs(o=1){return function Gd(o){return(wt.lFrame.contextLView=function zc(o,a){for(;o>0;)a=a[15],o--;return a}(o,wt.lFrame.contextLView))[8]}(o)}function SE(o,a){let u=null;const d=function bL(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?UC(o,m,!0):EL(d,m))return f}else u=f}return u}function ME(o){const a=Ee()[16][6];if(!a.projection){const d=a.projection=Br(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=o?SE(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function vx(o,a=0,u){const d=Ee(),f=Vt(),m=In(f,22+o,16,null,u||null);null===m.projection&&(m.projection=a),Ko(),64!=(64&m.flags)&&function gL(o,a,u){nl(a[11],0,a,u,FC(o,u,a),pu(u.parent||a[6],u,a))}(f,d,m)}function NE(o,a,u,d,f){const m=o[u+1],v=null===a;let C=d?Io(m):sl(m),I=!1;for(;0!==C&&(!1===I||v);){const M=o[C+1];Cx(o[C],a)&&(I=!0,o[C+1]=d?YC(M):WC(M)),C=d?Io(M):sl(M)}I&&(o[u+1]=d?WC(m):YC(m))}function Cx(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&na(o,a)>=0}function UE(o,a,u){return hr(o,a,u,!1),UE}function av(o,a){return hr(o,a,null,!0),av}function hr(o,a,u,d){const f=Ee(),m=Vt(),v=Ms(2);m.firstUpdatePass&&function Kh(o,a,u,d){const f=o.data;if(null===f[u+1]){const m=f[Ei()],v=function HE(o,a){return a>=o.expandoStartIndex}(o,u);(function Sx(o,a){return 0!=(o.flags&(a?16:32))})(m,d)&&null===a&&!v&&(a=!1),a=function pV(o,a,u,d){const f=Nl(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(u=Qh(u=cv(null,o,a,u,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(u=cv(f,o,a,u,d),null===m){let I=function jE(o,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==sl(d))return o[Io(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=cv(null,o,a,I[1],d),I=Qh(I,a.attrs,d),function lv(o,a,u,d){o[Io(u?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else m=function $E(o,a,u){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Qh(d,o[m].hostAttrs,u);return Qh(d,a.attrs,u)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,d),function dV(o,a,u,d,f,m){let v=m?a.classBindings:a.styleBindings,C=Io(v),I=sl(v);o[d]=u;let M,T=!1;if(Array.isArray(u)){const R=u;M=R[1],(null===M||na(R,M)>0)&&(T=!0)}else M=u;if(f)if(0!==I){const W=Io(o[C+1]);o[d+1]=Ly(W,C),0!==W&&(o[W+1]=qC(o[W+1],d)),o[C+1]=function $L(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=Ly(C,0),0!==C&&(o[C+1]=qC(o[C+1],d)),C=d;else o[d+1]=Ly(I,0),0===C?C=d:o[I+1]=qC(o[I+1],d),I=d;T&&(o[d+1]=WC(o[d+1])),NE(o,M,d,!0),NE(o,M,d,!1),function PE(o,a,u,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&na(m,a)>=0&&(u[d+1]=YC(u[d+1]))}(a,M,o,d,m),v=Ly(C,I),m?a.classBindings=v:a.styleBindings=v}(f,m,a,u,v,d)}}(m,o,v,d),a!==Mt&&Zi(f,v,a)&&function uv(o,a,u,d,f,m,v,C){if(!(3&a.type))return;const I=o.data,T=I[C+1];Lm(function TM(o){return 1==(1&o)}(T)?Fm(I,a,u,f,sl(T),v):void 0)||(Lm(m)||function IM(o){return 2==(2&o)}(T)&&(m=Fm(I,null,u,f,C,v)),function gm(o,a,u,d,f){if(a)f?o.addClass(u,d):o.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Bs.DashCase;null==f?o.removeStyle(u,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Bs.Important),o.setStyle(u,d,f,m))}}(d,v,xl(Ei(),u),f,m))}(m,m.data[Ei()],f,f[11],o,f[v+1]=function GE(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=be(Ur(o)))),o}(a,u),d,v)}function cv(o,a,u,d,f){let m=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(m=a[C],d=Qh(d,m.hostAttrs,f),m!==o);)C++;return null!==o&&(u.directiveStylingLast=C),d}function Qh(o,a,u){const d=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),zi(o,v,!!u||a[++m]))}return void 0===o?null:o}function Fm(o,a,u,d,f,m){const v=null===a;let C;for(;f>0;){const I=o[f],T=Array.isArray(I),M=T?I[1]:I,R=null===M;let W=u[f+1];W===Mt&&(W=R?Ot:void 0);let te=R?Zc(W,d):M===d?W:void 0;if(T&&!Lm(te)&&(te=Zc(I,d)),Lm(te)&&(C=te,v))return C;const _e=o[f+1];f=v?Io(_e):sl(_e)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(C=Zc(I,d))}return C}function Lm(o){return void 0!==o}function Mx(o,a=""){const u=Ee(),d=Vt(),f=o+22,m=d.firstCreatePass?In(d,f,1,a,null):d.data[f],v=u[f]=function um(o,a){return o.createText(a)}(u[11],a);pm(d,u,v,m),rs(m,!1)}function WE(o){return dv("",o,""),WE}function dv(o,a,u){const d=Ee(),f=function Ao(o,a,u,d){return Zi(o,uo(),u)?a+ae(u)+d:Mt}(d,o,a,u);return f!==Mt&&xi(d,Ei(),f),dv}function qE(o,a,u,d,f){const m=Ee(),v=Uh(m,o,a,u,d,f);return v!==Mt&&xi(m,Ei(),v),qE}function Xh(o,a,u){const d=Ee();return Zi(d,uo(),a)&&ds(Vt(),kn(),d,o,a,d[11],u,!0),Xh}function Vm(o,a,u){const d=Ee();if(Zi(d,uo(),a)){const m=Vt(),v=kn();ds(m,v,d,o,a,QM(Nl(m.data),v,d),u,!0)}return Vm}const cl=void 0;var Wx=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gx(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ru={};function Bm(o){const a=function vV(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Yx(a);if(u)return u;const d=a.split("-")[0];if(u=Yx(d),u)return u;if("en"===d)return Wx;throw new Ce(701,!1)}function qx(o){return Bm(o)[yt.PluralCase]}function Yx(o){return o in Ru||(Ru[o]=Xe.ng&&Xe.ng.common&&Xe.ng.common.locales&&Xe.ng.common.locales[o]),Ru[o]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const Jh="en-US";let Zx=Jh;function ul(o,a,u,d,f){if(o=X(o),Array.isArray(o))for(let m=0;m<o.length;m++)ul(o[m],a,u,d,f);else{const m=Vt(),v=Ee();let C=Vs(o)?o:X(o.provide),I=gC(o);const T=xn(),M=1048575&T.providerIndexes,R=T.directiveStart,W=T.providerIndexes>>20;if(Vs(o)||!o.multi){const te=new ho(I,f,Sh),_e=Fv(C,a,f?M:M+W,R);-1===_e?(Hl(Bn(T,v),m,C),dl(m,o,a.length),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(te),v.push(te)):(u[_e]=te,v[_e]=te)}else{const te=Fv(C,a,M+W,R),_e=Fv(C,a,M,M+W),Se=te>=0&&u[te],le=_e>=0&&u[_e];if(f&&!le||!f&&!Se){Hl(Bn(T,v),m,C);const tt=function hc(o,a,u,d,f){const m=new ho(o,u,Sh);return m.multi=[],m.index=a,m.componentProviders=0,Nv(m,f,d&&!u),m}(f?gD:gk,u.length,f,d,I);!f&&le&&(u[_e].providerFactory=tt),dl(m,o,a.length,0),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(tt),v.push(tt)}else dl(m,o,te>-1?te:_e,Nv(u[f?_e:te],I,!f&&d));!f&&d&&le&&u[_e].componentProviders++}}}function dl(o,a,u,d){const f=Vs(a),m=function TS(o){return!!o.useClass}(a);if(f||m){const I=(m?X(a.useClass):a).prototype.ngOnDestroy;if(I){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const M=T.indexOf(u);-1===M?T.push(u,[d,I]):T[M+1].push(d,I)}else T.push(u,I)}}}function Nv(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function Fv(o,a,u,d){for(let f=u;f<d;f++)if(a[f]===o)return f;return-1}function gk(o,a,u,d){return Lv(this.multi,[])}function gD(o,a,u,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Jo(u,u[1],this.providerFactory.index,d);m=C.slice(0,v),Lv(f,m);for(let I=v;I<C.length;I++)m.push(C[I])}else m=[],Lv(f,m);return m}function Lv(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function Vv(o,a=[]){return u=>{u.providersResolver=(d,f)=>function mk(o,a,u){const d=Vt();if(d.firstCreatePass){const f=ar(o);ul(u,d.data,d.blueprint,f,!0),ul(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class fc{}class _D{}function _k(o,a){return new Gm(o,a??null)}class Gm extends fc{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Am(this);const d=Be(a);this._bootstrapComponents=Xa(d.bootstrap),this._r3Injector=gM(a,u,[{provide:fc,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],be(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class rf extends _D{constructor(a){super(),this.moduleType=a}create(a){return new Gm(this.moduleType,a)}}class Wm extends fc{constructor(a,u,d){super(),this.componentFactoryResolver=new Am(this),this.instance=null;const f=new mC([...a,{provide:fc,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],u||Jp(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function sf(o,a,u=null){return new Wm(o,a,u).injector}function Qm(o,a,u,d){return Xm(Ee(),di(),o,a,u,d)}function Xm(o,a,u,d,f,m){const v=a+u;return Zi(o,v,f)?function Hs(o,a,u){return o[a]=u}(o,v+1,m?d.call(m,f):d(f)):function af(o,a){const u=o[a];return u===Mt?void 0:u}(o,v+1)}function DD(o,a){const u=Vt();let d;const f=o+22;u.firstCreatePass?(d=function Wv(o,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(o===d.name)return d}}(a,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const m=d.factory||(d.factory=As(d.type)),v=Kt(Sh);try{const C=Bl(!1),I=m();return Bl(C),function oc(o,a,u,d){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=d}(u,Ee(),f,I),I}finally{Kt(v)}}function xk(o,a,u){const d=o+22,f=Ee(),m=lo(f,d);return function mc(o,a){return o[1].data[a].pure}(f,d)?Xm(f,di(),a,m.transform,u,m):m.transform(u)}function Yv(o){return a=>{setTimeout(o,void 0,a)}}const ko=class ID extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let f=a,m=u||(()=>null),v=d;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=Yv(m),f&&(f=Yv(f)),v&&(v=Yv(v)));const C=super.subscribe({next:f,error:m,complete:v});return a instanceof V.w0&&a.add(C),C}};function Rk(){return this._results[ic()]()}class tg{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ic(),d=tg.prototype;d[u]||(d[u]=Rk)}get changes(){return this._changes||(this._changes=new ko)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const f=Mi(a);(this._changesDetected=!function ta(o,a,u){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gc=(()=>{class o{}return o.__NG_ELEMENT_ID__=AD,o})();const TD=gc,Ok=class extends TD{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tViews,f=tc(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Mh(d,f,a),new Eu(f)}};function AD(){return ng(xn(),Ee())}function ng(o,a){return 4&o.type?new Ok(a,o,cu(o,a)):null}let Ri=(()=>{class o{}return o.__NG_ELEMENT_ID__=Pk,o})();function Pk(){return ig(xn(),Ee())}const Nk=Ri,SD=class extends Nk{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return cu(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const a=Yc(this._hostTNode,this._hostLView);if(O_(a)){const u=Qo(a,this._hostLView),d=qc(a);return new ea(u[1].data[d+8],u)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Zv(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=a.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(a,u,d,f,m){const v=a&&!function Si(o){return"function"==typeof o}(a);let C;if(v)C=u;else{const R=u||{};C=R.index,d=R.injector,f=R.projectableNodes,m=R.environmentInjector||R.ngModuleRef}const I=v?a:new Fh(L(a)),T=d||this.parentInjector;if(!m&&null==I.ngModule){const W=(v?T:this.parentInjector).get(su,null);W&&(m=W)}const M=I.create(T,f,void 0,m);return this.insert(M.hostView,C),M}insert(a,u){const d=a._lView,f=d[1];if(function Nd(o){return Ui(o[3])}(d)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const R=d[3],W=new SD(R,R[6],R[3]);W.detach(W.indexOf(a))}}const m=this._adjustIndex(u),v=this._lContainer;!function fu(o,a,u,d){const f=10+d,m=u.length;d>0&&(u[f-1][4]=a),d<m-10?(a[4]=u[f],Fp(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const v=a[17];null!==v&&u!==v&&function ky(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=64}(f,d,v,m);const C=Py(m,v),I=d[11],T=hm(I,v[7]);return null!==T&&function sM(o,a,u,d,f,m){d[0]=f,d[6]=a,mm(o,d,u,1,f,m)}(f,v[6],I,d,T,C),a.attachToViewContainerRef(),Fp(Kv(v),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Zv(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=PC(this._lContainer,u);d&&(Os(Kv(this._lContainer),u),Kl(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=PC(this._lContainer,u);return d&&null!=Os(Kv(this._lContainer),u)?new Eu(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function Zv(o){return o[8]}function Kv(o){return o[8]||(o[8]=[])}function ig(o,a){let u;const d=a[o.index];if(Ui(d))u=d;else{let f;if(8&o.type)f=Vn(d);else{const m=a[11];f=m.createComment("");const v=lr(o,a);Eo(m,hm(m,v),f,function oM(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=u=uE(d,a,f,o),qy(a,u)}return new SD(u,o,a)}class Qv{constructor(a){this.queryList=a,this.matches=null}clone(){return new Qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Xv(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==lf(a,u).matches&&this.queries[u].setDirty()}}class rg{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class xD{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new xD(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class kD{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new kD(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,u,kV(u,m)),this.matchTNodeWithReadOption(a,u,po(u,a,m,!1,!1))}else d===gc?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,po(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===_h||f===Ri||f===gc&&4&u.type)this.addMatch(u.index,-2);else{const m=po(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function kV(o,a){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function sg(o,a,u,d){return-1===u?function RV(o,a){return 11&o.type?cu(o,a):4&o.type?ng(o,a):null}(a,o):-2===u?function OV(o,a,u){return u===_h?cu(a,o):u===gc?ng(a,o):u===Ri?ig(a,o):void 0}(o,a,d):Jo(o,o[1],u,a)}function RD(o,a,u,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,v=u.matches,C=[];for(let I=0;I<v.length;I+=2){const T=v[I];C.push(T<0?null:sg(a,m[T],v[I+1],u.metadata.read))}f.matches=C}return f.matches}function Jv(o,a,u,d){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=RD(o,a,f,u);for(let C=0;C<m.length;C+=2){const I=m[C];if(I>0)d.push(v[C/2]);else{const T=m[C+1],M=a[-I];for(let R=10;R<M.length;R++){const W=M[R];W[17]===W[3]&&Jv(W[1],W,T,d)}if(null!==M[9]){const R=M[9];for(let W=0;W<R.length;W++){const te=R[W];Jv(te[1],te,T,d)}}}}}return d}function OD(o){const a=Ee(),u=Vt(),d=Cp();Fl(d+1);const f=lf(u,d);if(o.dirty&&Aa(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Jv(u,a,d,[]):RD(u,a,f,d);o.reset(m,LS),o.notifyOnChanges()}return!0}return!1}function PD(o,a,u){const d=Vt();d.firstCreatePass&&(VD(d,new rg(o,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),LD(d,Ee(),a)}function ND(o,a,u,d){const f=Vt();if(f.firstCreatePass){const m=xn();VD(f,new rg(a,u,d),m.index),function Vk(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}LD(f,Ee(),u)}function FD(){return function Lk(o,a){return o[19].queries[a].queryList}(Ee(),Cp())}function LD(o,a,u){const d=new tg(4==(4&u));tE(o,a,d,d.destroy),null===a[19]&&(a[19]=new Xv),a[19].queries.push(new Qv(d))}function VD(o,a,u){null===o.queries&&(o.queries=new xD),o.queries.track(new kD(a,u))}function lf(o,a){return o.queries.getByIndex(a)}function Vu(o){const a=L(o)||B(o)||fe(o);return null!==a&&a.standalone}function fg(...o){}const tI=new nn("Application Initializer");let uf=(()=>{class o{constructor(u){this.appInits=u,this.resolve=fg,this.reject=fg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(DE(m))u.push(m);else if(gx(m)){const v=new Promise((C,I)=>{m.subscribe({complete:C,error:I})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Hn(tI,8))},o.\u0275prov=Wt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const nI=new nn("AppId",{providedIn:"root",factory:function iI(){return`${fb()}${fb()}${fb()}`}});function fb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pb=new nn("Platform Initializer"),Xk=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pg=new nn("appBootstrapListener"),rI=new nn("AnimationModuleType");let mb=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Wt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Uu=new nn("LocaleId",{providedIn:"root",factory:()=>aa(Uu,ft.Optional|ft.SkipSelf)||function Jk(){return typeof $localize<"u"&&$localize.locale||Jh}()}),eR=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nR{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let gb=(()=>{class o{compileModuleSync(u){return new rf(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=Xa(Be(u).declarations).reduce((v,C)=>{const I=L(C);return I&&v.push(new Fh(I)),v},[]);return new nR(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Wt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rR=(()=>Promise.resolve(0))();function mg(o){typeof Zone>"u"?rR.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Hr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function bb(){let o=Xe.requestAnimationFrame,a=Xe.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function $V(o){const a=()=>{!function jV(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Xe,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,df(o),o.isCheckStableRunning=!0,Cb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),df(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,v,C)=>{try{return sR(o),u.invokeTask(f,m,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),oR(o)}},onInvoke:(u,d,f,m,v,C,I)=>{try{return sR(o),u.invoke(f,m,v,C,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),oR(o)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,df(o),Cb(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hr.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Hr.isInAngularZone())throw new Ce(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,wb,fg,fg);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const wb={};function Cb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function df(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function sR(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function oR(o){o._nesting--,Cb(o)}class gg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,f){return a.apply(u,d)}}const aI=new nn(""),lI=new nn("");let fi,aR=(()=>{class o{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fi||(function uI(o){fi=o}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hr.assertNotInAngularZone(),mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mg(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Hn(Hr),Hn(cI),Hn(lI))},o.\u0275prov=Wt({token:o,factory:o.\u0275fac}),o})(),cI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return fi?.findTestabilityInTree(this,u,d)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Wt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),ma=null;const dI=new nn("AllowMultipleToken"),Eb=new nn("PlatformDestroyListeners");class lR{constructor(a,u){this.name=a,this.token=u}}function fI(o,a,u=[]){const d=`Platform: ${a}`,f=new nn(d);return(m=[])=>{let v=Tb();if(!v||v.injector.get(dI,!1)){const C=[...u,...m,{provide:f,useValue:!0}];o?o(C):function cR(o){if(ma&&!ma.get(dI,!1))throw new Ce(400,!1);ma=o;const a=o.get(mI);(function hI(o){const a=o.get(pb,null);a&&a.forEach(u=>u())})(o)}(function pI(o=[],a){return _u.create({name:a,providers:[{provide:oy,useValue:"platform"},{provide:Eb,useValue:new Set([()=>ma=null])},...o]})}(C,d))}return function dR(o){const a=Tb();if(!a)throw new Ce(401,!1);return a}()}}function Tb(){return ma?.get(mI)??null}let mI=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function fR(o,a){let u;return u="noop"===o?new gg:("zone.js"===o?void 0:o)||new Hr(a),u}(d?.ngZone,function _g(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Hr,useValue:f}];return f.run(()=>{const v=_u.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(v),I=C.injector.get(yh,null);if(!I)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:M=>{I.handleError(M)}});C.onDestroy(()=>{vg(this._modules,C),T.unsubscribe()})}),function yg(o,a,u){try{const d=u();return DE(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(I,f,()=>{const T=C.injector.get(uf);return T.runInitializers(),T.donePromise.then(()=>(function yv(o){Ht(o,"Expected localeId to be defined"),"string"==typeof o&&(Zx=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Uu,Jh)||Jh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,d=[]){const f=Ab({},d);return function Db(o,a,u){const d=new rf(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(Hu);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ce(403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Eb,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Hn(_u))},o.\u0275prov=Wt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Ab(o,a){return Array.isArray(a)?a.reduce(Ab,o):{...o,...a}}let Hu=(()=>{class o{constructor(u,d,f){this._zone=u,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Hr.assertNotInAngularZone(),mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Hr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ue.T)(m,v.pipe((0,Ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,d){const f=u instanceof cy;if(!this._injector.get(uf).done)throw!f&&Vu(u),new Ce(405,false);let v;v=f?u:this._injector.get(Ka).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function Ib(o){return o.isBoundToModule}(v)?void 0:this._injector.get(fc),T=v.create(_u.NULL,[],d||v.selector,C),M=T.location.nativeElement,R=T.injector.get(aI,null);return R?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),vg(this.components,T),R?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;vg(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(pg,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>vg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ce(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Hn(Hr),Hn(su),Hn(yh))},o.\u0275prov=Wt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function vg(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let bg=!0,_I=!1;function Sb(){return _I=!0,bg}function mR(){if(_I)throw new Error("Cannot enable prod mode after platform setup.");bg=!1}let gR=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mb,o})();function Mb(o){return function _R(o,a,u){if(ns(o)&&!u){const d=Ci(o.index,a);return new Eu(d,d)}return 47&o.type?new Eu(a[16],a):null}(xn(),Ee(),16==(16&o))}class CI{constructor(){}supports(a){return rc(a)}create(a){return new KV(a)}}const Pb=(o,a)=>a;class KV{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Pb}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<CR(d,f,m)?u:d,C=CR(v,f,m),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const T=C-f,M=I-f;if(T!=M){for(let W=0;W<T;W++){const te=W<m.length?m[W]:m[W]=0,_e=te+W;M<=_e&&_e<T&&(m[W]=te+1)}m[v.previousIndex]=M-T}}C!==I&&a(v,C,I)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!rc(a))throw new Ce(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],v=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,C),d=!0),u=u._next}else f=0,function lx(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[ic()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new QV(u,d),m,f),a}_verifyReinsertion(a,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new wR),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wR),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class QV{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XV{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class wR{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new XV,this.map.set(u,d)),d.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CR(o,a,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+a+f}class EI{constructor(){}supports(a){return a instanceof Map||Xy(a)}create(){return new JV}}class JV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Xy(a)))throw new Ce(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new DI(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class DI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nb(){return new Fb([new CI])}let Fb=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||Nb()),deps:[[o,new ca,new Ua]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Ce(901,!1)}}return o.\u0275prov=Wt({token:o,providedIn:"root",factory:Nb}),o})();function II(){return new Lb([new EI])}let Lb=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||II()),deps:[[o,new ca,new Ua]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new Ce(901,!1)}}return o.\u0275prov=Wt({token:o,providedIn:"root",factory:II}),o})();const Vb=fI(null,"core",[]);let Bb=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Hn(Hu))},o.\u0275mod=mt({type:o}),o.\u0275inj=kt({}),o})();function Ub(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ht,Me,N)=>{N.d(Me,{Z:()=>Ce});var c=N(2090),V=N(4859),P=N(9681),ue=N(1877);class Ae{constructor(ae,pe){this._delegate=ae,this.firebase=pe,(0,P._addComponent)(ae,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ae,pe=P._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(ae);return!it.isInitialized()&&"EXPLICIT"===(null===(nt=it.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:pe})}_removeServiceInstance(ae,pe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(pe)}_addComponent(ae){(0,P._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,P._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function Fe(){const Je=function be(Je){const ae={},pe={__esModule:!0,initializeApp:function ke(ie,re={}){const me=P.initializeApp(ie,re);if((0,c.r3)(ae,me.name))return ae[me.name];const Z=new Je(me,pe);return ae[me.name]=Z,Z},app:it,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ye(ie){const re=ie.name,me=re.replace("-compat","");if(P._registerComponent(ie)&&"PUBLIC"===ie.type){const Z=(Q=it())=>{if("function"!=typeof Q[me])throw he.create("invalid-app-argument",{appName:re});return Q[me]()};void 0!==ie.serviceProps&&(0,c.ZB)(Z,ie.serviceProps),pe[me]=Z,Je.prototype[me]=function(...Q){return this._getService.bind(this,re).apply(this,ie.multipleInstances?Q:[])}}return"PUBLIC"===ie.type?pe[me]:null},removeApp:function nt(ie){delete ae[ie]},useAsService:function He(ie,re){return"serverAuth"===re?null:re},modularAPIs:P}};function it(ie){if(!(0,c.r3)(ae,ie=ie||P._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:ie});return ae[ie]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Ie(){return Object.keys(ae).map(ie=>ae[ie])}}),it.App=Je,pe}(Ae);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:Fe,extendNamespace:function ae(pe){(0,c.ZB)(Je,pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Je}(),G=new ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=z;!function Le(Je){(0,P.registerVersion)("@firebase/app-compat","0.1.31",Je)}()},9681:(ht,Me,N)=>{N.r(Me),N.d(Me,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>wr,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>an,_addOrOverwriteComponent:()=>Wt,_apps:()=>on,_clearComponents:()=>eo,_components:()=>_i,_getProvider:()=>kt,_registerComponent:()=>Lt,_removeServiceInstance:()=>Ni,deleteApp:()=>ft,getApp:()=>Fi,getApps:()=>to,initializeApp:()=>Cr,onLog:()=>Kt,registerVersion:()=>or,setLogLevel:()=>yi});var c=N(5861),V=N(4859),P=N(1877),ue=N(2090),Ae=N(8766);class De{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map($=>{if(function he(F){return"VERSION"===F.getComponent()?.type}($)){const ve=$.getImmediate();return`${ve.library}/${ve.version}`}return null}).filter($=>$).join(" ")}}const be="@firebase/app",z=new P.Yd("@firebase/app"),Ht="[DEFAULT]",$e={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,_i=new Map;function an(F,j){try{F.container.addComponent(j)}catch($){z.debug(`Component ${j.name} failed to register with FirebaseApp ${F.name}`,$)}}function Wt(F,j){F.container.addOrOverwriteComponent(j)}function Lt(F){const j=F.name;if(_i.has(j))return z.debug(`There were multiple attempts to register component ${j}.`),!1;_i.set(j,F);for(const $ of on.values())an($,F);return!0}function kt(F,j){const $=F.container.getProvider("heartbeat").getImmediate({optional:!0});return $&&$.triggerHeartbeat(),F.container.getProvider(j)}function Ni(F,j,$=Ht){kt(F,j).clearInstance($)}function eo(){_i.clear()}const Mn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ds{constructor(j,$,ve){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=ve,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const wr="9.9.2";function Cr(F,j={}){"object"!=typeof j&&(j={name:j});const $=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},j),ve=$.name;if("string"!=typeof ve||!ve)throw Mn.create("bad-app-name",{appName:String(ve)});const je=on.get(ve);if(je){if((0,ue.vZ)(F,je.options)&&(0,ue.vZ)($,je.config))return je;throw Mn.create("duplicate-app",{appName:ve})}const mt=new V.H0(ve);for(const qt of _i.values())mt.addComponent(qt);const Qt=new Ds(F,$,mt);return on.set(ve,Qt),Qt}function Fi(F=Ht){const j=on.get(F);if(!j)throw Mn.create("no-app",{appName:F});return j}function to(){return Array.from(on.values())}function ft(F){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(F){const j=F.name;on.has(j)&&(on.delete(j),yield Promise.all(F.container.getProviders().map($=>$.delete())),F.isDeleted=!0)})).apply(this,arguments)}function or(F,j,$){var ve;let je=null!==(ve=$e[F])&&void 0!==ve?ve:F;$&&(je+=`-${$}`);const mt=je.match(/\s|\//),Qt=j.match(/\s|\//);if(mt||Qt){const qt=[`Unable to register library "${je}" with version "${j}":`];return mt&&qt.push(`library name "${je}" contains illegal characters (whitespace or "/")`),mt&&Qt&&qt.push("and"),Qt&&qt.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void z.warn(qt.join(" "))}Lt(new V.wA(`${je}-version`,()=>({library:je,version:j}),"VERSION"))}function Kt(F,j){if(null!==F&&"function"!=typeof F)throw Mn.create("invalid-log-argument");(0,P.Am)(F,j)}function yi(F){(0,P.Ub)(F)}const cn="firebase-heartbeat-store";let Fr=null;function un(){return Fr||(Fr=(0,Ae.X3)("firebase-heartbeat-database",1,{upgrade:(F,j)=>{0===j&&F.createObjectStore(cn)}}).catch(F=>{throw Mn.create("idb-open",{originalErrorMessage:F.message})})),Fr}function Xe(){return(Xe=(0,c.Z)(function*(F){var j;try{return(yield un()).transaction(cn).objectStore(cn).get(Fn(F))}catch($){if($ instanceof ue.ZR)z.warn($.message);else{const ve=Mn.create("idb-get",{originalErrorMessage:null===(j=$)||void 0===j?void 0:j.message});z.warn(ve.message)}}})).apply(this,arguments)}function Nn(F,j){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(F,j){var $;try{const je=(yield un()).transaction(cn,"readwrite");return yield je.objectStore(cn).put(j,Fn(F)),je.done}catch(ve){if(ve instanceof ue.ZR)z.warn(ve.message);else{const je=Mn.create("idb-set",{originalErrorMessage:null===($=ve)||void 0===$?void 0:$.message});z.warn(je.message)}}})).apply(this,arguments)}function Fn(F){return`${F.name}!${F.options.appId}`}class Vi{constructor(j){this.container=j,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new It($),this._heartbeatsCachePromise=this._storage.read().then(ve=>(this._heartbeatsCache=ve,ve))}triggerHeartbeat(){var j=this;return(0,c.Z)(function*(){const ve=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=At();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==je&&!j._heartbeatsCache.heartbeats.some(mt=>mt.date===je))return j._heartbeatsCache.heartbeats.push({date:je,agent:ve}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(mt=>{const Qt=new Date(mt.date).valueOf();return Date.now()-Qt<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,c.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const $=At(),{heartbeatsToSend:ve,unsentEntries:je}=function Jr(F,j=1024){const $=[];let ve=F.slice();for(const je of F){const mt=$.find(Qt=>Qt.agent===je.agent);if(mt){if(mt.dates.push(je.date),Y($)>j){mt.dates.pop();break}}else if($.push({agent:je.agent,dates:[je.date]}),Y($)>j){$.pop();break}ve=ve.slice(1)}return{heartbeatsToSend:$,unsentEntries:ve}}(j._heartbeatsCache.heartbeats),mt=(0,ue.L)(JSON.stringify({version:2,heartbeats:ve}));return j._heartbeatsCache.lastSentHeartbeatDate=$,je.length>0?(j._heartbeatsCache.heartbeats=je,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),mt})()}}function At(){return(new Date).toISOString().substring(0,10)}class It{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,c.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function et(F){return Xe.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var $=this;return(0,c.Z)(function*(){var ve;if(yield $._canUseIndexedDBPromise){const mt=yield $.read();return Nn($.app,{lastSentHeartbeatDate:null!==(ve=j.lastSentHeartbeatDate)&&void 0!==ve?ve:mt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var $=this;return(0,c.Z)(function*(){var ve;if(yield $._canUseIndexedDBPromise){const mt=yield $.read();return Nn($.app,{lastSentHeartbeatDate:null!==(ve=j.lastSentHeartbeatDate)&&void 0!==ve?ve:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...j.heartbeats]})}})()}}function Y(F){return(0,ue.L)(JSON.stringify({version:2,heartbeats:F})).length}!function U(F){Lt(new V.wA("platform-logger",j=>new De(j),"PRIVATE")),Lt(new V.wA("heartbeat",j=>new Vi(j),"PRIVATE")),or(be,"0.7.30",F),or(be,"0.7.30","esm2017"),or("fire-js","")}("")},4859:(ht,Me,N)=>{N.d(Me,{H0:()=>be,wA:()=>P});var c=N(5861),V=N(2090);class P{constructor(z,G,X){this.name=z,this.instanceFactory=G,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ue="[DEFAULT]";class Ae{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const X=new V.BH;if(this.instancesDeferred.set(G,X),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:G});Ue&&X.resolve(Ue)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const X=this.normalizeInstanceIdentifier(z?.identifier),Ue=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Le){if(Ue)return null;throw Le}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function he(Fe){return"EAGER"===Fe.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[G,X]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(G);try{const Le=this.getOrInitializeService({instanceIdentifier:Ue});X.resolve(Le)}catch{}}}}clearInstance(z=ue){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,c.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...G.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ue){return this.instances.has(z)}getOptions(z=ue){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,X=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:X,options:G});for(const[Le,Ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Le)&&Ce.resolve(Ue);return Ue}onInit(z,G){var X;const Ue=this.normalizeInstanceIdentifier(G),Le=null!==(X=this.onInitCallbacks.get(Ue))&&void 0!==X?X:new Set;Le.add(z),this.onInitCallbacks.set(Ue,Le);const Ce=this.instances.get(Ue);return Ce&&z(Ce,Ue),()=>{Le.delete(z)}}invokeOnInitCallbacks(z,G){const X=this.onInitCallbacks.get(G);if(X)for(const Ue of X)try{Ue(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let X=this.instances.get(z);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(Fe=z,Fe===ue?void 0:Fe),options:G}),this.instances.set(z,X),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(X,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,X)}catch{}var Fe;return X||null}normalizeInstanceIdentifier(z=ue){return this.component?this.component.multipleInstances?z:ue:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new Ae(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Me,N)=>{N.d(Me,{Am:()=>Fe,Ub:()=>be,Yd:()=>he,in:()=>V});const c=[];var V=(()=>{return(z=V||(V={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",V;var z})();const P={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ue=V.INFO,Ae={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},De=(z,G,...X)=>{if(G<z.logLevel)return;const Ue=(new Date).toISOString(),Le=Ae[G];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Le](`[${Ue}]  ${z.name}:`,...X)};class he{constructor(G){this.name=G,this._logLevel=ue,this._logHandler=De,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in V))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...G),this._logHandler(this,V.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...G),this._logHandler(this,V.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,V.INFO,...G),this._logHandler(this,V.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,V.WARN,...G),this._logHandler(this,V.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...G),this._logHandler(this,V.ERROR,...G)}}function be(z){c.forEach(G=>{G.setLogLevel(z)})}function Fe(z,G){for(const X of c){let Ue=null;G&&G.level&&(Ue=P[G.level]),X.userLogHandler=null===z?null:(Le,Ce,...Je)=>{const ae=Je.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");Ce>=(Ue??Le.logLevel)&&z({level:V[Ce].toLowerCase(),message:ae,args:Je,type:Le.name})}}}},8766:(ht,Me,N)=>{N.d(Me,{Lj:()=>ke,X3:()=>it});var c=N(5861);let P,ue;const he=new WeakMap,be=new WeakMap,Fe=new WeakMap,z=new WeakMap,G=new WeakMap;let Le={get(re,me,Z){if(re instanceof IDBTransaction){if("done"===me)return be.get(re);if("objectStoreNames"===me)return re.objectStoreNames||Fe.get(re);if("store"===me)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return pe(re[me])},set:(re,me,Z)=>(re[me]=Z,!0),has:(re,me)=>re instanceof IDBTransaction&&("done"===me||"store"===me)||me in re};function ae(re){return"function"==typeof re?function Je(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function De(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...me){return re.apply(nt(this),me),pe(he.get(this))}:function(...me){return pe(re.apply(nt(this),me))}:function(me,...Z){const Q=re.call(nt(this),me,...Z);return Fe.set(Q,me.sort?me.sort():[me]),pe(Q)}}(re):(re instanceof IDBTransaction&&function Ue(re){if(be.has(re))return;const me=new Promise((Z,Q)=>{const ce=()=>{re.removeEventListener("complete",ne),re.removeEventListener("error",Re),re.removeEventListener("abort",Re)},ne=()=>{Z(),ce()},Re=()=>{Q(re.error||new DOMException("AbortError","AbortError")),ce()};re.addEventListener("complete",ne),re.addEventListener("error",Re),re.addEventListener("abort",Re)});be.set(re,me)}(re),((re,me)=>me.some(Z=>re instanceof Z))(re,function Ae(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,Le):re)}function pe(re){if(re instanceof IDBRequest)return function X(re){const me=new Promise((Z,Q)=>{const ce=()=>{re.removeEventListener("success",ne),re.removeEventListener("error",Re)},ne=()=>{Z(pe(re.result)),ce()},Re=()=>{Q(re.error),ce()};re.addEventListener("success",ne),re.addEventListener("error",Re)});return me.then(Z=>{Z instanceof IDBCursor&&he.set(Z,re)}).catch(()=>{}),G.set(me,re),me}(re);if(z.has(re))return z.get(re);const me=ae(re);return me!==re&&(z.set(re,me),G.set(me,re)),me}const nt=re=>G.get(re);function it(re,me,{blocked:Z,upgrade:Q,blocking:ce,terminated:ne}={}){const Re=indexedDB.open(re,me),Oe=pe(Re);return Q&&Re.addEventListener("upgradeneeded",ct=>{Q(pe(Re.result),ct.oldVersion,ct.newVersion,pe(Re.transaction))}),Z&&Re.addEventListener("blocked",()=>Z()),Oe.then(ct=>{ne&&ct.addEventListener("close",()=>ne()),ce&&ct.addEventListener("versionchange",()=>ce())}).catch(()=>{}),Oe}function ke(re,{blocked:me}={}){const Z=indexedDB.deleteDatabase(re);return me&&Z.addEventListener("blocked",()=>me()),pe(Z).then(()=>{})}const Ie=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],He=new Map;function ie(re,me){if(!(re instanceof IDBDatabase)||me in re||"string"!=typeof me)return;if(He.get(me))return He.get(me);const Z=me.replace(/FromIndex$/,""),Q=me!==Z,ce=ye.includes(Z);if(!(Z in(Q?IDBIndex:IDBObjectStore).prototype)||!ce&&!Ie.includes(Z))return;const ne=function(){var Re=(0,c.Z)(function*(Oe,...ct){const zt=this.transaction(Oe,ce?"readwrite":"readonly");let Ht=zt.store;return Q&&(Ht=Ht.index(ct.shift())),(yield Promise.all([Ht[Z](...ct),ce&&zt.done]))[0]});return function(ct){return Re.apply(this,arguments)}}();return He.set(me,ne),ne}!function Ce(re){Le=re(Le)}(re=>({...re,get:(me,Z,Q)=>ie(me,Z)||re.get(me,Z,Q),has:(me,Z)=>!!ie(me,Z)||re.has(me,Z)}))},5861:(ht,Me,N)=>{function c(P,ue,Ae,De,he,be,Fe){try{var z=P[be](Fe),G=z.value}catch(X){return void Ae(X)}z.done?ue(G):Promise.resolve(G).then(De,he)}function V(P){return function(){var ue=this,Ae=arguments;return new Promise(function(De,he){var be=P.apply(ue,Ae);function Fe(G){c(be,De,he,Fe,z,"next",G)}function z(G){c(be,De,he,Fe,z,"throw",G)}Fe(void 0)})}}N.d(Me,{Z:()=>V})}},ht=>{ht(ht.s=2112)}]);